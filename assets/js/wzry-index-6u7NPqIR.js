import{k as R,M as k,u as s,E as l,F as t,S as h,J as n,P as v,Q as c,X as x,r as f,c as A,y as b,O as r,T as y,W as B,H as E,I as M,L as w}from"./wzry-wzry_vue-BEC82j21.js";import{u as K}from"./wzry-wzry_vuePlugin-DfAOYnI4.js";import{aH as Y,s as G,y as I,b as P,p as $,Y as V,e as F,ad as U,bt as z,o as T,ai as N,a9 as S,ak as D,x as J}from"./wzry-index-CTpLHwAa.js";import{u as Q}from"./wzry-index.vue_vue_type_style_index_0_scoped_308049e9_lang-CBrt823u.js";import{L as W}from"./wzry-index-P8-khLHq.js";import{K as X}from"./wzry-index-B-RbYMYs.js";import"./wzry-wzry_axios-ChA_wbf5.js";import"./wzry-wzry_dayjs-RHYc_Oz-.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-BOs0bO5i.js";import"./wzry-wzry_i18n-D3aQbx8W.js";import"./wzry-wzry_vueuse-Dl7OonR3.js";import"./wzry-index-CtFj8Xvm.js";const j={class:"skin-card"},q=["src"],Z=["src"],ee={class:"bottom"},se=["innerHTML"],ae=["innerHTML"],te={class:"tool"},ne=R({__name:"index",props:{data:{}},emits:["exchange"],setup(C,{emit:u}){const o=u,p=(e,a)=>{o("exchange",e,a)};return(e,a)=>k((t(),l("div",j,[k(n("img",{class:"bg",src:e.data.posterBlur},null,8,q),[[s(G),{img:e.data.cover}]]),e.data.link?(t(),l("img",{key:0,class:"type",src:e.data.link},null,8,Z)):h("",!0),n("div",ee,[n("div",{class:"name",innerHTML:e.data.name},null,8,se),n("div",{class:"mark",innerHTML:`——${e.data.heroName}`},null,8,ae)]),n("div",te,[k((t(),v(s(I),{type:"warning",class:"k-button",onClick:a[0]||(a[0]=d=>p(d,e.data))},{default:c(()=>a[1]||(a[1]=[x(" 点击兑换 ")])),_:1,__:[1]})),[[s(P)]])])])),[[s(Y)]])}}),oe=$(ne,[["__scopeId","data-v-f5dfe74a"]]),ie={class:"skin"},re={class:"skin-main"},ce={class:"tool-bar"},le=R({name:"HonorCrystal",__name:"index",setup(C){const u=K(),o=V(),{playAudio:p}=F(),{line_num:e}=Q(5,[[2400,5],[2e3,4],[1600,3],[1400,2],[720,1]]),a=f(),d=f(!1),L=f([]),_=A(()=>L.value.filter(i=>i.type===26&&!o.skin_list.includes(i.id)));(async()=>{L.value=await z()})();const H=(i,m)=>{o.articles.HONOR_CRYSTAL>0?T({text:N("r36m",{name:`${m.heroName}-${m.name}`,prop:S.KING_CRYSTAL,count:1}),confirm(){o.setGamePropNum("HONOR_CRYSTAL",1,"SUB").then(()=>{o.addSkin(m.id,i)})}}):T({text:N("p89n",{prop:S.HONOR_CRYSTAL}),confirm(){u.push(D.SKIN_LOTTERY)}})};return b(async()=>{p("h3w0"),await J(250),d.value=!0}),(i,m)=>(t(),l("div",ie,[n("div",re,[r(y,{name:"to-bottom",appear:""},{default:c(()=>[n("div",ce,[r(s(X),{"prop-key":"HONOR_CRYSTAL",height:"3rem","margin-right":"1rem"})])]),_:1}),r(y,{name:"card-list"},{default:c(()=>[_.value.length&&d.value?(t(),v(s(W),{key:0,ref_key:"skinListRef",ref:a,gap:"1rem",count:s(e),"load-more":!1},{default:c(()=>[r(B,{name:"skin-card",appear:""},{default:c(()=>[(t(!0),l(E,null,M(_.value,(g,O)=>(t(),l("div",{key:g.id,class:"skin-card",style:w({"transition-delay":O%(s(e)*2)*.1+"s"})},[r(oe,{data:g,onExchange:H},null,8,["data"])],4))),128))]),_:1})]),_:1},8,["count"])):h("",!0)]),_:1}),_.value.length===0?(t(),v(s(U),{key:0,tip:"暂无可兑换皮肤"})):h("",!0)])]))}}),Se=$(le,[["__scopeId","data-v-87a316c6"]]);export{Se as default};
