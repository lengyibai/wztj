var Bt=Object.defineProperty;var qt=(r,s,n)=>s in r?Bt(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var Re=(r,s,n)=>qt(r,typeof s!="symbol"?s+"":s,n);import{$ as ne,k as ke,p as N,F as pe,G as Pe,b as C,H as Qe,I as gt,J as jt,M as U,s as Xt,t as ht,e as re,O as He,D as ut,R as Yt,r as Ne,A as Ce,y as Q,P as Ft,Q as Wt,h as Fe,S as Zt,U as kt,W as Je,X as Qt,Y as ze,a as we,Z as ct,K as Oe,a0 as Jt,o as Ue,C as Le,a1 as Ge,a2 as yt,a3 as dt,a4 as es,a5 as ts,a6 as Me,a7 as Ae,a8 as et,a9 as Ke,aa as Be,ab as qe,ac as ss,ad as as,ae as tt,af as _t,ag as os,ah as ns,ai as ls,aj as is,ak as rs,al as $t,am as ie,an as us,ao as bt,ap as cs,aq as ds,ar as _s,as as ps,at as vs,x as _e,au as je,g as xe,av as wt,aw as xt,ax as St,ay as Ct,az as It,aA as ms,aB as fs,aC as gs,aD as hs,aE as ks,aF as ys,u as Tt,v as $s,z as bs,E as ws}from"./wzry-index-CTpLHwAa.js";import{k as H,r as p,C as Ie,E as f,F as o,J as t,O as y,a0 as pt,X as R,T as A,Q as $,S as G,G as B,M as v,u as e,V as E,w as st,n as at,P as x,R as me,H as X,N as O,d as Vt,L as ge,W as Xe,I as se,_ as xs,$ as Te,c as ve,A as Ss,a4 as Et,h as ye,p as Ze,o as Rt,i as ot,a5 as Cs,K as Is,a1 as Ts,a6 as Vs,a2 as Es,U as Rs,v as Ms}from"./wzry-wzry_vue-BEC82j21.js";import{u as Mt,e as As,s as nt}from"./wzry-wzry_vuePlugin-DfAOYnI4.js";import{u as At}from"./wzry-wzry_vueuse-Dl7OonR3.js";import{K as fe}from"./wzry-index-CoTADSqV.js";import{K as Us}from"./wzry-index-9huEUWiI.js";import{u as Gs,a as Ds}from"./wzry-useDialogSwitch-jpZVAMt0.js";import{K as Ps,a as Ut}from"./wzry-index-BrrdO2Ct.js";import{K as Se}from"./wzry-index-B-RbYMYs.js";import{S as Gt}from"./wzry-index-CBLVWWZ_.js";import{d as Ls}from"./wzry-wzry_dayjs-RHYc_Oz-.js";import{K as Hs}from"./wzry-index-gLw2VSKK.js";import"./wzry-wzry_axios-ChA_wbf5.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-BOs0bO5i.js";import"./wzry-wzry_i18n-D3aQbx8W.js";import"./wzry-index-CtFj8Xvm.js";const Ns={mounted(r,s){const{enter:n,leave:i}=s.value;let _;r.addEventListener("mouseleave",()=>{_=setTimeout(i,500)}),r.addEventListener("mouseenter",()=>{clearTimeout(_),n()})}},zs={mounted(r,s){const n=s.value;r.innerText=`***${n.slice(Math.floor(n.length/2)-3,Math.floor(n.length/2)+3)}***`}},Os={mounted(r,s){r.onclick=()=>{const n=document.createElement("textarea");n.value=s.value,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),ne(ke.ds85)}}},Ks={mounted(r){const s=r.scrollWidth,n=r.scrollHeight,i=r.clientWidth,_=r.clientHeight;s>i?r.style.justifyContent="flex-start":r.style.justifyContent="center",n>_?r.style.alignItems="flex-start":r.style.alignItems="center"}},Bs={class:"k-hover-desc"},qs=H({__name:"index",setup(r){const s=p(),n=p(!1),i=p("left-top"),_=()=>{if(!s.value)return;const d=window.innerWidth,a=window.innerHeight,{left:l,right:c,top:u,bottom:k}=s.value.getBoundingClientRect();c<d/2&&k<a/2&&(i.value="right-bottom"),l>d/2&&k<a/2&&(i.value="left-bottom"),l>d/2&&u>a/2&&(i.value="left-top"),c<d/2&&u>a/2&&(i.value="right-top"),requestAnimationFrame(_)};return Ie(_),(d,a)=>(o(),f("div",Bs,[t("div",{ref_key:"hoverRef",ref:s,class:"hover",onMouseenter:a[0]||(a[0]=l=>n.value=!0),onMouseleave:a[1]||(a[1]=l=>n.value=!1)},[pt(d.$slots,"btn",{},()=>[a[2]||(a[2]=R("悬浮我"))],!0)],544),y(A,{name:"fade"},{default:$(()=>[n.value?(o(),f("div",{key:0,class:B(["tip",i.value])},[pt(d.$slots,"tip",{},()=>[a[3]||(a[3]=R("Hello World!"))],!0)],2)):G("",!0)]),_:3})]))}}),js=N(qs,[["__scopeId","data-v-89077c63"]]),Xs={class:"icon-box"},Ys=["src"],Fs=["data-text"],Ws=H({__name:"index",props:{propKey:{},num:{}},setup(r,{expose:s}){const n=p();return s({_el:n}),(i,_)=>v((o(),f("div",{ref_key:"propRef",ref:n,class:"k-prop"},[t("div",Xs,[t("img",{src:e(pe)(e(Pe).ICON[i.propKey]),alt:"",class:"icon"},null,8,Ys),t("div",{class:"num","data-text":i.num},E(i.num),9,Fs)])])),[[e(C),{type:"TIP",text:e(Pe).DESC[i.propKey]}]])}}),Ye=N(Ws,[["__scopeId","data-v-4bdad575"]]),Zs={mounted(r){const s={isDragging:!1,startX:0,startY:0,left:0,top:0},n=r.style.transitionDuration,i=a=>{r.style.transitionDuration="0s",s.isDragging=!0,a instanceof MouseEvent?(s.startX=a.pageX,s.startY=a.pageY):a instanceof TouchEvent&&(s.startX=a.touches[0].pageX,s.startY=a.touches[0].pageY),s.left=r.offsetLeft,s.top=r.offsetTop,r.addEventListener("touchmove",r._mouseMove),r.addEventListener("mousemove",r._mouseMove),r.addEventListener("mouseup",r._mouseUp),r.addEventListener("touchend",r._mouseUp)},_=a=>{if(!s.isDragging)return;let l,c;a instanceof MouseEvent?(l=a.pageX-s.startX,c=a.pageY-s.startY):a instanceof TouchEvent?(l=a.touches[0].pageX-s.startX,c=a.touches[0].pageY-s.startY):(l=0,c=0);const u=s.left+l,k=s.top+c,b=innerWidth,w=innerHeight,S=b-r.offsetWidth,V=w-r.offsetHeight,P=Math.max(0,Math.min(S,u)),D=Math.max(0,Math.min(V,k));r.style.left=`${P}px`,r.style.top=`${D}px`},d=()=>{r.style.transitionDuration=n,s.isDragging=!1};r._mouseDown=i,r._mouseMove=_,r._mouseUp=d,r.addEventListener("mousedown",r._mouseDown),r.addEventListener("touchstart",r._mouseDown)},unmounted(r){r.removeEventListener("mousedown",r._mouseDown),r.removeEventListener("mousemove",r._mouseMove),r.removeEventListener("mouseup",r._mouseUp),r.removeEventListener("touchstart",r._mouseDown),r.removeEventListener("touchmove",r._mouseMove),r.removeEventListener("touchend",r._mouseUp)}},Qs={class:"hero-info"},Js=["src"],ea={class:"info"},ta={class:"hero-name"},sa={class:"skin-name"},aa={class:"voice-text"},oa=["src"],na=H({__name:"index",setup(r){const s=p(),n=p(),{barrages:i,getBarrages:_,barrage_info:d,init:a,show_card:l}=Qe(),c=(u,k,b)=>{ht({parent:u.target,type:"DEFAULT",bigImage:b,blurImage:k}),l.value=!1};return st(()=>i.value,u=>{u.length>0&&at(()=>{!s.value||!n.value||a(gt(jt(u)),s.value,n.value)})}),setTimeout(()=>{_()},3e3),(u,k)=>(o(),f("div",{ref_key:"barragesRef",ref:s,class:"barrage-main"},[(o(),x(me,{to:"body"},[y(A,{name:"fade"},{default:$(()=>{var b;return[v((o(),f("div",{ref_key:"barrageInfoRef",ref:n,class:"barrage-info"},[e(d)?(o(),f(X,{key:0},[v(t("i",{class:"iconfont wzry-guanbi",onClick:k[0]||(k[0]=w=>l.value=!1)},null,512),[[e(C),{text:e(U).sj91}]]),t("div",Qs,[t("img",{src:(b=e(d))==null?void 0:b.avatar,alt:"",class:"head-img"},null,8,Js),t("div",ea,[t("div",ta,E(e(d).heroName),1),t("div",sa,E(e(d).skinName),1)])]),t("div",aa,"——"+E(e(d).voiceText),1),v(t("img",{src:e(d).skinBlurPoster,alt:"",class:"skin-poster",onClick:k[1]||(k[1]=w=>c(w,e(d).skinBlurPoster,e(d).skinBigPoster))},null,8,oa),[[e(Xt),{img:e(d).skinPoster}],[e(C),{text:e(U).o12u}]])],64)):G("",!0)])),[[O,e(l)],[e(Zs)],[e(C),{text:e(U).wj32}]])]}),_:1})]))],512))}}),la=N(na,[["__scopeId","data-v-31ab2bc4"]]),ia={class:"name"},ra=H({__name:"index",props:{route:{}},setup(r){const s=r,n=Mt(),i=As(),{playAudio:_}=re(),{collapse:d,setCollapse:a}=He(),l=p(),c=p(!1),u=Vt([]);st(()=>i.path,()=>{c.value=i.path.includes(s.route.path),c.value&&s.route.children&&u.length===0?u.push(...s.route.children):c.value||(u.length=0)},{immediate:!0});const k=()=>{if(c.value=!c.value,s.route.children)c.value?u.push(...s.route.children):u.length=0;else{n.push(s.route.path),window.innerWidth<640&&a(!0);return}_()};return(b,w)=>b.route?(o(),f("div",{key:0,class:B(["menu",{collapse:e(d)}])},[v((o(),f("div",{ref_key:"menuItemRef",ref:l,class:B(["menu-item",{active:b.route.path===e(i).path}]),style:ge(`padding-left: ${.5*s.route.zIndex}em !important;`),onClick:k},[t("i",{class:B(["iconfont",b.route.meta.icon])},null,2),t("span",ia,E(b.$t(b.route.title)),1),b.route.children?(o(),f("div",{key:0,class:B(["arrow",{"arrow-active":c.value}])},null,2)):G("",!0)],6)),[[e(C),{text:"菜单："+b.route.title}]]),b.route.children?(o(),x(Xe,{key:0,name:"menu-list",appear:""},{default:$(()=>[(o(!0),f(X,null,se(u,(S,V)=>(o(),x(Dt,{key:S.path,route:S,style:ge({transitionDelay:(u.length-V)*.05+"s"})},null,8,["route","style"]))),128))]),_:1})):G("",!0)],2)):G("",!0)}}),Dt=N(ra,[["__scopeId","data-v-9f1e8bd0"]]),ua={class:"logo-3d"},ca={class:"logo-box"},da=["src"],_a=["src"],pa=H({__name:"index",setup(r){return(s,n)=>(o(),f("div",ua,[t("div",ca,[(o(),f(X,null,se(3,(i,_)=>t("div",{key:_,class:B(["logo",`logo-${i}`])},[t("img",{src:e(ut)("logo_inside"),alt:"",class:"inside"},null,8,da),t("img",{src:e(ut)("logo_outside"),alt:"",class:"outside"},null,8,_a)],2)),64))])]))}}),va=N(pa,[["__scopeId","data-v-7433c184"]]),ma={key:"logo"},fa=!0,ga=H({__name:"index",setup(r){const{collapse:s}=He(),n=()=>{setTimeout(()=>{confirm("确认清除本地数据重新下载并刷新页面？")&&(localStorage.clear(),location.reload())},2e3)},i=()=>{location.reload()};return(_,d)=>(o(),f("div",{class:"game-logo",onTouchstart:n,onTouchend:i},[y(Xe,{name:"fade-a"},{default:$(()=>[t("div",ma,[fa?(o(),x(va,{key:"logo"})):G("",!0)]),v(t("span",{key:"text"},E(_.$t("王者图鉴")),513),[[O,!e(s)]])]),_:1})],32))}}),ha=N(ga,[["__scopeId","data-v-2f8dc22b"]]),ka=r=>{const s=[],n=(i,_)=>{const d=[];return i&&i[0].path?(i.forEach(a=>{let l=_;d.push({path:a.path,title:a.meta&&a.meta.title,children:n(a.children,++l),meta:a.meta,zIndex:l})}),d):null};return r.forEach(i=>{var _;!i.meta||(_=i==null?void 0:i.meta)!=null&&_.hidden||s.push({path:i.path,title:i.meta.title,meta:i.meta,children:n(i.children,1),zIndex:1})}),s},We=p(!1),$e=()=>({...{hide_all:We},...{setHideStatus(n){n?We.value=n:setTimeout(()=>{We.value=n},500)}}}),ya={class:"side-bar-list"},$a=H({__name:"index",setup(r){const s=Yt(),{collapse:n}=He(),{hide_all:i}=$e(),_=s.routes,d=ka(_);return(a,l)=>(o(),x(A,{name:"to-right",appear:""},{default:$(()=>[v(t("div",{class:B(["side-bar",{collapse:e(n)}])},[y(ha),v((o(),f("div",ya,[(o(!0),f(X,null,se(e(d),c=>(o(),x(Dt,{key:c.path,height:"4rem",route:c},null,8,["route"]))),128))])),[[e(Ne)]])],2),[[O,!e(i)]])]),_:1}))}}),ba=N($a,[["__scopeId","data-v-500bcb0a"]]),wa=H({__name:"index",setup(r){const{playAudio:s}=re(),{collapse:n,toggleCollapse:i}=He(),_=()=>{s("d5e2"),i()};return(d,a)=>v((o(),f("i",{class:B(["iconfont wzry-packup",{"is-active":!e(n)}]),onClick:_},null,2)),[[e(C),{text:e(U).i6u1}]])}}),xa=N(wa,[["__scopeId","data-v-655449fb"]]),Sa={class:"edit-user-info"},Ca={class:"option avatar-select"},Ia={class:"avatar-box"},Ta=["src"],Va={class:"select-btn"},Ea={for:"file"},Ra={class:"option"},Ma={class:"label"},Aa={class:"option"},Ua={class:"label"},Ga={class:"option"},Da={class:"label"},Pa=H({__name:"index",props:{status:{type:Boolean,required:!0},statusModifiers:{}},emits:xs(["close"],["update:status"]),setup(r,{emit:s}){const n=s,i=Te(r,"status"),_=Ce(),{avatar:d,username:a,password:l,secondaryPassword:c}=_.user_data,u=Vt({avatar:d,username:a,password:l,secondaryPassword:c}),k=I=>{Ft(I,m=>{u.avatar=m})},b=()=>{Wt(I=>{u.avatar=I})},w=()=>{Fe({title:"修改昵称",placeholder:"请输入新昵称",value:u.username,confirm:(I,m)=>{u.username=I,m()}})},S=()=>{Fe({title:"修改密码",placeholder:"请输入新密码",value:u.password,confirm:(I,m)=>{if(I===u.secondaryPassword){ne(ke.f1q2,"error");return}u.password=I,m()}})},V=()=>{Fe({title:"修改二级密码",placeholder:"请输入新二级密码",value:u.secondaryPassword,confirm:(I,m)=>{if(I===u.password){ne(ke.w89h,"error");return}u.secondaryPassword=I,m()}})},P=ve(()=>u.avatar!==_.user_data.avatar||u.username!==_.user_data.username||u.password!==_.user_data.password||u.secondaryPassword!==_.user_data.secondaryPassword),D=()=>{_.updateUserData(u),ne(ke.l23d),n("close")};return Ss(()=>{i.value=P.value}),(I,m)=>(o(),f(X,null,[v((o(),f("div",Sa,[t("div",Ca,[v(t("input",{id:"file",type:"file",accept:"png,jpg,jpeg",onChange:k},null,544),[[O,!1]]),t("div",Ia,[u.avatar?(o(),f("img",{key:0,src:u.avatar,alt:"",class:"avatar"},null,8,Ta)):G("",!0)]),t("div",Va,[t("label",Ea,[v((o(),x(Q,{class:"k-button"},{default:$(()=>m[0]||(m[0]=[R(" 自定义头像 ")])),_:1,__:[0]})),[[e(C),{text:e(U).ix29}]])]),v((o(),x(Q,{class:"k-button",onClick:b},{default:$(()=>m[1]||(m[1]=[R(" 选择内置头像 ")])),_:1,__:[1]})),[[e(C),{text:e(U).lb97}]])])]),t("div",Ra,[t("div",Ma,E(u.username),1),v((o(),x(Q,{onClick:w},{default:$(()=>m[2]||(m[2]=[R("修改昵称")])),_:1,__:[2]})),[[e(C)]])]),t("div",Aa,[t("div",Ua,E(u.password.replace(/./g,"*")),1),v((o(),x(Q,{class:"k-button",onClick:S},{default:$(()=>m[3]||(m[3]=[R("修改密码")])),_:1,__:[3]})),[[e(C)]])]),t("div",Ga,[t("div",Da,E(u.secondaryPassword.replace(/./g,"*")),1),v((o(),x(Q,{class:"k-button",onClick:V},{default:$(()=>m[4]||(m[4]=[R("修改二级密码")])),_:1,__:[4]})),[[e(C)]])])])),[[e(Ne)]]),v((o(),x(Q,{type:"warning",onClick:D},{default:$(()=>m[5]||(m[5]=[R(" 保存 ")])),_:1,__:[5]})),[[e(C),{text:P.value?e(U).ty38:e(U).sq28}]])],64))}}),La=N(Pa,[["__scopeId","data-v-c62c6550"]]),Ha={key:0,class:"user-marker"},Na={class:"marker-list"},za={class:"title"},Oa={class:"card-list"},Ka=["src"],Ba={class:"label"},qa={class:"value"},ja=H({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const s=Te(r,"modelValue"),n=Zt(),{marker_num_list:i}=nt(n),_=[{title:"访问时间",marker_list:[{label:"登录天数",key:"tg73"},{label:"在线时长",key:"mc93"}]},{title:"夺宝消耗",marker_list:[{label:"英雄夺宝石",key:"ku27"},{label:"皮肤夺宝石",key:"i87h"},{label:"英雄夺宝币",key:"g45c"},{label:"皮肤夺宝币",key:"al38"},{label:"英雄夺宝次数",key:"d24r"},{label:"皮肤夺宝次数",key:"y8b2"}]},{title:"秘宝消耗",marker_list:[{label:"英雄夺宝",key:"d24r"},{label:"皮肤夺宝",key:"y8b2"},{label:"英雄秘宝",key:"kj05"},{label:"勇者皮肤秘宝",key:"aw51"},{label:"史诗皮肤秘宝",key:"ez16"},{label:"传说皮肤秘宝",key:"cz62"},{label:"限定皮肤秘宝",key:"cs01"}]},{title:"宝箱消耗",marker_list:[{label:"随机英雄",key:"er08"},{label:"自选英雄",key:"q65b"},{label:"自选勇者皮肤",key:"k4f6"},{label:"自选史诗皮肤",key:"yq53"},{label:"自选传说皮肤",key:"ag35"},{label:"自选限定皮肤",key:"cj13"}]},{title:"竞猜消耗",marker_list:[{label:"竞猜币",key:"pa16"},{label:"竞猜券",key:"j7m4"},{label:"海报竞猜次数",key:"ks52"},{label:"海报竞猜答错次数",key:"v87u"},{label:"技能竞猜次数",key:"ht88"},{label:"技能竞猜答错次数",key:"ff88"}]},{title:"道具消耗",marker_list:[{label:"金币",key:"h3t4"},{label:"钻石",key:"cq65"},{label:"英雄碎片",key:"vu33"},{label:"皮肤碎片",key:"i0k4"},{label:"王者水晶",key:"rj89"},{label:"荣耀水晶",key:"q9y1"},{label:"一级经验宝箱",key:"iu48"},{label:"二级经验宝箱",key:"nn05"},{label:"英雄夺宝周卡",key:"er27"},{label:"皮肤夺宝周卡",key:"ml55"},{label:"双倍经验卡",key:"e13s"},{label:"双倍金币卡",key:"c8k7"},{label:"伴生皮肤卡",key:"mh01"}]}];return(d,a)=>(o(),x(me,{to:"body"},[y(A,{name:"to-top-opacity",appear:""},{default:$(()=>[s.value?(o(),f("div",Ha,[v(t("div",{class:"close",onClick:a[0]||(a[0]=l=>s.value=!1)},null,512),[[e(C),{text:e(U).mk66}]]),t("div",Na,[(o(),f(X,null,se(_,(l,c)=>(o(),f(X,{key:c},[t("div",za,E(l.title),1),t("div",Oa,[(o(!0),f(X,null,se(l.marker_list,(u,k)=>{var b,w;return o(),f("div",{key:k,class:"card-item"},[t("img",{src:e(kt)(`mini_hero_${e(Je)(1,50)}`),alt:"",class:"bg"},null,8,Ka),t("div",Ba,E(u.label),1),t("div",qa,E(u.key==="mc93"?e(Qt)(((b=e(i)[u.key])==null?void 0:b.value)||0):(w=e(i)[u.key])==null?void 0:w.value),1)])}),128))])],64))),64))])])):G("",!0)]),_:1})]))}}),Xa=N(ja,[["__scopeId","data-v-4e9996f7"]]),Ya=["src"],Fa={class:"user-card"},Wa={class:"name"},Za={class:"user-id"},Qa={class:"id"},Ja={class:"iconfont wzry-fuzhi"},eo={key:0,class:"prop-num"},to={class:"prop-item"},so=["src"],ao={class:"num"},oo={class:"prop-item"},no=["src"],lo={class:"num"},io={class:"btns"},ro={class:"edit-user-info-dialog"},uo=H({__name:"index",setup(r){const s=Ce(),n=ze(),{articles:i}=nt(n),_=At("(max-width: 750px)"),d=p(),a=p(!1),l=p(!1),c=p(!1),u=p(!1),k=ve(()=>s.user_data),b=()=>{a.value=!0},w=()=>{a.value=!1},S=()=>{s.setSecondaryPassword().then(()=>{l.value=!0})},V=()=>{Jt(k.value),Ue({text:Le.wd31,confirm(){s.exitCard()}})},P=()=>{u.value&&Ue({text:Le.ah95,confirm(){d.value._close()}})};return(D,I)=>(o(),f(X,null,[v((o(),f("div",{class:B(["user-menu",{hover:a.value}])},[t("img",{class:"head-img",src:k.value.avatar||e(we)("unknown"),alt:"头像",onTouchend:I[0]||(I[0]=m=>a.value=!a.value)},null,40,Ya),t("div",Fa,[t("div",Wa,E(k.value.username),1),t("div",Za,[v(t("div",Qa,null,512),[[e(zs),k.value.id]]),v(t("i",Ja,null,512),[[e(Os),k.value.id],[e(C),{text:e(U).lr80}]])]),e(_)?(o(),f("div",eo,[t("div",to,[t("img",{class:"icon",src:e(pe)("gold"),alt:""},null,8,so),t("div",ao,E(e(ct)(e(i).GOLD)),1)]),t("div",oo,[t("img",{class:"icon",src:e(pe)("diamond"),alt:""},null,8,no),t("div",lo,E(e(ct)(e(i).DIAMOND)),1)])])):G("",!0),t("div",io,[v((o(),x(e(Q),{class:"k-button",onClick:I[1]||(I[1]=m=>c.value=!0)},{default:$(()=>I[5]||(I[5]=[R(" 个人信息统计 ")])),_:1,__:[5]})),[[e(C),{text:e(U).kq36}]]),v((o(),x(e(Q),{type:"warning",class:"k-button",onClick:S},{default:$(()=>I[6]||(I[6]=[R(" 修改个人资料 ")])),_:1,__:[6]})),[[e(C),{text:e(U).c3x1}]]),v((o(),x(e(Q),{class:"k-button",type:"error",onClick:V},{default:$(()=>I[7]||(I[7]=[R(" 退卡 ")])),_:1,__:[7]})),[[e(C),{text:e(U).dz56}]])])])],2)),[[e(Ns),{enter:b,leave:w}]]),(o(),x(me,{to:"body"},[l.value?(o(),x(e(Oe),{key:0,ref_key:"dialogRef",ref:d,modelValue:l.value,"onUpdate:modelValue":I[3]||(I[3]=m=>l.value=m),"auto-close":!u.value,title:"编辑个人信息",width:"57.5rem",ratio:.75,up:"",onClose:P},{default:$(()=>[t("div",ro,[d.value?(o(),x(La,{key:0,status:u.value,"onUpdate:status":I[2]||(I[2]=m=>u.value=m),onClose:d.value._close},null,8,["status","onClose"])):G("",!0)])]),_:1},8,["modelValue","auto-close"])):G("",!0)])),y(Xa,{modelValue:c.value,"onUpdate:modelValue":I[4]||(I[4]=m=>c.value=m)},null,8,["modelValue"])],64))}}),co=N(uo,[["__scopeId","data-v-e10cd496"]]),_o={class:"setting"},po={class:"options"},vo={class:"option"},mo={class:"label"},fo={class:"option"},go={class:"label"},ho={class:"option"},ko={class:"label"},yo={class:"option"},$o={class:"label"},bo={class:"option"},wo={class:"label"},xo={class:"option"},So={class:"label"},Co={class:"option"},Io={class:"label"},To={class:"option"},Vo={class:"label"},Eo={class:"option"},Ro={class:"label"},Mo={class:"option"},Ao={class:"label"},Uo=H({__name:"index",setup(r){const s=Ge(),n=yt(),{setAudioSwitch:i,setAudioVolume:_}=re(),{setBarrage:d}=Qe(),a=p({...n.config}),l=m=>{es(m),D()},c=m=>{D(),m?setTimeout(()=>{s.play(!1)},1e3):s.pause()},u=m=>{s.setVolume(m),D()},k=m=>{d(m),D()},b=m=>{i(m),D()},w=m=>{_(m),D()},S=m=>{ts().setShine(m),D()},V=m=>{!m&&Me({text:Ae.qk36}),D(),m&&Me({text:Ae.hg86})},P=()=>{Me({btnText:"立刻刷新",text:Ae.sm04,btnFn(){n.restoreTip(),location.reload()}})},D=()=>{n.saveConfig(a.value)},I=()=>{Ue({text:Le.i8p8,confirm(){n.resetConfig(),ne(ke.j5l7),a.value=n.config}})};return(m,h)=>(o(),x(e(Oe),Et(m.$attrs,{title:"设置",width:"57.5rem",up:""}),{default:$(()=>[t("div",_o,[v((o(),f("div",po,[t("div",vo,[t("div",mo,E(m.$t("语言")),1),v(y(e(Us),{modelValue:a.value.language,"onUpdate:modelValue":[h[0]||(h[0]=g=>a.value.language=g),l],width:"7rem",option:["中文","English"]},null,8,["modelValue"]),[[e(C),{text:e(U).v41b}]])]),t("div",fo,[t("div",go,E(m.$t("音效")),1),y(e(dt),{modelValue:a.value.audioVolume,"onUpdate:modelValue":[h[1]||(h[1]=g=>a.value.audioVolume=g),w],text:a.value.audioVolume+"%",disabled:!a.value.audio,"show-step":!1,"max-width":"100%",width:"45%"},null,8,["modelValue","text","disabled"]),v(y(e(fe),{modelValue:a.value.audio,"onUpdate:modelValue":[h[2]||(h[2]=g=>a.value.audio=g),b]},null,8,["modelValue"]),[[e(C)]])]),t("div",ho,[t("div",ko,E(m.$t("音乐")),1),y(e(dt),{modelValue:a.value.musicVolume,"onUpdate:modelValue":[h[3]||(h[3]=g=>a.value.musicVolume=g),u],text:a.value.musicVolume+"%",disabled:!a.value.music,"max-width":"100%",width:"45%","show-step":!1},null,8,["modelValue","text","disabled"]),v(y(e(fe),{modelValue:a.value.music,"onUpdate:modelValue":[h[4]||(h[4]=g=>a.value.music=g),c]},null,8,["modelValue"]),[[e(C)]])]),t("div",yo,[t("div",$o,E(m.$t("弹幕语音")),1),v(y(e(fe),{modelValue:a.value.barrage,"onUpdate:modelValue":[h[5]||(h[5]=g=>a.value.barrage=g),k]},null,8,["modelValue"]),[[e(C),{text:e(U).i7w1}]])]),t("div",bo,[t("div",wo,E(m.$t("夺宝动画")),1),v(y(e(fe),{modelValue:a.value.lotteryAnimation,"onUpdate:modelValue":[h[6]||(h[6]=g=>a.value.lotteryAnimation=g),D]},null,8,["modelValue"]),[[e(C),{text:e(U).fc15}]])]),t("div",xo,[t("div",So,E(m.$t("音乐进度控制")),1),v(y(e(fe),{modelValue:a.value.musicProgress,"onUpdate:modelValue":[h[7]||(h[7]=g=>a.value.musicProgress=g),D]},null,8,["modelValue"]),[[e(C),{text:e(U).pd85}]])]),t("div",Co,[t("div",Io,E(m.$t("元素发光")),1),v(y(e(fe),{modelValue:a.value.shine,"onUpdate:modelValue":[h[8]||(h[8]=g=>a.value.shine=g),S]},null,8,["modelValue"]),[[e(C),{text:e(U).ph01}]])]),t("div",To,[t("div",Vo,E(m.$t("粒子特效")),1),v(y(e(fe),{modelValue:a.value.particle,"onUpdate:modelValue":[h[9]||(h[9]=g=>a.value.particle=g),D]},null,8,["modelValue"]),[[e(C),{text:e(U).ph48}]])]),t("div",Eo,[t("div",Ro,E(m.$t("小贴士")),1),v(y(e(fe),{modelValue:a.value.tip,"onUpdate:modelValue":[h[10]||(h[10]=g=>a.value.tip=g),V]},null,8,["modelValue"]),[[e(C),{text:e(U).po14}]])]),t("div",Mo,[t("div",Ao,E(m.$t("恢复所有小贴士")),1),v((o(),x(e(Q),{disabled:!a.value.tip,class:"k-button",onClick:P},{default:$(()=>[R(E(m.$t("恢复")),1)]),_:1},8,["disabled"])),[[e(C),{text:a.value.tip?e(U).k5j1:e(U).jb12,disabled:!a.value.tip}]])])])),[[e(Ne)]]),v((o(),x(e(Q),{type:"error",onClick:I},{default:$(()=>[R(E(m.$t("重置配置")),1)]),_:1})),[[e(C)]])])]),_:1},16))}}),Go=N(Uo,[["__scopeId","data-v-8ed61897"]]),Do={class:"mail-detail"},Po={class:"title"},Lo={class:"value"},Ho={class:"content"},No={class:"value"},zo={class:"reward"},Oo={class:"prop-list"},Ko=H({__name:"index",props:{mail:{}},setup(r){const s=et(),{playAudio:n}=re(),i=p(),_=a=>{Ue({text:Le.vj93,async confirm(){var l;(l=i.value)==null||l._close(),s.delMail(a),n("kh79")}})},d=a=>{var c;const l=a.props.map(({num:u,key:k})=>({name:Ke[k],num:u,key:k,icon:pe(Be[k])}));qe(l),(c=i.value)==null||c._close(),s.delMail(a.id)};return(a,l)=>(o(),x(e(Oe),{ref_key:"KDialogRef",ref:i,title:"邮件详情",width:"57.5rem",up:"",ratio:.65},{default:$(()=>[t("div",Do,[t("div",Po,[l[2]||(l[2]=t("div",{class:"label"},"标题",-1)),t("div",Lo,E(a.mail.title),1)]),t("div",Ho,[l[3]||(l[3]=t("div",{class:"label"},"内容",-1)),t("div",No,E(a.mail.desc),1)]),t("div",zo,[v((o(),f("div",Oo,[(o(!0),f(X,null,se(a.mail.props,(c,u)=>(o(),x(e(Ye),{key:u,"prop-key":c.key,num:c.num},null,8,["prop-key","num"]))),128))])),[[e(Ks)]]),a.mail.type==="GIFT"?v((o(),x(e(Q),{key:0,type:"warning",class:"k-button",onClick:l[0]||(l[0]=c=>d(a.mail))},{default:$(()=>l[4]||(l[4]=[R(" 领取 ")])),_:1,__:[4]})),[[e(C)]]):(o(),x(e(Q),{key:1,type:"error",class:"k-button",onClick:l[1]||(l[1]=c=>_(a.mail.id))},{default:$(()=>l[5]||(l[5]=[R("删除")])),_:1,__:[5]}))])])]),_:1},512))}}),Bo=N(Ko,[["__scopeId","data-v-32c16221"]]),qo={class:"mail"},jo=["onClick"],Xo={class:"left"},Yo=["src"],Fo=["src"],Wo={class:"title"},Zo={class:"time"},Qo=H({__name:"index",setup(r){const s=et(),{mail_list:n}=nt(s),i=p(),_=p(),d=p(!1),a=p(),{enableRadialBorder:l,disableRadialBorder:c}=Gs(i),u=b=>{a.value=b,d.value=!0,s.setMailRead(b.id)},k=()=>{const b={};n.value.forEach(S=>{var V;(V=S.props)==null||V.forEach(({key:P,num:D})=>{b[P]??(b[P]=0),b[P]+=D||1})});const w=[];for(const S in b){const V=S;w.push({name:Ke[V],key:V,num:b[V],icon:pe(Be[V])})}qe(w),s.delGiftMail()};return(b,w)=>(o(),f(X,null,[y(e(Oe),Et(b.$attrs,{ref_key:"KDialogRef",ref:_,title:"邮箱",width:"50rem",ratio:.75}),{default:$(()=>[t("div",qo,[v((o(),f("div",{class:"mail-list",onMouseenter:w[0]||(w[0]=(...S)=>e(l)&&e(l)(...S)),onMouseleave:w[1]||(w[1]=(...S)=>e(c)&&e(c)(...S))},[(o(!0),f(X,null,se(e(n),(S,V)=>v((o(),f("div",{key:V,ref_for:!0,ref_key:"mailCardRefs",ref:i,class:"mail-item",onClick:P=>u(S)},[t("div",Xo,[S.type==="GIFT"?(o(),f("img",{key:0,class:"status",src:e(we)(`${S.read?"mail_gift_read":"mail_gift_unread"}`),alt:""},null,8,Yo)):G("",!0),S.type==="MSG"?(o(),f("img",{key:1,class:"status",src:e(we)(`${S.read?"mail_msg_read":"mail_msg_unread"}`),alt:""},null,8,Fo)):G("",!0),t("div",Wo,E(S.title),1)]),t("div",Zo,E(e(ss)(S.time)),1)],8,jo)),[[e(C)]])),128)),e(n).length===0?(o(),x(e(as),{key:0,tip:"你还没有邮件",y:"-1.25rem"})):G("",!0)],32)),[[e(Ne)]]),e(n).some(S=>S.type==="GIFT")?v((o(),x(e(Q),{key:0,type:"warning",onClick:k},{default:$(()=>w[3]||(w[3]=[R(" 一键领取 ")])),_:1,__:[3]})),[[e(C),{text:e(U).q1s7}]]):G("",!0)])]),_:1},16),d.value?(o(),x(Bo,{key:0,modelValue:d.value,"onUpdate:modelValue":w[2]||(w[2]=S=>d.value=S),mail:a.value},null,8,["modelValue","mail"])):G("",!0)],64))}}),Jo=N(Qo,[["__scopeId","data-v-4adb9ed3"]]),en={class:"left"},tn={class:"info"},sn={class:"title"},an={class:"desc"},on={class:"right"},nn={class:"props"},ln={class:"schedule-status"},rn={key:0,class:"received"},un={key:1,class:"schedule-btn"},cn={class:"schedule-box"},dn={class:"content"},_n={class:"percentage"},pn={class:"value"},vn={class:"schedule-list"},mn={class:"index"},fn=H({__name:"index",props:{data:{},index:{}},setup(r){const s=r,n=Mt(),i=tt(),_=ye("close-task",()=>{}),d=s.index,a=ve(()=>{const c=_t(s.data.schedule,"total"),u=_t(s.data.schedule,"value");return u===0?0:os([u,c,100],["/","*"],0)}),l=c=>{c.schedule.every(u=>u.value>=u.total)?i.receiveTaskReward(c.id):(_(),n.push(c.path))};return(c,u)=>(o(),f("div",{class:B(["task-card",{active:!c.data.receive&&a.value>=100}])},[t("div",en,[t("div",{class:"icon",style:ge({animationDelay:`-${e(d)*.37}s`,backgroundImage:`url(${e(kt)("mini_hero_"+e(d))})`})},null,4),t("div",tn,[t("div",sn,E(c.data.label),1),t("div",an,E(c.data.desc),1)])]),t("div",on,[t("div",nn,[(o(!0),f(X,null,se(c.data.props,(k,b)=>(o(),x(e(Ye),{key:b,"prop-key":k.key,num:k.num},null,8,["prop-key","num"]))),128))]),t("div",ln,[c.data.receive?(o(),f("div",rn,u[1]||(u[1]=[t("i",{class:"iconfont wzry-finish"},null,-1),t("span",null,"已领取",-1)]))):(o(),f("div",un,[t("div",cn,[u[4]||(u[4]=t("div",{class:"label"},"进度：",-1)),t("div",dn,[t("div",_n,[t("span",pn,E(a.value),1),u[2]||(u[2]=t("span",null,"%",-1))]),y(e(js),null,{btn:$(()=>[y(e(Ps),{top:"-0.2rem",size:"1.25rem","margin-left":"1rem"},{default:$(()=>u[3]||(u[3]=[R("!")])),_:1,__:[3]})]),tip:$(()=>[t("div",vn,[(o(!0),f(X,null,se(c.data.schedule,(k,b)=>(o(),f("div",{key:b,class:"box"},[t("span",null,E(k.label)+E(k.unit)+"：",1),t("span",mn,E(k.value),1),t("span",null,"/"+E(k.total),1)]))),128))])]),_:1})])]),c.data.path||a.value>=100?v((o(),f("div",{key:0,class:B([{receive:a.value>=100},"btn"]),onClick:u[0]||(u[0]=k=>l(c.data))},[R(E(a.value<100?"前往":"领取"),1)],2)),[[e(C)]]):G("",!0)]))])])],2))}}),gn=N(fn,[["__scopeId","data-v-3a592b5f"]]),hn=H({__name:"index",props:{tabIndex:{}},setup(r){const s=r,n=tt(),i=p([]),_=ve(()=>[n.today_task_list,n.week_task_list]),d=[];for(let a=1;a<51;a++)d.push(a);return st(()=>s.tabIndex,()=>{i.value=gt(d)},{immediate:!0}),(a,l)=>(o(!0),f(X,null,se(_.value[a.tabIndex],(c,u)=>(o(),x(gn,{key:c.id,data:c,index:i.value[u]},null,8,["data","index"]))),128))}}),kn={class:"task"},yn={class:"tool-bar"},$n=H({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const s=Te(r,"modelValue"),{playAudio:n}=re(),{setHideStatus:i}=$e(),_=["今日任务","本周任务"],d=p(),a=p(0),l=p(!0),c=k=>{a.value=k,d.value.scrollTop=0},u=()=>{l.value=!1,i(!1),n("p60v"),setTimeout(()=>{s.value=!1},500)};return Ie(()=>{n("kj62")}),Ze("close-task",u),(k,b)=>(o(),x(me,{to:"body"},[t("div",kn,[y(A,{name:"close",appear:""},{default:$(()=>[v(t("div",{class:"close",onClick:u},null,512),[[O,l.value],[e(C),{text:e(U).mk66}]])]),_:1}),y(A,{name:"tool",appear:""},{default:$(()=>[v(t("div",yn,[y(e(ns),{modelValue:a.value,"onUpdate:modelValue":[b[0]||(b[0]=w=>a.value=w),c],auto:!1,"title-width":"9.375rem",options:_},null,8,["modelValue"])],512),[[O,l.value]])]),_:1}),y(A,{name:"main",appear:""},{default:$(()=>[v(t("div",{ref_key:"taskMainRef",ref:d,class:"task-main"},[y(hn,{"tab-index":a.value},null,8,["tab-index"])],512),[[O,l.value]])]),_:1})])]))}}),bn=N($n,[["__scopeId","data-v-a595fe88"]]);class Pt{constructor(s,n){Re(this,"animationStyle",[]);Re(this,"animationMap",new Map);Re(this,"scrollBox");Re(this,"playground");this.scrollBox=s,this.playground=n,s.addEventListener("scroll",i=>{const _=i.target;this.updateStyle(_.scrollTop)})}createAnimation(s,n,i,_){return d=>{if(d<=s)return i;if(d>=n)return _;const a=i+(_-i)*(d-s)/(n-s);return Number(a.toFixed(6))}}addAnimationStyle(s,n){this.animationStyle.push([s,n])}updateMap(){this.animationMap.clear();const s=this.playground.getBoundingClientRect(),n=s.top+window.scrollY,i=s.bottom+window.scrollY-window.innerHeight;for(const[_,d]of this.animationStyle)this.animationMap.set(_,d(n,i));this.updateStyle(this.scrollBox.scrollTop)}updateStyle(s){for(const[n,i]of this.animationMap)for(const _ in i)n.style[_]=i[_](s)}}const Ve=(r,s)=>{const n=is;return ze().articles.GUESS_CARD===0?(Ue({text:ls("p89n",{prop:"竞猜券"}),async confirm(){s&&await s(),r(),setTimeout(()=>{n.push(rs.PROP_SHOP)},1e3)},cancel:s}),!0):!1},Lt={hide_activity_part:p(!1)},{hide_activity_part:vt}=Lt,De=()=>({...Lt,...{setHideActivityPart(s){vt.value=s}}}),Ht={hide_poster_guess_part:p(!1)},{hide_poster_guess_part:mt}=Ht,Nt=()=>({...Ht,...{setHidePosterGuessPart(s){s?mt.value=s:setTimeout(()=>{mt.value=s},500)}}}),wn=(r,s)=>{const n=ze(),i=Ce(),{addStatusMarkerNum:_}=$t(),{playAudio:d}=re();let a=0,l=0,c=!1,u=20,k=[],b={},w={},S={},V={},P={},D=[],I=[];const m={answer:p(""),poster:p(""),right_answer:p(""),status_text:p(""),guess_coin:p(ie[1]),guess_count:p(0),guessing:p(!1),reveal:p(!1),loading:p(!1),show_receive:p(!1),show_status:p(!1),running:p(!1),answer_status:p(0),countdown:p(["2","0"])},{answer_status:h,answer:g,countdown:T,loading:M,poster:L,reveal:z,right_answer:q,running:Y,show_receive:F,show_status:ae,status_text:ce,guess_coin:ee,guessing:j,guess_count:te}=m;us().then(W=>{I=W});const ue=()=>{i.updateUserData({guess:{poster:{guessing:j.value,skinIds:D,guessCount:te.value}}})},de=()=>{h.value=0,Y.value=!0,setTimeout(()=>{if(!(z.value||c)){if(u<=0){he.submitAnswer();return}u--,ee.value>ie[0]&&u<=16&&(ee.value-=3),T.value=wt(u,"SEC"),de()}},1e3)},he={randomPoster(){if(te.value>=je){s(),ne(xe("xv24",{v:"竞猜次数"}),"error");return}g.value="",u=20,z.value=!1,M.value=!0,T.value=["2","0"];const W=k.filter(J=>!D.includes(J)&&!I.includes(S[J]));if(W.length<=50){s(),ne(xe("kq91",{type:"海报",num:50,goods:"皮肤"}),"error");return}const le=Je(0,W.length-1);a=W[le];const Z=P[W[le]].cover,K=new Image;K.src=Z,K.onload=()=>{c||(L.value=Z,M.value=!1,j.value=!0,te.value++,ue(),_("POSTER_GUESS_COUNT"),setTimeout(de,2e3),l=V[a])},K.onerror=oe},async submitAnswer(){if(!Y.value)return;const W=g.value===b[l];z.value=!0,Y.value=!1,W||_("POSTER_GUESS_WRONG_COUNT"),d("pj83"),await _e(2e3),ae.value=!0,q.value=`${b[l]}-${w[a]}`,W?(D.push(a),F.value=!0,h.value=1,ce.value="回答正确，是否继续答题？"):(ee.value=ie[0],h.value=2,ce.value="回答错误，已扣除竞猜券，是否继续答题？",n.setGamePropNum("GUESS_CARD",1,"SUB")),j.value=!1,ue()},receiveGuessCoin(){qe({name:Ke.GUESS_COIN,icon:pe(Be.GUESS_COIN),key:"GUESS_COIN",num:ee.value},()=>{F.value=!1,ee.value=ie[1]})},setShowStatus(W){ae.value=W},setIsExit(){c=!0}},{randomPoster:oe}=he;return(async()=>{const{skinIds:W,guessing:le,guessCount:Z}=i.user_data.guess.poster;D=W,te.value=Z,b=await bt(),w=await cs(),S=await ds(),P=await _s(),V=await ps(),k=await vs(),le?(ue(),setTimeout(()=>{n.setGamePropNum("GUESS_CARD",1,"SUB"),Me({text:Ae.j33c,align:"right-bottom",color:!1,btnFn(){setTimeout(()=>{Ve(r,s)||oe()},1e3)}})},1e3)):setTimeout(oe,1e3)})(),Rt(()=>{c=!0}),{...m,...he}},xn={class:"guess-game"},Sn={class:"guess-prop"},Cn={class:"submit"},In={class:"receive-guess-coin"},Tn={class:"prop"},Vn={class:"count"},En=["innerHTML"],Rn={class:"btns"},Mn={class:"countdown"},An=H({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const s=Te(r,"modelValue"),{setHidePosterGuessPart:n}=Nt(),{setHideActivityPart:i}=De(),{playAudio:_}=re(),d=ye("close-activity"),{answer_status:a,answer:l,countdown:c,guess_coin:u,guessing:k,loading:b,poster:w,randomPoster:S,receiveGuessCoin:V,reveal:P,right_answer:D,running:I,setShowStatus:m,show_receive:h,show_status:g,status_text:T,submitAnswer:M,setIsExit:L}=wn(d,F),z=p(!0),q=p(!1),Y=()=>{q.value=!0};async function F(){z.value=!1,await _e(500),s.value=!1,n(!1),i(!1)}const ae=()=>{Ve(d,F)||q.value&&(q.value=!1,S(),setTimeout(()=>{m(!1)},250))},ce=()=>{if(k.value){ne(ke.da62,"error");return}L(),h.value&&V(),F(),_("pj83")};return(ee,j)=>(o(),x(me,{to:"body"},[y(A,{name:"fade",appear:""},{default:$(()=>[v(t("div",xn,[t("div",Sn,[y(e(Se),{"prop-key":"GUESS_CARD",height:"3rem","font-size":"2rem",gap:"1rem","margin-right":"1.5rem",shine:""}),y(e(Se),{"prop-key":"GUESS_COIN",height:"3rem","font-size":"2rem",gap:"1rem",shine:""})]),t("div",{class:B(["guess-poster",{green:e(a)===1,red:e(a)===2}])},[y(Xe,{name:"fade"},{default:$(()=>[v(t("div",{key:"c",class:"answer"},E(e(D)),513),[[O,e(g)]]),e(b)?(o(),x(e(xt),{key:"a",white:"",width:"6.25rem"})):(o(),f("div",{key:"b",class:B(["topic",{reveal:e(P)}]),style:ge({backgroundImage:`url(${e(w)})`})},null,6))]),_:1})],2),t("div",Cn,[y(e(Gt),{modelValue:e(l),"onUpdate:modelValue":j[0]||(j[0]=te=>ot(l)?l.value=te:null),empty:!1,disabled:!e(I),black:"",type:"HERO",placeholder:"英雄名称"},null,8,["modelValue","disabled"]),v((o(),f("div",{class:B(["commit",{disabled:!e(I)}]),onClick:j[1]||(j[1]=(...te)=>e(M)&&e(M)(...te))},[R(E(e(l)===""?"放弃作答":"提交答案"),1)],2)),[[e(C),{disabled:!e(I)}]])]),e(h)?(o(),x(A,{key:0,name:"fade",appear:""},{default:$(()=>[t("div",In,[t("div",Tn,[t("div",{class:"icon",style:ge({backgroundImage:`url(${e(pe)(e(Pe).ICON.GUESS_COIN)})`})},null,4),t("div",Vn,"×"+E(e(u)),1)]),v((o(),x(e(Q),{type:"warning",onClick:e(V)},{default:$(()=>j[2]||(j[2]=[R("领取竞猜币")])),_:1,__:[2]},8,["onClick"])),[[e(C)]])])]),_:1})):(o(),x(A,{key:1,name:"to-top"},{default:$(()=>[e(g)?v((o(),f("div",{key:0,class:B(["answer-status",{green:e(a)===1,red:e(a)===2}]),innerHTML:e(T)},null,10,En)),[[e(St),{callback:Y,delay:250,speed:100}]]):G("",!0)]),_:1})),y(A,{name:"to-top"},{default:$(()=>[v(t("div",Rn,[v((o(),f("div",{class:"close",onClick:F},j[3]||(j[3]=[t("i",{class:"iconfont wzry-guanbi"},null,-1)]))),[[e(C),{text:e(U).hq27}]]),v((o(),f("div",{class:"next",onClick:ae},[t("i",{class:B(["iconfont wzry-dui",e(a)===1?"wzry-you":"wzry-dui"])},null,2)])),[[e(C),{text:e(U).xw29}]])],512),[[O,q.value]])]),_:1}),y(A,{name:"to-top"},{default:$(()=>[v(t("div",Mn,[j[4]||(j[4]=t("div",{class:"text"},"剩余填写时间：",-1)),y(A,{name:"fade"},{default:$(()=>[y(e(Ut),{rate:.45,running:e(I),unit:"SEC",nums:e(c)},null,8,["running","nums"])]),_:1})],512),[[O,e(I)]])]),_:1}),y(A,{name:"to-top"},{default:$(()=>[e(k)?G("",!0):v((o(),x(e(Q),{key:0,type:"error",class:"exit-guess",onClick:ce},{default:$(()=>j[5]||(j[5]=[R(" 退出竞猜 ")])),_:1,__:[5]})),[[e(C)]])]),_:1}),y(A,{name:"to-top",appear:""},{default:$(()=>j[6]||(j[6]=[t("div",{class:"tips"},[t("div",{class:"tip"},"在竞猜过程中关闭或刷新浏览器，下次竞猜将自动扣除竞猜券")],-1)])),_:1,__:[6]})],512),[[O,z.value]])]),_:1})]))}}),Un=N(An,[["__scopeId","data-v-0f08734f"]]),Gn={class:"activity-item"},Dn=["src"],Pn={class:"reward"},Ln={class:"tip"},Hn=H({__name:"index",setup(r,{expose:s}){const n=Ce(),{playAudio:i}=re(),{setHideActivityPart:_}=De(),{hide_poster_guess_part:d,setHidePosterGuessPart:a}=Nt(),l=[{key:"GUESS_COIN",num:`${ie[0]}~${ie[1]}`}],c=ye("close-activity"),u=ye("activityContainerRef"),k=p(),b=p(),w=p(),S=p(),V=p(),P=p(!1),D=ve(()=>n.user_data.guess.poster.guessCount),I=()=>{if(D.value>=je){ne(xe("xv24",{v:"竞猜次数"}),"error");return}Ve(c)||(i("pj83"),a(!0),_(!0),setTimeout(()=>{P.value=!0},1e3))};return Ie(()=>{let m=0;const h=new Pt(u.value,k.value);h.addAnimationStyle(b.value,g=>{const T=g+500,M=h.createAnimation(g,T,0,1),L=z=>`translateZ(${250-M(z)*250}px)`;return m=T-g,{transform:L}}),V.value.forEach((g,T)=>{h.addAnimationStyle(g._el,M=>{const L=M+m+T*250,z=L+(T+1)+250,q=h.createAnimation(L,z,0,1),Y=h.createAnimation(L,z,-100,0);return{transform:ae=>`translateX(${Y(ae)}%)`,opacity:q}})}),h.addAnimationStyle(w.value,g=>{m=m+l.length*2*250;const T=g+m,M=T+500,L=h.createAnimation(T,M,0,1),z=h.createAnimation(T,M,50,0),q=Y=>`translateX(-50%) translateY(-${50-z(Y)}%)`;return m=M-g,{transform:q,opacity:L}}),h.addAnimationStyle(S.value,(g,T)=>{const M=g+m,L=h.createAnimation(M,T,0,1),z=h.createAnimation(M,T,50,0);return{transform:Y=>`translateX(${z(Y)}%)`,opacity:L}}),h.updateMap()}),s({_el:k}),(m,h)=>(o(),f(X,null,[t("div",{ref_key:"posterGuessRef",ref:k,class:"poster-guess"},[t("div",Gn,[t("img",{src:e(Ct)("activity_poster_guess"),class:"bg",alt:""},null,8,Dn),y(A,{name:"to-right"},{default:$(()=>[v(t("div",{ref_key:"titleRef",ref:b,class:"title"},"海报竞猜",512),[[O,!e(d)]])]),_:1}),y(A,{name:"to-right"},{default:$(()=>[v(t("div",Pn,[(o(),f(X,null,se(l,(g,T)=>y(e(Ye),{ref_for:!0,ref_key:"propRefs",ref:V,key:T,class:"prop","prop-key":g.key,num:g.num},null,8,["prop-key","num"])),64))],512),[[O,!e(d)]])]),_:1}),y(A,{name:"fade"},{default:$(()=>[v(t("div",{ref_key:"tipRef",ref:w,class:"tip"},h[1]||(h[1]=[R(" 系统将给出一幅 "),t("span",{class:"green"},"随机皮肤海报",-1),R(" ，海报通过 "),t("span",{class:"blue"},"颜色反转",-1),R(" 、 "),t("span",{class:"blue"},"Y轴翻转",-1),R(" 以及 "),t("span",{class:"blue"},"去色",-1),R(" 处理，你有 "),t("span",{class:"blue"},"20秒",-1),R(" 时间输入该海报属于哪个 "),t("span",{class:"green"},"英雄的名字",-1),R(" 进行回答，回答正确一题可立即获得 "),t("span",{class:"orange"},"竞猜币",-1),R(" 奖励，竞猜币数根据 "),t("span",{class:"green"},"答题耗时",-1),R(" 发放，答题 "),t("span",{class:"orange"},"用时越少，发放越多",-1),R(" ，竞猜券在 "),t("span",{class:"red"},"回答错误",-1),R(" 或 "),t("span",{class:"red"},"放弃作答",-1),R(" 时 "),t("span",{class:"red"},"扣除",-1),R(" 。 ")]),512),[[O,!e(d)]])]),_:1}),y(A,{name:"to-left"},{default:$(()=>[v(t("div",{ref_key:"startRef",ref:S,class:"start"},[v((o(),f("div",{class:"btn",onClick:I},h[2]||(h[2]=[R("开始竞猜")]))),[[e(C)]]),t("div",Ln,"今日剩余竞猜次数："+E(e(It).GUESS_COUNT_LIMIT-D.value),1)],512),[[O,!e(d)]])]),_:1})])],512),P.value?(o(),x(Un,{key:0,modelValue:P.value,"onUpdate:modelValue":h[0]||(h[0]=g=>P.value=g)},null,8,["modelValue"])):G("",!0)],64))}}),Nn=N(Hn,[["__scopeId","data-v-83b516e9"]]),zt={hide_skill_guess_part:p(!1)},{hide_skill_guess_part:ft}=zt,Ot=()=>({...zt,...{setHideSkillGuessPart(s){s?ft.value=s:setTimeout(()=>{ft.value=s},500)}}}),zn=(r,s,n)=>{const i=ze(),_=Ce(),{addStatusMarkerNum:d}=$t(),{playAudio:a}=re();let l=20,c=0,u=!0,k=!1,b=[],w={},S={},V={};const P=[],D={answer:p(""),hero_name:p(""),status_text:p(""),skill_index:p(-1),guess_coin:p(ie[1]),guess_count:p(0),answer_status:p(0),reveal:p(!1),loading:p(!1),show_receive:p(!1),show_status:p(!1),running:p(!1),guessing:p(!1),show_question:p(!1),skill:p(),countdown:p(["2","0"]),skill_list:p([]),right_skill_index_list:p([])},{answer_status:I,answer:m,countdown:h,hero_name:g,loading:T,reveal:M,running:L,show_receive:z,show_status:q,status_text:Y,guess_coin:F,guessing:ae,right_skill_index_list:ce,skill_index:ee,show_question:j,skill:te,skill_list:ue,guess_count:de}=D,he={show_skill_list:ve({get(){return ue.value.filter((K,J)=>ee.value===-1||ee.value===J)},set(K){ue.value=K}})},oe=()=>{_.updateUserData({guess:{skill:{guessing:ae.value,skillIds:V,guessCount:de.value}}})},Ee=()=>{I.value=0,L.value=!0,setTimeout(()=>{if(!(M.value||k)){if(l<=0){W.submitAnswer();return}l--,F.value>ie[0]&&l<=16&&(F.value-=3),h.value=wt(l,"SEC"),Ee()}},1e3)},W={randomSkill(){var lt;if(de.value>=je){s(),ne(xe("xv24",{v:"竞猜次数"}),"error");return}m.value="",l=20,ee.value=-1,M.value=!1,u=!0,h.value=["2","0"];const K=b.filter(it=>!P.includes(it));if(K.length<=3){s(),ne(xe("kq91",{type:"技能",num:10,goods:"英雄"}),"error");return}c=K[Je(0,K.length-1)],ce.value=V[c]||[];const J=(lt=w==null?void 0:w[c])==null?void 0:lt[0];if(J.every((it,Kt)=>{var rt;return(rt=V[c])==null?void 0:rt.includes(Kt)})){P.push(c),le();return}g.value=S[c],ue.value=J},async selectSkillIndex(K){var be;if((be=V[c])!=null&&be.includes(K)||!u)return;te.value=ue.value[K],u=!1,T.value=!0,ee.value=K,await _e(500);const J=new Image;J.src=te.value.img,J.onload=()=>{k||(T.value=!1,ae.value=!0,j.value=!0,de.value++,oe(),d("SKILL_GUESS_COUNT"),setTimeout(Ee,1500))},J.onerror=le,oe()},async submitAnswer(){if(!L.value)return;const K=m.value===S[c];M.value=!0,L.value=!1,n(),K||d("SKILL_GUESS_WRONG_COUNT"),a("pj83"),await _e(2e3),q.value=!0,m.value===S[c]?(V[c]??(V[c]=[]),V[c].push(ee.value),z.value=!0,I.value=1,Y.value="回答正确，是否继续答题？"):(F.value=ie[1],I.value=2,Y.value="回答错误，已扣除竞猜券，是否继续答题？",i.setGamePropNum("GUESS_CARD",1,"SUB")),ae.value=!1,oe()},receiveGuessCoin(){qe({name:Ke.GUESS_COIN,icon:pe(Be.GUESS_COIN),key:"GUESS_COIN",num:F.value},()=>{z.value=!1,F.value=ie[1]})},setShowStatus(K){q.value=K},setIsExit(){k=!0}},{randomSkill:le}=W;return(async()=>{const{skillIds:K,guessing:J,guessCount:be}=_.user_data.guess.skill;V=K,de.value=be,w=await ms(),S=await bt(),b=await fs(),J?(oe(),setTimeout(()=>{i.setGamePropNum("GUESS_CARD",1,"SUB"),Me({text:Ae.j33c,align:"right-bottom",color:!1,btnFn(){setTimeout(()=>{Ve(r,s)||le()},1e3)}})},1e3)):setTimeout(le,1e3)})(),Rt(()=>{k=!0}),{...D,...he,...W}},On={class:"guess-game"},Kn={class:"guess-prop"},Bn={class:"guess-skill"},qn=["onClick"],jn=["src"],Xn=["src"],Yn={class:"hero-name"},Fn={class:"skill-name"},Wn={class:"submit"},Zn={class:"receive-guess-coin"},Qn={class:"prop"},Jn={class:"count"},el=["innerHTML"],tl={class:"btns"},sl={class:"countdown"},al=H({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const s=Te(r,"modelValue"),{setHideSkillGuessPart:n}=Ot(),{setHideActivityPart:i}=De(),{playAudio:_}=re(),d=ye("close-activity"),{answer_status:a,answer:l,countdown:c,guess_coin:u,guessing:k,hero_name:b,loading:w,randomSkill:S,receiveGuessCoin:V,reveal:P,right_skill_index_list:D,running:I,selectSkillIndex:m,setShowStatus:h,show_question:g,show_receive:T,show_skill_list:M,show_status:L,skill_index:z,skill:q,status_text:Y,submitAnswer:F,setIsExit:ae}=zn(d,oe,ue),ce=["被动","一","二","三","四"],ee=p(),j=p(!0),te=p(!1);function ue(){at(()=>{const le=ee.value.scrollHeight;ee.value.style.height=le+"px"})}const de=()=>{F(),ue()},he=()=>{te.value=!0};async function oe(){j.value=!1,await _e(500),n(!1),i(!1),s.value=!1}const Ee=()=>{Ve(d,oe)||te.value&&(te.value=!1,g.value=!1,M.value=[],setTimeout(()=>{S(),setTimeout(()=>{h(!1)},250)},500))},W=()=>{if(k.value){ne(ke.da62,"error");return}ae(),T.value&&V(),oe(),_("pj83")};return(le,Z)=>(o(),x(me,{to:"body"},[y(A,{name:"fade",appear:""},{default:$(()=>[v(t("div",On,[t("div",Kn,[y(e(Se),{"prop-key":"GUESS_CARD",height:"3rem","font-size":"2rem",gap:"1rem","margin-right":"1.5rem",shine:""}),y(e(Se),{"prop-key":"GUESS_COIN",height:"3rem","font-size":"2rem",gap:"1rem",shine:""})]),t("div",Bn,[y(Xe,{name:"fade-a"},{default:$(()=>[(o(!0),f(X,null,se(e(M),(K,J)=>v((o(),f("div",{key:K.name,class:"skill",onClick:be=>e(m)(J)},[t("div",{class:B(["icon-box",{guessing:e(g),effective:!e(D).includes(J)}])},[y(A,{name:"fade"},{default:$(()=>[e(w)?(o(),x(e(xt),{key:"a",white:"",width:"5rem"})):G("",!0)]),_:1}),t("img",{src:e(we)("unknown"),class:B(["unknown",{disabled:e(D).includes(J),"move-bottom ":e(g)}]),alt:""},null,10,jn),e(g)?(o(),f("img",{key:0,src:K.img,alt:"",class:"icon"},null,8,Xn)):G("",!0)],2)],8,qn)),[[e(C),{text:e(k)?"":e(U).d21q,disabled:e(k)}]])),128))]),_:1})]),y(A,{name:"hide-answer"},{default:$(()=>{var K;return[e(P)?(o(),f("div",{key:0,ref_key:"answerRef",ref:ee,class:"answer"},[t("div",Yn,E(e(b)),1),t("div",Fn,E(ce[e(z)])+"技能——"+E((K=e(q))==null?void 0:K.name),1)],512)):G("",!0)]}),_:1}),t("div",Wn,[y(e(Gt),{modelValue:e(l),"onUpdate:modelValue":Z[0]||(Z[0]=K=>ot(l)?l.value=K:null),empty:!1,disabled:!e(I),black:"",type:"HERO",placeholder:"英雄名称"},null,8,["modelValue","disabled"]),v((o(),f("div",{class:B(["commit",{disabled:!e(I)}]),onClick:de},[R(E(e(l)===""?"放弃作答":"提交答案"),1)],2)),[[e(C),{disabled:!e(I)}]])]),e(T)?(o(),x(A,{key:0,name:"fade",appear:""},{default:$(()=>[t("div",Zn,[t("div",Qn,[t("div",{class:"icon",style:ge({backgroundImage:`url(${e(pe)(e(Pe).ICON.GUESS_COIN)})`})},null,4),t("div",Jn,"×"+E(e(u)),1)]),v((o(),x(e(Q),{type:"warning",onClick:e(V)},{default:$(()=>Z[1]||(Z[1]=[R("领取竞猜币")])),_:1,__:[1]},8,["onClick"])),[[e(C)]])])]),_:1})):(o(),x(A,{key:1,name:"to-top"},{default:$(()=>[e(L)?v((o(),f("div",{key:0,class:B(["answer-status",{green:e(a)===1,red:e(a)===2}]),innerHTML:e(Y)},null,10,el)),[[e(St),{callback:he,delay:250,speed:100}]]):G("",!0)]),_:1})),y(A,{name:"to-top"},{default:$(()=>[v(t("div",tl,[v((o(),f("div",{class:"close",onClick:oe},Z[2]||(Z[2]=[t("i",{class:"iconfont wzry-guanbi"},null,-1)]))),[[e(C),{text:e(U).hq27}]]),v((o(),f("div",{class:"next",onClick:Ee},[t("i",{class:B(["iconfont wzry-dui",e(a)===1?"wzry-you":"wzry-dui"])},null,2)])),[[e(C),{text:e(U).xw29}]])],512),[[O,te.value]])]),_:1}),y(A,{name:"to-top"},{default:$(()=>[v(t("div",sl,[Z[3]||(Z[3]=t("div",{class:"text"},"剩余填写时间：",-1)),y(A,{name:"fade"},{default:$(()=>[y(e(Ut),{rate:.45,running:e(I),unit:"SEC",nums:e(c)},null,8,["running","nums"])]),_:1})],512),[[O,e(I)]])]),_:1}),y(A,{name:"to-top"},{default:$(()=>[e(k)?G("",!0):v((o(),x(e(Q),{key:0,type:"error",class:"exit-guess",onClick:W},{default:$(()=>Z[4]||(Z[4]=[R(" 退出竞猜 ")])),_:1,__:[4]})),[[e(C)]])]),_:1}),y(A,{name:"to-top",appear:""},{default:$(()=>Z[5]||(Z[5]=[t("div",{class:"tips"},[t("div",{class:"tip"},"在竞猜过程中关闭或刷新浏览器，下次竞猜将自动扣除竞猜券")],-1)])),_:1,__:[5]})],512),[[O,j.value]])]),_:1})]))}}),ol=N(al,[["__scopeId","data-v-47722004"]]),nl={class:"activity-item"},ll=["src"],il={class:"reward"},rl={class:"tip"},ul=H({__name:"index",setup(r,{expose:s}){const n=Ce(),{playAudio:i}=re(),{setHideActivityPart:_}=De(),{hide_skill_guess_part:d,setHideSkillGuessPart:a}=Ot(),l=[{key:"GUESS_COIN",num:`${ie[0]}~${ie[1]}`}],c=ye("close-activity"),u=ye("activityContainerRef"),k=p(),b=p(),w=p(),S=p(),V=p(),P=p(!1),D=ve(()=>n.user_data.guess.skill.guessCount),I=()=>{if(D.value>=je){ne(xe("xv24",{v:"竞猜次数"}),"error");return}Ve(c)||(i("pj83"),a(!0),_(!0),setTimeout(()=>{P.value=!0},1e3))};return Ie(()=>{let m=0;const h=new Pt(u.value,k.value);h.addAnimationStyle(b.value,g=>{const T=g+500,M=h.createAnimation(g,T,0,1),L=z=>`translateZ(${250-M(z)*250}px)`;return m=T-g,{transform:L}}),S.value.forEach((g,T)=>{h.addAnimationStyle(g._el,M=>{const L=M+m+T*250,z=L+(T+1)+250,q=h.createAnimation(L,z,0,1),Y=h.createAnimation(L,z,-100,0);return{transform:ae=>`translateX(${Y(ae)}%)`,opacity:q}})}),h.addAnimationStyle(w.value,g=>{m=m+l.length*2*250;const T=g+m,M=T+500,L=h.createAnimation(T,M,0,1),z=h.createAnimation(T,M,50,0),q=Y=>`translateX(-50%) translateY(-${50-z(Y)}%)`;return m=M-g,{transform:q,opacity:L}}),h.addAnimationStyle(V.value,(g,T)=>{const M=g+m,L=h.createAnimation(M,T,0,1),z=h.createAnimation(M,T,50,0);return{transform:Y=>`translateX(${z(Y)}%)`,opacity:L}}),h.updateMap()}),s({_el:k}),(m,h)=>(o(),f(X,null,[t("div",{ref_key:"skillGuessRef",ref:k,class:"skill-guess"},[t("div",nl,[t("img",{src:e(Ct)("activity_skill_guess"),class:"bg",alt:""},null,8,ll),y(A,{name:"to-right"},{default:$(()=>[v(t("div",{ref_key:"titleRef",ref:b,class:"title"},"技能竞猜",512),[[O,!e(d)]])]),_:1}),y(A,{name:"to-right"},{default:$(()=>[v(t("div",il,[(o(),f(X,null,se(l,(g,T)=>y(e(Ye),{ref_for:!0,ref_key:"propRefs",ref:S,key:T,class:"prop","prop-key":g.key,num:g.num},null,8,["prop-key","num"])),64))],512),[[O,!e(d)]])]),_:1}),y(A,{name:"fade"},{default:$(()=>[v(t("div",{ref_key:"tipRef",ref:w,class:"tip"},h[1]||(h[1]=[R(" 系统将 "),t("span",{class:"green"},"随机选择一位英雄",-1),R(" 的 "),t("span",{class:"green"},"技能图标",-1),R(" ，你需要从中挑选一个 "),t("span",{class:"green"},"技能图标",-1),R(" 作答，你有 "),t("span",{class:"blue"},"20秒",-1),R(" 时间输入该技能属于哪个 "),t("span",{class:"green"},"英雄的名字",-1),R(" 进行回答，回答正确一题可立即获得 "),t("span",{class:"orange"},"竞猜币",-1),R(" 奖励，竞猜币数根据 "),t("span",{class:"green"},"答题耗时",-1),R(" 发放，答题 "),t("span",{class:"orange"},"用时越少，发放越多",-1),R(" ，竞猜券在 "),t("span",{class:"red"},"回答错误",-1),R(" 或 "),t("span",{class:"red"},"放弃作答",-1),R(" 时 "),t("span",{class:"red"},"扣除",-1),R(" 。 ")]),512),[[O,!e(d)]])]),_:1}),y(A,{name:"to-left"},{default:$(()=>[v(t("div",{ref_key:"startRef",ref:V,class:"start"},[v((o(),f("div",{class:"btn",onClick:I},h[2]||(h[2]=[R("开始竞猜")]))),[[e(C)]]),t("div",rl,"今日剩余竞猜次数："+E(e(It).GUESS_COUNT_LIMIT-D.value),1)],512),[[O,!e(d)]])]),_:1})])],512),P.value?(o(),x(ol,{key:0,modelValue:P.value,"onUpdate:modelValue":h[0]||(h[0]=g=>P.value=g)},null,8,["modelValue"])):G("",!0)],64))}}),cl=N(ul,[["__scopeId","data-v-658849f4"]]),dl={key:0,class:"activity"},_l={class:"progress"},pl={class:"title-list"},vl=["onClick","innerHTML"],ml={class:"bar-box"},fl=H({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const s=Te(r,"modelValue"),{playAudio:n}=re(),{setHideStatus:i}=$e(),{hide_activity_part:_}=De(),d=window.innerHeight,a=p(),l=p(),c=p(),u=p([]),k=p(!0),b=p(0),w=p(0),S=p(),V=()=>{const g=T=>!T.value||!T.value._el?{top:0,bottom:0}:{top:T.value._el.offsetTop,bottom:T.value._el.offsetTop+T.value._el.offsetHeight};u.value=[{label:"海报竞猜",start:0,end:g(l).bottom,height:l.value._el.offsetHeight},{label:"技能竞猜",start:g(c).top,end:g(c).bottom,height:c.value._el.offsetHeight},{label:"",start:g(c).top+c.value._el.offsetHeight-window.innerHeight,end:0,height:0}]},P=g=>u.value.find(T=>g>=T.start&&g<=T.end),D=g=>{const T=g.target,M=u.value.map(L=>L.start);b.value=ks(T.scrollTop,M),w.value=T.scrollTop,S.value=P(T.scrollTop)},I=g=>{var T;n("n4r4"),(T=a.value)==null||T.scroll({top:g-d,behavior:"smooth"})},m=gs(()=>{S.value&&I(S.value.end)},100),h=()=>{k.value=!1,setTimeout(()=>{s.value=!1},500),i(!1)};return Ie(()=>{n("bq69"),V(),window.addEventListener("resize",m),setTimeout(()=>{I(l.value._el.offsetHeight)},500)}),Cs(()=>{window.removeEventListener("resize",m)}),Ze("activityContainerRef",a),Ze("close-activity",h),(g,T)=>(o(),x(me,{to:"body"},[y(A,{name:"fade",appear:""},{default:$(()=>[k.value?(o(),f("div",dl,[y(A,{name:"tool",appear:""},{default:$(()=>[v(t("div",{class:"close",onClick:h},null,512),[[O,!e(_)],[e(C),{text:e(U).mk66}]])]),_:1}),t("div",{ref_key:"activityContainerRef",ref:a,class:"activity-container",onScroll:D},[y(Nn,{ref_key:"posterGuessRef",ref:l},null,512),y(cl,{ref_key:"skillGuessRef",ref:c},null,512)],544),y(A,{name:"tool",appear:""},{default:$(()=>[v(t("div",_l,[t("div",pl,[(o(!0),f(X,null,se(u.value,(M,L)=>v((o(),f("div",{key:L,class:B(["title",{color:M.start<=w.value&&w.value<M.end,"active-dot":M.start<=w.value}]),onClick:z=>I(M.end),innerHTML:M.label},null,10,vl)),[[e(C),{text:e(hs)("e8p6",{v:M.label})}]])),128))]),t("div",ml,[t("div",{class:"bar",style:ge({height:`${b.value}%`})},null,4)])],512),[[O,!e(_)]])]),_:1})])):G("",!0)]),_:1})]))}}),gl=N(fl,[["__scopeId","data-v-86eda152"]]),hl={class:"btn-icon"},kl=H({__name:"index",setup(r){const s=et(),n=tt(),{setHideStatus:i}=$e(),{show_activity:_,setActivityShow:d}=Ds(),a=p(!1),l=p(!1),c=p(!1),u=()=>{i(!0),c.value=!0},k=()=>{i(!0),d(!0)};return(b,w)=>(o(),f("div",hl,[v(t("i",{class:B(["iconfont wzry-youxiang",{unread:e(s).haveUnread}]),onClick:w[0]||(w[0]=S=>l.value=!0)},null,2),[[e(C),{text:e(U).lq48}]]),v(t("i",{class:"iconfont wzry-setting",onClick:w[1]||(w[1]=S=>a.value=!0)},null,512),[[e(C),{text:e(U).er37}]]),v(t("i",{class:B([{receive:e(n).exist_receive},"iconfont wzry-task"]),onClick:u},null,2),[[e(C),{text:e(U).nz58}]]),v(t("i",{class:"iconfont wzry-huodong",onClick:k},null,512),[[e(C),{text:e(U).g9u9}]]),(o(),x(me,{to:"body"},[l.value?(o(),x(Jo,{key:0,modelValue:l.value,"onUpdate:modelValue":w[2]||(w[2]=S=>l.value=S)},null,8,["modelValue"])):G("",!0),a.value?(o(),x(Go,{key:1,modelValue:a.value,"onUpdate:modelValue":w[3]||(w[3]=S=>a.value=S)},null,8,["modelValue"])):G("",!0)])),e(_)?(o(),x(gl,{key:0,modelValue:e(_),"onUpdate:modelValue":w[4]||(w[4]=S=>ot(_)?_.value=S:null)},null,8,["modelValue"])):G("",!0),c.value?(o(),x(bn,{key:1,modelValue:c.value,"onUpdate:modelValue":w[5]||(w[5]=S=>c.value=S)},null,8,["modelValue"])):G("",!0)]))}}),yl=N(kl,[["__scopeId","data-v-92ed81aa"]]),$l={class:"notice"},bl=H({__name:"index",setup(r){const s=n=>{ht({parent:n.target,type:"DEFAULT",bigImage:we("activity_group_code"),blurImage:we("activity_group_code")})};return(n,i)=>(o(),f("div",$l,[t("div",{class:"content"},[i[0]||(i[0]=R(" 欢迎加群讨论技术和体验反馈， ")),t("span",{class:"qr-code",onClick:s},"→点击此处←"),i[1]||(i[1]=Is(' 查看群 <span class="green" data-v-6f50ec05>二维码</span>，如果你在体验过程中遇到 <span class="red" data-v-6f50ec05>设计不人性化</span>、<span class="red" data-v-6f50ec05>功能不合理</span>、 <span class="red" data-v-6f50ec05>功能未正常加载</span>、<span class="red" data-v-6f50ec05>点击按钮无反馈</span>、 <span class="red" data-v-6f50ec05>元素样式错位</span>、 <span class="red" data-v-6f50ec05>图片加载失败</span>等各种问题，请在群里积极<span class="blue" data-v-6f50ec05>@冷弋白</span> 。 ',17))])]))}}),wl=N(bl,[["__scopeId","data-v-6f50ec05"]]),xl={class:"navbar border-1"},Sl={class:"navbar__right"},Cl=H({__name:"index",setup(r){const{hide_all:s}=$e(),n=At("(max-width: 750px)");return(i,_)=>(o(),x(A,{name:"to-bottom",appear:""},{default:$(()=>[v(t("div",xl,[y(xa),y(wl),t("div",Sl,[e(n)?G("",!0):(o(),f(X,{key:0},[y(e(Se),{"prop-key":"GOLD",height:"2.25rem","margin-right":"1.5rem",shine:""}),y(e(Se),{"prop-key":"DIAMOND",height:"2.25rem","margin-right":"1.5rem",shine:""})],64)),y(co),y(yl)])],512),[[O,!e(s)]])]),_:1}))}}),Il=N(Cl,[["__scopeId","data-v-edf99566"]]),Tl={class:"app-main"},Vl=H({__name:"index",setup(r){const{hide_all:s}=$e(),n=["Hero","Skin","Savor","Equip","Epigraph","Knapsack","LotteryHero","LotterySkin","ShopCrystal","KingCrystal","YiBao","HonorCrystal","ShopDebris","HeroDebrisShop","SkinDebrisShop","PropShop"],i=()=>{ys.close()};return(_,d)=>{const a=Ts("router-view");return o(),x(A,{name:"app-main"},{default:$(()=>[v(t("div",Tl,[y(a,null,{default:$(({Component:l})=>[(o(),x(Vs,{include:n},[(o(),x(Es(l),{visible:!e(s),onVnodeMounted:i},null,8,["visible"]))],1024))]),_:1})],512),[[O,!e(s)]])]),_:1})}}}),El=N(Vl,[["__scopeId","data-v-e3ea6db7"]]),Rl={class:"time"},Ml=H({__name:"index",setup(r){const s=Ls().format("YYYY.MM.DD");return(n,i)=>(o(),f("div",Rl,"2022.3.16 - "+E(e(s)),1))}}),Al=N(Ml,[["__scopeId","data-v-791e8bf4"]]),Ul={class:"music-list"},Gl={class:"top"},Dl={class:"list"},Pl=["onClick"],Ll={class:"left"},Hl={class:"num"},Nl={key:0},zl={key:1,class:"iconfont wzry-playactive"},Ol={class:"name"},Kl={class:"time"},Bl=H({__name:"index",setup(r){const s=Ge(),n=()=>{s.list()},i=_=>{s.bgmIndex!==_&&s.playIndex(_)};return(_,d)=>(o(),x(A,{name:"music-list"},{default:$(()=>[v(t("div",Ul,[t("div",Gl,[d[0]||(d[0]=t("div",{class:"title"},"播放列表",-1)),v(t("i",{class:"iconfont wzry-guanbi",onClick:n},null,512),[[e(C)]])]),t("div",Dl,[(o(!0),f(X,null,se(e(s).musics,(a,l)=>v((o(),f("div",{key:l,class:B(["card",{active:l===e(s).bgmIndex}]),onClick:c=>i(l)},[t("div",Ll,[t("div",Hl,[l!==e(s).bgmIndex?(o(),f("span",Nl,E(l+1),1)):(o(),f("i",zl))]),t("div",Ol,E(a.name),1)]),t("div",Kl,E(a.time),1)],10,Pl)),[[e(C),{text:e(U).sg22}]])),128))])],512),[[O,e(s).show_list]])]),_:1}))}}),ql=N(Bl,[["__scopeId","data-v-a9e3c4af"]]),jl=H({__name:"index",emits:["toggle"],setup(r,{emit:s}){const n=s,i=Ge(),{vertical:_}=Tt(),d=a=>{n("toggle",a)};return(a,l)=>(o(),f("div",{class:B(["music-tool",{center:e(_)}]),onClick:l[4]||(l[4]=Rs(()=>{},["stop"]))},[v(t("i",{class:"iconfont wzry-last",onClick:l[0]||(l[0]=c=>d("last"))},null,512),[[e(C),{text:e(U).q3k7}]]),v(t("i",{class:B(["iconfont",e(i).status?"wzry-play":"wzry-pause"]),onClick:l[1]||(l[1]=c=>d(e(i).status?"pause":"play"))},null,2),[[e(C),{text:e(U).qf48}]]),v(t("i",{class:"iconfont wzry-next",onClick:l[2]||(l[2]=c=>d("next"))},null,512),[[e(C),{text:e(U).q7a3}]]),v(t("i",{class:"iconfont wzry-musiclist",onClick:l[3]||(l[3]=c=>d("list"))},null,512),[[e(C),{text:e(U).r4r3}]]),y(ql,{class:"music-list"})],2))}}),Xl=N(jl,[["__scopeId","data-v-f52e53a9"]]),Yl={class:"copyright",href:"https://github.com/lengyibai",target:"_blank"},Fl=H({__name:"index",setup(r){return(s,n)=>v((o(),f("a",Yl,[R(" @"+E(s.$t("冷弋白")),1)])),[[e(C),{text:e(U).vz77}]])}}),Wl=N(Fl,[["__scopeId","data-v-b48c1d49"]]),Zl=H({__name:"index",setup(r){const s=Ge();return(n,i)=>(o(),f("div",{class:"music-play",style:ge({width:e(s).progress+"%"})},null,4))}}),Ql=N(Zl,[["__scopeId","data-v-098010c5"]]),Jl=H({__name:"index",setup(r){const s=Ge(),n=yt(),{vertical:i}=Tt(),{hide_all:_}=$e(),d=p(),a=p(),l=p(),c=p(0),u=ve(()=>n.config.music),k=ve(()=>n.config.musicProgress);at(()=>{s.initAudioVisual(a.value),n.config.music&&s.play()});const b=V=>{!u.value||!l.value||(c.value=parseFloat(((V.pageX-l.value.offsetLeft)/l.value.offsetWidth).toFixed(2)),k.value&&s.setCurrentTime(c.value))},w=V=>{!u.value||!k.value||!l.value||!d.value||(d.value.style.left=parseFloat(((V.pageX-l.value.offsetLeft)/l.value.offsetWidth).toFixed(2))*100+"%")},S=V=>{if(V==="play"){s.play(!1);return}({last:s.last,pause:s.pause,next:s.next,list:s.list})[V]()};return Ms(()=>{s.stop(),s.resetAudio()}),(V,P)=>(o(),x(A,{name:"to-top",appear:""},{default:$(()=>[v((o(),f("div",{ref_key:"footbarRef",ref:l,class:"foot-bar",onClick:b,onMousemove:w},[u.value&&k.value?(o(),f("div",{key:0,ref_key:"lineRef",ref:d,class:"line"},null,512)):G("",!0),u.value?(o(),x(Ql,{key:1})):G("",!0),v(y(Al,null,null,512),[[O,!e(i)]]),v(y(Xl,{onToggle:S},null,512),[[O,u.value]]),y(Wl),t("canvas",{ref_key:"canvasRef",ref:a},null,512)],32)),[[O,!e(_)],[e($s),{enable:e(n).config.particle}]])]),_:1}))}}),ei=N(Jl,[["__scopeId","data-v-eec7f824"]]),ti={class:"layout"},si={class:"layout-container"},ai=H({__name:"index",setup(r){const{status:s}=Qe(),{video_home_version:n}=bs(),i=p(!1),_=p(!1),d=p(!1),a=p(!1);return Ie(async()=>{await _e(1e3),i.value=!0,await _e(500),_.value=!0,await _e(500),a.value=!0,await _e(500),d.value=!0}),(l,c)=>(o(),f("div",ti,[e(s)?(o(),x(me,{key:0,to:"body"},[y(la)])):G("",!0),i.value?(o(),x(ba,{key:1})):G("",!0),t("div",si,[_.value?(o(),x(Il,{key:0})):G("",!0),a.value?(o(),x(El,{key:1})):G("",!0),d.value?(o(),x(ei,{key:2})):G("",!0)]),e(n)?(o(),x(e(Hs),{key:2,style:{filter:"brightness(0.75)"},link:e(ws)("bg",e(n)),muted:""},null,8,["link"])):G("",!0)]))}}),bi=N(ai,[["__scopeId","data-v-e6a40b9f"]]);export{bi as default};
