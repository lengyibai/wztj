var Jt=Object.defineProperty;var Qt=(o,s,l)=>s in o?Jt(o,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[s]=l;var De=(o,s,l)=>(Qt(o,typeof s!="symbol"?s+"":s,l),l);import{c as ne,M as me,q as N,I as le,J as Te,O as rt,P as Rt,Q as es,n as U,o as O,t as ts,w as ss,R as je,l as Re,E as St,S as as,U as Ae,A as Ue,s as Pe,H as ee,V as os,W as ns,f as tt,X as ls,Y as ct,Z as At,a0 as is,h as He,a1 as Ct,K as Ne,a2 as rs,k as ye,C as Ee,a3 as ze,a4 as Vt,a5 as ut,a6 as xt,a7 as cs,a8 as us,a9 as Be,aa as st,ab as dt,ac as Xe,ad as Ye,ae as Fe,af as ds,ag as _s,ah as vs,ai as _t,aj as It,ak as ps,al as vt,am as ms,an as fs,ao as hs,ap as Mt,aq as We,$ as Me,z as Ie,ar as Ut,as as gs,at as ks,au as ys,av as $s,aw as ws,ax as Lt,ay as pt,az as Gt,aA as Dt,aB as Ht,aC as Pt,aD as Nt,aE as bs,aF as Ss,aG as Cs,aH as xs,aI as Is,aJ as Tt,aK as Ts,u as zt,v as Es,F as Rs}from"./wzry-index-O-tmU9-f.js";import{l as P,r as m,B as ve,C as a,D as f,H as t,a0 as Et,X as k,O as g,Q as w,G as q,T as D,U as H,u as e,S as y,w as mt,n as ft,P as S,F as X,M as h,N as j,V as fe,a as Ot,L as $e,E as Z,W as Ze,v as Je,_ as As,$ as Le,j as ue,A as Vs,a4 as ht,I as he,J as ge,i as we,q as it,o as Kt,b as gt,a5 as Ms,a1 as Us,a6 as Ls,a2 as Gs,R as Ds}from"./wzry-wzry_vue-ZP7q88Pe.js";import{u as Bt,e as Hs,s as Oe}from"./wzry-wzry_vuePlugin-8reJzXjy.js";import{_ as qe,K as xe}from"./wzry-index.vue_vue_type_script_setup_true_lang-r4mYK3OY.js";import{K as Ps}from"./wzry-index-qtpfoFUJ.js";import{u as Ns,a as zs}from"./wzry-useDialogSwitch-RV-5qUNa.js";import{K as Os,a as qt}from"./wzry-index-IyIFNvic.js";import{S as jt}from"./wzry-index-XCxOg5OP.js";import{d as Ks}from"./wzry-wzry_dayjs-p57Mk9r_.js";import{K as Bs}from"./wzry-index-NWBRcILs.js";import"./wzry-wzry_axios-wVsZAsRs.js";import"./wzry-wzry_lodash-4gQjN7DL.js";import"./wzry-wzry_i18n-x0daaVag.js";const qs={mounted(o,s){const{enter:l,leave:c}=s.value;let r;o.addEventListener("mouseleave",()=>{r=setTimeout(c,1e3)}),o.addEventListener("mouseenter",()=>{clearTimeout(r),l()})}},js={mounted(o,s){const l=s.value;o.innerText=`***${l.slice(Math.floor(l.length/2)-3,Math.floor(l.length/2)+3)}***`}},Xs={mounted(o,s){o.onclick=()=>{const l=document.createElement("textarea");l.value=s.value,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),ne(me.ds85)}}},Ys={mounted(o){const s=o.scrollWidth,l=o.scrollHeight,c=o.clientWidth,r=o.clientHeight;s>c?o.style.justifyContent="flex-start":o.style.justifyContent="center",l>r?o.style.alignItems="flex-start":o.style.alignItems="center"}},Fs={class:"k-hover-desc"},Ws=P({__name:"index",setup(o){const s=m(),l=m(!1),c=m("left-top"),r=()=>{if(!s.value)return;const u=window.innerWidth,n=window.innerHeight,{left:d,right:v,top:i,bottom:p}=s.value.getBoundingClientRect();v<u/2&&p<n/2&&(c.value="right-bottom"),d>u/2&&p<n/2&&(c.value="left-bottom"),d>u/2&&i>n/2&&(c.value="left-top"),v<u/2&&i>n/2&&(c.value="right-top"),requestAnimationFrame(r)};return ve(r),(u,n)=>(a(),f("div",Fs,[t("div",{ref_key:"hoverRef",ref:s,class:"hover",onMouseenter:n[0]||(n[0]=d=>l.value=!0),onMouseleave:n[1]||(n[1]=d=>l.value=!1)},[Et(u.$slots,"btn",{},()=>[k("悬浮我")],!0)],544),g(H,{name:"fade"},{default:w(()=>[l.value?(a(),f("div",{key:0,class:q(["tip",c.value])},[Et(u.$slots,"tip",{},()=>[k("Hello World!")],!0)],2)):D("",!0)]),_:3})]))}}),Zs=N(Ws,[["__scopeId","data-v-9df36120"]]),Js={class:"icon-box"},Qs=["src"],ea=["data-text"],ta=P({__name:"index",props:{propKey:{},num:{}},setup(o,{expose:s}){const l=m();return s({_el:l}),(c,r)=>(a(),f("div",{ref_key:"propRef",ref:l,class:"k-prop"},[t("div",Js,[t("img",{src:e(le)(e(Te).ICON[c.propKey]),alt:"",class:"icon"},null,8,Qs),t("div",{class:"num","data-text":c.num},y(c.num),9,ea)])],512))}}),Qe=N(ta,[["__scopeId","data-v-9f80c106"]]),sa={mounted(o){const s={isDragging:!1,startX:0,startY:0,left:0,top:0},l=o.style.transitionDuration,c=n=>{o.style.transitionDuration="0s",s.isDragging=!0,n instanceof MouseEvent?(s.startX=n.pageX,s.startY=n.pageY):n instanceof TouchEvent&&(s.startX=n.touches[0].pageX,s.startY=n.touches[0].pageY),s.left=o.offsetLeft,s.top=o.offsetTop,o.addEventListener("touchmove",o._mouseMove),o.addEventListener("mousemove",o._mouseMove),o.addEventListener("mouseup",o._mouseUp),o.addEventListener("touchend",o._mouseUp)},r=n=>{if(!s.isDragging)return;let d,v;n instanceof MouseEvent?(d=n.pageX-s.startX,v=n.pageY-s.startY):n instanceof TouchEvent?(d=n.touches[0].pageX-s.startX,v=n.touches[0].pageY-s.startY):(d=0,v=0);const i=s.left+d,p=s.top+v,_=innerWidth,b=innerHeight,C=_-o.offsetWidth,x=b-o.offsetHeight,G=Math.max(0,Math.min(C,i)),E=Math.max(0,Math.min(x,p));o.style.left=`${G}px`,o.style.top=`${E}px`},u=()=>{o.style.transitionDuration=l,s.isDragging=!1};o._mouseDown=c,o._mouseMove=r,o._mouseUp=u,o.addEventListener("mousedown",o._mouseDown),o.addEventListener("touchstart",o._mouseDown)},unmounted(o){o.removeEventListener("mousedown",o._mouseDown),o.removeEventListener("mousemove",o._mouseMove),o.removeEventListener("mouseup",o._mouseUp),o.removeEventListener("touchstart",o._mouseDown),o.removeEventListener("touchmove",o._mouseMove),o.removeEventListener("touchend",o._mouseUp)}},aa={class:"hero-info"},oa=["src"],na={class:"info"},la={class:"hero-name"},ia={class:"skin-name"},ra={class:"voice-text"},ca=["src"],ua=P({__name:"index",setup(o){const s=m(),l=m(),{barrages:c,getBarrages:r,barrage_info:u,init:n,show_card:d}=rt(),v=(i,p,_)=>{ss({parent:i.target,type:"DEFAULT",bigImage:_,blurImage:p}),d.value=!1};return mt(()=>c.value,i=>{i.length>0&&ft(()=>{!s.value||!l.value||n(Rt(es(i)),s.value,l.value)})}),setTimeout(()=>{r()},3e3),(i,p)=>(a(),f("div",{ref_key:"barragesRef",ref:s,class:"barrage-main"},[(a(),S(fe,{to:"body"},[g(H,{name:"fade"},{default:w(()=>{var _;return[h((a(),f("div",{ref_key:"barrageInfoRef",ref:l,class:"barrage-info"},[e(u)?(a(),f(X,{key:0},[h(t("i",{class:"iconfont wzry-guanbi",onClick:p[0]||(p[0]=b=>d.value=!1)},null,512),[[e(U),{text:e(O).sj91}]]),t("div",aa,[t("img",{src:(_=e(u))==null?void 0:_.avatar,alt:"",class:"head-img"},null,8,oa),t("div",na,[t("div",la,y(e(u).heroName),1),t("div",ia,y(e(u).skinName),1)])]),t("div",ra,"——"+y(e(u).voiceText),1),h(t("img",{src:e(u).skinBlurPoster,alt:"",class:"skin-poster",onClick:p[1]||(p[1]=b=>v(b,e(u).skinBlurPoster,e(u).skinBigPoster))},null,8,ca),[[e(ts),{img:e(u).skinPoster}],[e(U),{text:e(O).o12u}]])],64)):D("",!0)])),[[j,e(d)],[e(sa)],[e(U),{text:e(O).wj32}]])]}),_:1})]))],512))}}),da=N(ua,[["__scopeId","data-v-3f0d48b7"]]),_a={class:"name"},va=P({__name:"index",props:{route:{}},setup(o){const s=o,l=Bt(),c=Hs(),{playAudio:r}=Re(),{collapse:u,setCollapse:n}=je(),d=m(),v=m(!1),i=Ot([]);mt(()=>c.path,()=>{v.value=c.path.includes(s.route.path),v.value&&s.route.children&&i.length===0?i.push(...s.route.children):v.value||(i.length=0)},{immediate:!0});const p=()=>{if(v.value=!v.value,window.innerWidth<960&&n(!0),s.route.children)v.value?i.push(...s.route.children):i.length=0;else{l.push(s.route.path);return}r()};return(_,b)=>_.route?(a(),f("div",{key:0,class:q(["menu",{collapse:e(u)}])},[h((a(),f("div",{ref_key:"menuItemRef",ref:d,class:q(["menu-item",{active:_.route.path===e(c).path}]),style:$e(`padding-left: ${.5*s.route.zIndex}em !important;`),onClick:p},[t("i",{class:q(["iconfont",_.route.meta.icon])},null,2),t("span",_a,y(_.$t(_.route.title)),1),_.route.children?(a(),f("div",{key:0,class:q(["arrow",{"arrow-active":v.value}])},null,2)):D("",!0)],6)),[[e(U),{text:"菜单："+_.route.title}]]),_.route.children?(a(),S(Ze,{key:0,name:"menu-list",appear:""},{default:w(()=>[(a(!0),f(X,null,Z(i,(C,x)=>(a(),S(Xt,{key:C.path,route:C,style:$e({transitionDelay:(i.length-x)*.05+"s"})},null,8,["route","style"]))),128))]),_:1})):D("",!0)],2)):D("",!0)}}),Xt=N(va,[["__scopeId","data-v-b6648764"]]),pa={class:"logo-3d"},ma={class:"logo-box"},fa=["src"],ha=["src"],ga=P({__name:"index",setup(o){return(s,l)=>(a(),f("div",pa,[t("div",ma,[(a(),f(X,null,Z(3,(c,r)=>t("div",{key:r,class:q(["logo",`logo-${c}`])},[t("img",{src:e(St)("logo_inside"),alt:"",class:"inside"},null,8,fa),t("img",{src:e(St)("logo_outside"),alt:"",class:"outside"},null,8,ha)],2)),64))])]))}}),ka=N(ga,[["__scopeId","data-v-eb0dbef9"]]),ya={key:"logo"},$a=P({__name:"index",setup(o){const{collapse:s}=je(),l=!0,c=()=>{setTimeout(()=>{confirm("确认清除本地数据重新下载并刷新页面？")&&(localStorage.clear(),location.reload())},2e3)},r=()=>{location.reload()};return(u,n)=>(a(),f("div",{class:"game-logo",onTouchstart:c,onTouchend:r},[g(Ze,{name:"fade-a"},{default:w(()=>[t("div",ya,[e(l)?(a(),S(ka,{key:"logo"})):D("",!0)]),h(t("span",{key:"text"},y(u.$t("王者图鉴")),513),[[j,!e(s)]])]),_:1})],32))}}),wa=N($a,[["__scopeId","data-v-761cb342"]]),ba=o=>{const s=[],l=(c,r)=>{const u=[];return c&&c[0].path?(c.forEach(n=>{let d=r;u.push({path:n.path,title:n.meta&&n.meta.title,children:l(n.children,++d),meta:n.meta,zIndex:d})}),u):null};return o.forEach(c=>{var r;!c.meta||(r=c==null?void 0:c.meta)!=null&&r.hidden||s.push({path:c.path,title:c.meta.title,meta:c.meta,children:l(c.children,1),zIndex:1})}),s},at=m(!1),Ve=()=>({...{hide_all:at},...{setHideStatus(l){l?at.value=l:setTimeout(()=>{at.value=l},500)}}}),Sa={class:"side-bar-list"},Ca=P({__name:"index",setup(o){const s=as(),{collapse:l,setCollapse:c}=je(),{hide_all:r}=Ve(),u=s.routes,n=ba(u),d=()=>{c(window.innerWidth<960)};return window.addEventListener("resize",d),Je(()=>{window.removeEventListener("resize",d)}),(v,i)=>(a(),S(H,{name:"to-right",appear:""},{default:w(()=>[h(t("div",{class:q(["side-bar",{collapse:e(l)}])},[g(wa),t("div",Sa,[(a(!0),f(X,null,Z(e(n),p=>(a(),S(Xt,{key:p.path,height:"4rem",route:p},null,8,["route"]))),128))])],2),[[j,!e(r)]])]),_:1}))}}),xa=N(Ca,[["__scopeId","data-v-58334a19"]]),Ia=P({__name:"index",setup(o){const{playAudio:s}=Re(),{collapse:l,toggleCollapse:c}=je(),r=()=>{s("d5e2"),c()};return(u,n)=>h((a(),f("i",{class:q(["iconfont wzry-packup",{"is-active":!e(l)}]),onClick:r},null,2)),[[e(U),{text:e(O).i6u1}]])}}),Ta=N(Ia,[["__scopeId","data-v-d9a046f7"]]),Ea={class:"prop-num"},Ra={class:"prop-item"},Aa=["src"],Va={class:"prop-item"},Ma=["src"],Ua=P({__name:"index",setup(o){const s=Ae(),{articles:l}=Oe(s);return(c,r)=>(a(),f("div",Ea,[t("div",Ra,[t("img",{class:"icon",src:e(le)("gold"),alt:""},null,8,Aa),g(e(qe),{class:"k-long-num",value:e(l).GOLD},null,8,["value"])]),t("div",Va,[t("img",{class:"icon",src:e(le)("diamond"),alt:""},null,8,Ma),g(e(qe),{class:"k-long-num",value:e(l).DIAMOND},null,8,["value"])])]))}}),La=N(Ua,[["__scopeId","data-v-ef92489d"]]),Ga={class:"edit-user-info"},Da={class:"option avatar-select"},Ha={class:"avatar-box"},Pa=["src"],Na={class:"select-btn"},za={for:"file"},Oa={class:"option"},Ka={class:"label"},Ba={class:"option"},qa={class:"label"},ja={class:"option"},Xa={class:"label"},Ya=P({__name:"index",props:{status:{type:Boolean,required:!0},statusModifiers:{}},emits:As(["close"],["update:status"]),setup(o,{emit:s}){const l=s,c=Le(o,"status"),r=Ue(),{avatar:u,username:n,password:d,secondaryPassword:v}=r.user_data,i=Ot({avatar:u,username:n,password:d,secondaryPassword:v}),p=$=>{os($,I=>{i.avatar=I})},_=()=>{ns($=>{i.avatar=$})},b=()=>{tt({title:"修改昵称",placeholder:"请输入新昵称",value:i.username,confirm:($,I)=>{i.username=$,I()}})},C=()=>{tt({title:"修改密码",placeholder:"请输入新密码",value:i.password,confirm:($,I)=>{if($===i.secondaryPassword){ne(me.f1q2,"error");return}i.password=$,I()}})},x=()=>{tt({title:"修改二级密码",placeholder:"请输入新二级密码",value:i.secondaryPassword,confirm:($,I)=>{if($===i.password){ne(me.w89h,"error");return}i.secondaryPassword=$,I()}})},G=ue(()=>i.avatar!==r.user_data.avatar||i.username!==r.user_data.username||i.password!==r.user_data.password||i.secondaryPassword!==r.user_data.secondaryPassword),E=()=>{r.updateUserData(i),ne(me.l23d),l("close")};return Vs(()=>{c.value=G.value}),($,I)=>(a(),f(X,null,[h((a(),f("div",Ga,[t("div",Da,[h(t("input",{id:"file",type:"file",accept:"png,jpg,jpeg",onChange:p},null,544),[[j,!1]]),t("div",Ha,[i.avatar?(a(),f("img",{key:0,src:i.avatar,alt:"",class:"avatar"},null,8,Pa)):D("",!0)]),t("div",Na,[t("label",za,[h((a(),S(ee,{class:"k-button"},{default:w(()=>[k(" 自定义头像 ")]),_:1})),[[e(U),{text:e(O).ix29}]])]),h((a(),S(ee,{class:"k-button",onClick:_},{default:w(()=>[k(" 选择内置头像 ")]),_:1})),[[e(U),{text:e(O).lb97}]])])]),t("div",Oa,[t("div",Ka,y(i.username),1),h((a(),S(ee,{onClick:b},{default:w(()=>[k("修改昵称")]),_:1})),[[e(U)]])]),t("div",Ba,[t("div",qa,y(i.password.replace(/./g,"*")),1),h((a(),S(ee,{class:"k-button",onClick:C},{default:w(()=>[k("修改密码")]),_:1})),[[e(U)]])]),t("div",ja,[t("div",Xa,y(i.secondaryPassword.replace(/./g,"*")),1),h((a(),S(ee,{class:"k-button",onClick:x},{default:w(()=>[k("修改二级密码")]),_:1})),[[e(U)]])])])),[[e(Pe)]]),h((a(),S(ee,{type:"warning",onClick:E},{default:w(()=>[k(" 保存 ")]),_:1})),[[e(U),{text:G.value?e(O).ty38:e(O).sq28}]])],64))}}),Fa=N(Ya,[["__scopeId","data-v-0ee62804"]]),Wa={key:0,class:"user-marker"},Za={class:"marker-list"},Ja={class:"title"},Qa={class:"card-list"},eo=["src"],to={class:"label"},so={class:"value"},ao=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const s=Le(o,"modelValue"),l=ls(),{marker_num_list:c}=Oe(l),r=[{title:"访问时间",marker_list:[{label:"登录天数",key:"tg73"},{label:"在线时长",key:"mc93"}]},{title:"夺宝消耗",marker_list:[{label:"英雄夺宝石",key:"ku27"},{label:"皮肤夺宝石",key:"i87h"},{label:"英雄夺宝币",key:"g45c"},{label:"皮肤夺宝币",key:"al38"},{label:"英雄夺宝次数",key:"d24r"},{label:"皮肤夺宝次数",key:"y8b2"}]},{title:"秘宝消耗",marker_list:[{label:"英雄夺宝",key:"d24r"},{label:"皮肤夺宝",key:"y8b2"},{label:"英雄秘宝",key:"kj05"},{label:"勇者皮肤秘宝",key:"aw51"},{label:"史诗皮肤秘宝",key:"ez16"},{label:"传说皮肤秘宝",key:"cz62"},{label:"限定皮肤秘宝",key:"cs01"}]},{title:"宝箱消耗",marker_list:[{label:"随机英雄",key:"er08"},{label:"自选英雄",key:"q65b"},{label:"自选勇者皮肤",key:"k4f6"},{label:"自选史诗皮肤",key:"yq53"},{label:"自选传说皮肤",key:"ag35"},{label:"自选限定皮肤",key:"cj13"}]},{title:"竞猜消耗",marker_list:[{label:"竞猜币",key:"pa16"},{label:"竞猜券",key:"j7m4"},{label:"海报竞猜次数",key:"ks52"},{label:"海报竞猜答错次数",key:"v87u"},{label:"技能竞猜次数",key:"ht88"},{label:"技能竞猜答错次数",key:"ff88"}]},{title:"道具消耗",marker_list:[{label:"金币",key:"h3t4"},{label:"钻石",key:"cq65"},{label:"英雄碎片",key:"vu33"},{label:"皮肤碎片",key:"i0k4"},{label:"王者水晶",key:"rj89"},{label:"荣耀水晶",key:"q9y1"},{label:"一级经验宝箱",key:"iu48"},{label:"二级经验宝箱",key:"nn05"},{label:"英雄夺宝周卡",key:"er27"},{label:"皮肤夺宝周卡",key:"ml55"},{label:"双倍经验卡",key:"e13s"},{label:"双倍金币卡",key:"c8k7"},{label:"伴生皮肤卡",key:"mh01"}]}];return(u,n)=>(a(),S(fe,{to:"body"},[g(H,{name:"to-top-opacity",appear:""},{default:w(()=>[s.value?(a(),f("div",Wa,[h(t("div",{class:"close",onClick:n[0]||(n[0]=d=>s.value=!1)},null,512),[[e(U),{text:e(O).mk66}]]),t("div",Za,[(a(),f(X,null,Z(r,(d,v)=>(a(),f(X,{key:v},[t("div",Ja,y(d.title),1),t("div",Qa,[(a(!0),f(X,null,Z(d.marker_list,(i,p)=>{var _,b;return a(),f("div",{key:p,class:"card-item"},[t("img",{src:e(At)(`mini_hero_${e(ct)(1,50)}`),alt:"",class:"bg"},null,8,eo),t("div",to,y(i.label),1),t("div",so,y(i.key==="mc93"?e(is)(((_=e(c)[i.key])==null?void 0:_.value)||0):(b=e(c)[i.key])==null?void 0:b.value),1)])}),128))])],64))),64))])])):D("",!0)]),_:1})]))}}),oo=N(ao,[["__scopeId","data-v-89333e12"]]),no=["src"],lo={class:"user-card"},io={class:"name"},ro={class:"user-id"},co={class:"id"},uo={class:"iconfont wzry-fuzhi"},_o={class:"prop-num"},vo={class:"prop-item"},po=["src"],mo={class:"num"},fo={class:"prop-item"},ho=["src"],go={class:"num"},ko={class:"btns"},yo={class:"edit-user-info-dialog"},$o=P({__name:"index",setup(o){const s=Ue(),l=Ae(),{articles:c}=Oe(l),r=m(),u=m(!1),n=m(!1),d=m(!1),v=m(!1),i=ue(()=>s.user_data),p=()=>{u.value=!0},_=()=>{u.value=!1},b=()=>{s.setSecondaryPassword().then(()=>{n.value=!0})},C=()=>{rs(i.value),ye({text:Ee.wd31,confirm(){s.exitCard()}})},x=()=>{v.value&&ye({text:Ee.ah95,confirm(){r.value._close()}})};return(G,E)=>(a(),f(X,null,[h((a(),f("div",{class:q(["user-menu",{hover:u.value}])},[t("img",{class:"head-img",src:i.value.avatar||e(He)("unknown"),alt:"头像",onTouchend:E[0]||(E[0]=$=>u.value=!u.value)},null,40,no),t("div",lo,[t("div",io,y(i.value.username),1),t("div",ro,[h(t("div",co,null,512),[[e(js),i.value.id]]),h(t("i",uo,null,512),[[e(Xs),i.value.id],[e(U),{text:e(O).lr80}]])]),t("div",_o,[t("div",vo,[t("img",{class:"icon",src:e(le)("gold"),alt:""},null,8,po),t("div",mo,y(e(Ct)(e(c).GOLD)),1)]),t("div",fo,[t("img",{class:"icon",src:e(le)("diamond"),alt:""},null,8,ho),t("div",go,y(e(Ct)(e(c).DIAMOND)),1)])]),t("div",ko,[h((a(),S(e(ee),{class:"k-button",onClick:E[1]||(E[1]=$=>d.value=!0)},{default:w(()=>[k(" 个人信息统计 ")]),_:1})),[[e(U),{text:e(O).kq36}]]),h((a(),S(e(ee),{type:"warning",class:"k-button",onClick:b},{default:w(()=>[k(" 修改个人资料 ")]),_:1})),[[e(U),{text:e(O).c3x1}]]),h((a(),S(e(ee),{class:"k-button",type:"error",onClick:C},{default:w(()=>[k(" 退卡 ")]),_:1})),[[e(U),{text:e(O).dz56}]])])])],2)),[[e(qs),{enter:p,leave:_}]]),(a(),S(fe,{to:"body"},[n.value?(a(),S(e(Ne),{key:0,ref_key:"dialogRef",ref:r,modelValue:n.value,"onUpdate:modelValue":E[3]||(E[3]=$=>n.value=$),"auto-close":!v.value,title:"编辑个人信息",width:"57.5rem",ratio:.75,up:"",onClose:x},{default:w(()=>[t("div",yo,[r.value?(a(),S(Fa,{key:0,status:v.value,"onUpdate:status":E[2]||(E[2]=$=>v.value=$),onClose:r.value._close},null,8,["status","onClose"])):D("",!0)])]),_:1},8,["modelValue","auto-close"])):D("",!0)])),g(oo,{modelValue:d.value,"onUpdate:modelValue":E[4]||(E[4]=$=>d.value=$)},null,8,["modelValue"])],64))}}),wo=N($o,[["__scopeId","data-v-f1e138e6"]]),bo={class:"setting"},So={class:"options"},Co={class:"option"},xo={class:"label"},Io={class:"option"},To={class:"label"},Eo={class:"option"},Ro={class:"label"},Ao={class:"option"},Vo={class:"label"},Mo={class:"option"},Uo={class:"label"},Lo={class:"option"},Go={class:"label"},Do={class:"option"},Ho={class:"label"},Po={class:"option"},No={class:"label"},zo={class:"option"},Oo={class:"label"},Ko={class:"update-version"},Bo={class:"version"},qo=P({__name:"index",emits:["update-log"],setup(o,{emit:s}){const l=s,c=ze(),r=Vt(),u=ut(),{data_status:n,dist_status:d}=Oe(u),{setAudioSwitch:v,setAudioVolume:i}=Re(),{setBarrage:p}=rt(),_=m({...r.config}),b=T=>{cs(T),L()},C=T=>{L(),T?setTimeout(()=>{c.play(!1)},1e3):c.pause()},x=T=>{c.setVolume(T),L()},G=T=>{p(T),L()},E=()=>{L()},$=T=>{v(T),L()},I=T=>{i(T),L()},M=T=>{us().setShine(T),L()},V=()=>{L()},R=T=>{!T&&Be({text:st.qk36}),L(),T&&Be({text:st.hg86})},A=()=>{Be({btnText:"立刻刷新",text:st.sm04,btnFn(){r.restoreTip(),location.reload()}})},L=()=>{r.saveConfig(_.value)},B=()=>{ye({text:Ee.i8p8,confirm(){r.resetConfig(),ne(me.j5l7),_.value=r.config}})},Y=()=>{l("update-log")};return(T,K)=>(a(),S(e(Ne),ht(T.$attrs,{title:"设置",width:"57.5rem",up:""}),{default:w(()=>[t("div",bo,[h((a(),f("div",So,[t("div",Co,[t("div",xo,y(T.$t("语言")),1),h(g(e(Ps),{modelValue:_.value.language,"onUpdate:modelValue":[K[0]||(K[0]=z=>_.value.language=z),b],width:"7rem",option:["中文","English"]},null,8,["modelValue"]),[[e(U),{text:e(O).v41b}]])]),t("div",Io,[t("div",To,y(T.$t("音效")),1),g(e(xt),{modelValue:_.value.audioVolume,"onUpdate:modelValue":[K[1]||(K[1]=z=>_.value.audioVolume=z),I],text:_.value.audioVolume+"%",disabled:!_.value.audio,"show-step":!1,"max-width":"100%",width:"45%"},null,8,["modelValue","text","disabled"]),h(g(e(xe),{modelValue:_.value.audio,"onUpdate:modelValue":[K[2]||(K[2]=z=>_.value.audio=z),$]},null,8,["modelValue"]),[[e(U)]])]),t("div",Eo,[t("div",Ro,y(T.$t("音乐")),1),g(e(xt),{modelValue:_.value.musicVolume,"onUpdate:modelValue":[K[3]||(K[3]=z=>_.value.musicVolume=z),x],text:_.value.musicVolume+"%",disabled:!_.value.music,"max-width":"100%",width:"45%","show-step":!1},null,8,["modelValue","text","disabled"]),h(g(e(xe),{modelValue:_.value.music,"onUpdate:modelValue":[K[4]||(K[4]=z=>_.value.music=z),C]},null,8,["modelValue"]),[[e(U)]])]),t("div",Ao,[t("div",Vo,y(T.$t("弹幕语音")),1),h(g(e(xe),{modelValue:_.value.barrage,"onUpdate:modelValue":[K[5]||(K[5]=z=>_.value.barrage=z),G]},null,8,["modelValue"]),[[e(U),{text:e(O).i7w1}]])]),t("div",Mo,[t("div",Uo,y(T.$t("音乐进度控制")),1),h(g(e(xe),{modelValue:_.value.musicProgress,"onUpdate:modelValue":[K[6]||(K[6]=z=>_.value.musicProgress=z),E]},null,8,["modelValue"]),[[e(U),{text:e(O).pd85}]])]),t("div",Lo,[t("div",Go,y(T.$t("元素发光")),1),h(g(e(xe),{modelValue:_.value.shine,"onUpdate:modelValue":[K[7]||(K[7]=z=>_.value.shine=z),M]},null,8,["modelValue"]),[[e(U),{text:e(O).ph01}]])]),t("div",Do,[t("div",Ho,y(T.$t("粒子特效")),1),h(g(e(xe),{modelValue:_.value.particle,"onUpdate:modelValue":[K[8]||(K[8]=z=>_.value.particle=z),V]},null,8,["modelValue"]),[[e(U),{text:e(O).ph48}]])]),t("div",Po,[t("div",No,y(T.$t("小贴士")),1),h(g(e(xe),{modelValue:_.value.tip,"onUpdate:modelValue":[K[9]||(K[9]=z=>_.value.tip=z),R]},null,8,["modelValue"]),[[e(U),{text:e(O).po14}]])]),t("div",zo,[t("div",Oo,y(T.$t("恢复所有小贴士")),1),h((a(),S(e(ee),{disabled:!_.value.tip,class:"k-button",onClick:A},{default:w(()=>[k(y(T.$t("恢复")),1)]),_:1},8,["disabled"])),[[e(U),{text:_.value.tip?e(O).k5j1:e(O).jb12,disabled:!_.value.tip}]])]),t("div",Ko,[t("span",{class:"update-log",onClick:Y},"更新日志"),t("div",Bo,[t("p",{class:q({old:e(n)})},y(T.$t("数据"))+"："+y(e(u).local_data_version),3),e(n)?(a(),f("p",{key:0,class:q({new:e(n)})},y(T.$t("登录后更新"))+"："+y(e(u).remote_data_version),3)):D("",!0),t("p",{class:q({old:e(d)})},y(T.$t("网页"))+"："+y(e(u).local_dist_version),3),e(d)?(a(),f("p",{key:1,class:q({new:e(d)})},y(T.$t("登录后更新"))+"："+y(e(u).remote_dist_version),3)):D("",!0)])])])),[[e(Pe)]]),h((a(),S(e(ee),{type:"error",onClick:B},{default:w(()=>[k(y(T.$t("重置配置")),1)]),_:1})),[[e(U)]])])]),_:1},16))}}),jo=N(qo,[["__scopeId","data-v-12641e70"]]),be=o=>(he("data-v-d0ff08b7"),o=o(),ge(),o),Xo={class:"update-log"},Yo={class:"main"},Fo=be(()=>t("h1",null,"页面层",-1)),Wo={class:"content"},Zo=be(()=>t("h2",null,"一、新增特性",-1)),Jo={key:1},Qo=be(()=>t("h2",null,"二、功能优化",-1)),en={key:3},tn=be(()=>t("h2",null,"三、样式优化",-1)),sn={key:5},an=be(()=>t("h2",null,"四、BUG修复",-1)),on={key:7},nn=be(()=>t("h1",null,"代码层",-1)),ln={class:"content"},rn={key:1},cn=be(()=>t("h1",null,"数据更新",-1)),un={class:"content"},dn={key:1},_n=be(()=>t("h1",null,"语音更新",-1)),vn={class:"content"},pn={key:1},mn=P({__name:"index",setup(o){const s=ut(),l=ue(()=>s.data_status),c=ue(()=>s.dist_status),r=ue(()=>s.update_log),u=()=>{s.updateAll()},n=()=>{s.setShowLog(!1)};return(d,v)=>(a(),S(Ne,ht({"show-close":!l.value&&!c.value},d.$attrs,{width:"57.5rem",header:"更新日志",desc:r.value.time,onClose:n}),{default:w(()=>[t("div",Xo,[h((a(),f("div",Yo,[Fo,t("div",Wo,[Zo,r.value.distLog.surface.new.length?(a(!0),f(X,{key:0},Z(r.value.distLog.surface.new,(i,p)=>(a(),f("p",{key:p},y(p+1)+"、"+y(i),1))),128)):(a(),f("p",Jo,"暂无")),Qo,r.value.distLog.surface.function.length?(a(!0),f(X,{key:2},Z(r.value.distLog.surface.function,(i,p)=>(a(),f("p",{key:p},y(p+1)+"、"+y(i),1))),128)):(a(),f("p",en,"暂无")),tn,r.value.distLog.surface.style.length?(a(!0),f(X,{key:4},Z(r.value.distLog.surface.style,(i,p)=>(a(),f("p",{key:p},y(p+1)+"、"+y(i),1))),128)):(a(),f("p",sn,"暂无")),an,r.value.distLog.surface.bug.length?(a(!0),f(X,{key:6},Z(r.value.distLog.surface.bug,(i,p)=>(a(),f("p",{key:p},y(p+1)+"、"+y(i),1))),128)):(a(),f("p",on,"暂无"))]),nn,t("div",ln,[r.value.distLog.substrate.length?(a(!0),f(X,{key:0},Z(r.value.distLog.substrate,(i,p)=>(a(),f("p",{key:p},y(p+1)+"、"+y(i),1))),128)):(a(),f("p",rn,"暂无"))]),cn,t("div",un,[r.value.dataKey.length?(a(!0),f(X,{key:0},Z(r.value.dataKey,(i,p)=>(a(),f("p",{key:p},"《"+y(i)+"》",1))),128)):(a(),f("p",dn,"暂无"))]),_n,t("div",vn,[r.value.voiceKey.length?(a(!0),f(X,{key:0},Z(r.value.voiceKey,(i,p)=>(a(),f("p",{key:p},"《"+y(i)+"》",1))),128)):(a(),f("p",pn,"暂无"))])])),[[e(Pe)]]),l.value||c.value?h((a(),S(ee,{key:0,type:"warning",onClick:u},{default:w(()=>[k(" 更新并重启 ")]),_:1})),[[e(U)]]):D("",!0)])]),_:1},16,["show-close","desc"]))}}),fn=N(mn,[["__scopeId","data-v-d0ff08b7"]]),Yt=o=>(he("data-v-4966d54f"),o=o(),ge(),o),hn={class:"mail-detail"},gn={class:"title"},kn=Yt(()=>t("div",{class:"label"},"标题",-1)),yn={class:"value"},$n={class:"content"},wn=Yt(()=>t("div",{class:"label"},"内容",-1)),bn={class:"value"},Sn={class:"reward"},Cn={class:"prop-list"},xn=P({__name:"index",props:{mail:{}},setup(o){const s=dt(),{playAudio:l}=Re(),c=m(),r=n=>{var d;(d=c.value)==null||d._close(),s.delMail(n),l("kh79")},u=n=>{var v;const d=n.props.map(({num:i,key:p})=>({name:Xe[p],num:i,key:p,icon:le(Ye[p])}));Fe(d),(v=c.value)==null||v._close(),s.delMail(n.id)};return(n,d)=>(a(),S(e(Ne),{ref_key:"KDialogRef",ref:c,title:"邮件详情",width:"57.5rem",up:"",ratio:.65},{default:w(()=>[t("div",hn,[t("div",gn,[kn,t("div",yn,y(n.mail.title),1)]),t("div",$n,[wn,t("div",bn,y(n.mail.desc),1)]),t("div",Sn,[h((a(),f("div",Cn,[(a(!0),f(X,null,Z(n.mail.props,(v,i)=>(a(),S(e(Qe),{key:i,"prop-key":v.key,num:v.num},null,8,["prop-key","num"]))),128))])),[[e(Ys)]]),n.mail.type==="GIFT"?(a(),S(e(ee),{key:0,type:"warning",class:"k-button",onClick:d[0]||(d[0]=v=>u(n.mail))},{default:w(()=>[k(" 领取 ")]),_:1})):(a(),S(e(ee),{key:1,class:"k-button",onClick:d[1]||(d[1]=v=>r(n.mail.id))},{default:w(()=>[k("删除")]),_:1}))])])]),_:1},512))}}),In=N(xn,[["__scopeId","data-v-4966d54f"]]),Tn={class:"mail"},En=["onClick"],Rn={class:"left"},An=["src"],Vn=["src"],Mn={class:"title"},Un={class:"time"},Ln=P({__name:"index",setup(o){const s=dt(),{mail_list:l}=Oe(s),c=m(),r=m(),u=m(!1),n=m(),{enableRadialBorder:d,disableRadialBorder:v}=Ns(c),i=_=>{n.value=_,u.value=!0,s.setMailRead(_.id)},p=()=>{const _={};l.value.forEach(C=>{var x;(x=C.props)==null||x.forEach(({key:G,num:E})=>{_[G]??(_[G]=0),_[G]+=E||1})});const b=[];for(const C in _){const x=C;b.push({name:Xe[x],key:x,num:_[x],icon:le(Ye[x])})}Fe(b),s.delGiftMail()};return(_,b)=>(a(),f(X,null,[g(e(Ne),ht(_.$attrs,{ref_key:"KDialogRef",ref:r,title:"邮箱",width:"50rem",ratio:.75}),{default:w(()=>[t("div",Tn,[h((a(),f("div",{class:"mail-list",onMouseenter:b[0]||(b[0]=(...C)=>e(d)&&e(d)(...C)),onMouseleave:b[1]||(b[1]=(...C)=>e(v)&&e(v)(...C))},[(a(!0),f(X,null,Z(e(l),(C,x)=>h((a(),f("div",{key:x,ref_for:!0,ref_key:"mailCardRefs",ref:c,class:"mail-item",onClick:G=>i(C)},[t("div",Rn,[C.type==="GIFT"?(a(),f("img",{key:0,class:"status",src:e(He)(`${C.read?"mail_gift_read":"mail_gift_unread"}`),alt:""},null,8,An)):D("",!0),C.type==="MSG"?(a(),f("img",{key:1,class:"status",src:e(He)(`${C.read?"mail_msg_read":"mail_msg_unread"}`),alt:""},null,8,Vn)):D("",!0),t("div",Mn,y(C.title),1)]),t("div",Un,y(e(ds)(C.time)),1)],8,En)),[[e(U)]])),128)),e(l).length===0?(a(),S(e(_s),{key:0,tip:"你还没有邮件",y:"-1.25rem"})):D("",!0)],32)),[[e(Pe)]]),e(l).some(C=>C.type==="GIFT")?h((a(),S(e(ee),{key:0,type:"warning",onClick:p},{default:w(()=>[k(" 一键领取 ")]),_:1})),[[e(U),{text:e(O).q1s7}]]):D("",!0)])]),_:1},16),u.value?(a(),S(In,{key:0,modelValue:u.value,"onUpdate:modelValue":b[2]||(b[2]=C=>u.value=C),mail:n.value},null,8,["modelValue","mail"])):D("",!0)],64))}}),Gn=N(Ln,[["__scopeId","data-v-0c34646f"]]),Dn={class:"task-toolbar"},Hn=P({__name:"index",emits:["change"],setup(o,{emit:s}){const l=s,c=["今日任务","本周任务"],r=u=>{l("change",u)};return(u,n)=>(a(),f("div",Dn,[g(e(vs),{auto:!1,"title-width":"9.375rem",options:c,onTab:r})]))}}),Pn=N(Hn,[["__scopeId","data-v-a404788f"]]),et=o=>(he("data-v-bb6a7921"),o=o(),ge(),o),Nn={class:"left"},zn={class:"info"},On={class:"title"},Kn={class:"desc"},Bn={class:"right"},qn={class:"props"},jn={class:"schedule-status"},Xn={key:0,class:"received"},Yn=et(()=>t("i",{class:"iconfont wzry-finish"},null,-1)),Fn=et(()=>t("span",null,"已领取",-1)),Wn=[Yn,Fn],Zn={key:1,class:"schedule-btn"},Jn={class:"schedule-box"},Qn=et(()=>t("div",{class:"label"},"进度：",-1)),el={class:"content"},tl={class:"percentage"},sl={class:"value"},al=et(()=>t("span",null,"%",-1)),ol={class:"schedule-list"},nl={class:"index"},ll=P({__name:"index",props:{data:{},index:{}},setup(o){const s=o,l=Bt(),c=_t(),r=we("close-task",()=>{}),u=s.index,n=ue(()=>{const v=It(s.data.schedule,"total"),i=It(s.data.schedule,"value");return i===0?0:ps([i,v,100],["/","*"],0)}),d=v=>{v.schedule.every(i=>i.value>=i.total)?c.receiveTaskReward(v.id):(r(),l.push(v.path))};return(v,i)=>(a(),f("div",{class:q(["task-card",{active:!v.data.receive&&n.value>=100}])},[t("div",Nn,[t("div",{class:"icon",style:$e({animationDelay:`-${e(u)*.37}s`,backgroundImage:`url(${e(At)("mini_hero_"+e(u))})`})},null,4),t("div",zn,[t("div",On,y(v.data.label),1),t("div",Kn,y(v.data.desc),1)])]),t("div",Bn,[t("div",qn,[(a(!0),f(X,null,Z(v.data.props,(p,_)=>(a(),S(e(Qe),{key:_,"prop-key":p.key,num:p.num},null,8,["prop-key","num"]))),128))]),t("div",jn,[v.data.receive?(a(),f("div",Xn,Wn)):(a(),f("div",Zn,[t("div",Jn,[Qn,t("div",el,[t("div",tl,[t("span",sl,y(n.value),1),al]),g(e(Zs),null,{btn:w(()=>[g(e(Os),{top:"-0.2rem",size:"1.25rem","margin-left":"1rem"},{default:w(()=>[k("!")]),_:1})]),tip:w(()=>[t("div",ol,[(a(!0),f(X,null,Z(v.data.schedule,(p,_)=>(a(),f("div",{key:_,class:"box"},[t("span",null,y(p.label)+y(p.unit)+"：",1),t("span",nl,y(p.value),1),t("span",null,"/"+y(p.total),1)]))),128))])]),_:1})])]),v.data.path||n.value>=100?h((a(),f("div",{key:0,class:q([{receive:n.value>=100},"btn"]),onClick:i[0]||(i[0]=p=>d(v.data))},[k(y(n.value<100?"前往":"领取"),1)],2)),[[e(U)]]):D("",!0)]))])])],2))}}),il=N(ll,[["__scopeId","data-v-bb6a7921"]]),rl=P({__name:"index",props:{tabIndex:{}},setup(o){const s=o,l=_t(),c=m([]),r=ue(()=>[l.today_task_list,l.week_task_list]),u=[];for(let n=1;n<51;n++)u.push(n);return mt(()=>s.tabIndex,()=>{c.value=Rt(u)},{immediate:!0}),(n,d)=>(a(!0),f(X,null,Z(r.value[n.tabIndex],(v,i)=>(a(),S(il,{key:v.id,data:v,index:c.value[i]},null,8,["data","index"]))),128))}}),cl={class:"task"},ul={class:"tool"},dl=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const s=Le(o,"modelValue"),{playAudio:l}=Re(),{setHideStatus:c}=Ve(),r=m(),u=m(0),n=m(!0),d=i=>{u.value=i,r.value.scrollTop=0},v=()=>{n.value=!1,c(!1),l("p60v"),setTimeout(()=>{s.value=!1},500)};return ve(()=>{l("kj62")}),it("close-task",v),(i,p)=>(a(),S(fe,{to:"body"},[t("div",cl,[g(H,{name:"close",appear:""},{default:w(()=>[h(t("div",{class:"close",onClick:v},null,512),[[j,n.value],[e(U),{text:e(O).mk66}]])]),_:1}),g(H,{name:"tool",appear:""},{default:w(()=>[h(t("div",ul,[g(Pn,{onChange:d})],512),[[j,n.value]])]),_:1}),g(H,{name:"main",appear:""},{default:w(()=>[h((a(),f("div",{ref_key:"taskMainRef",ref:r,class:"task-main"},[g(rl,{"tab-index":u.value},null,8,["tab-index"])])),[[j,n.value],[e(Pe)]])]),_:1})])]))}}),_l=N(dl,[["__scopeId","data-v-965e9763"]]);class kt{constructor(s,l){De(this,"animationStyle",[]);De(this,"animationMap",new Map);De(this,"scrollBox");De(this,"playground");this.scrollBox=s,this.playground=l,s.addEventListener("scroll",c=>{const r=c.target;this.updateStyle(r.scrollTop)})}createAnimation(s,l,c,r){return u=>{if(u<=s)return c;if(u>=l)return r;const n=c+(r-c)*(u-s)/(l-s);return Number(n.toFixed(6))}}addAnimationStyle(s,l){this.animationStyle.push([s,l])}updateMap(){this.animationMap.clear();const s=this.playground.getBoundingClientRect(),l=s.top+window.scrollY,c=s.bottom+window.scrollY-window.innerHeight;for(const[r,u]of this.animationStyle)this.animationMap.set(r,u(l,c));this.updateStyle(this.scrollBox.scrollTop)}updateStyle(s){for(const[l,c]of this.animationMap)for(const r in c)l.style[r]=c[r](s)}}const _e=o=>(he("data-v-246925a6"),o=o(),ge(),o),vl=["src"],pl=_e(()=>t("span",{class:"blue"},"讨论技术",-1)),ml=_e(()=>t("span",{class:"green"},"体验反馈",-1)),fl=_e(()=>t("span",{class:"red"},"设计不人性化",-1)),hl=_e(()=>t("span",{class:"red"},"功能不合理",-1)),gl=_e(()=>t("span",{class:"red"},"功能未正常加载",-1)),kl=_e(()=>t("span",{class:"red"},"点击按钮无反馈",-1)),yl=_e(()=>t("span",{class:"red"},"元素样式错位",-1)),$l=_e(()=>t("span",{class:"red"},"图片加载失败",-1)),wl=_e(()=>t("span",{class:"blue"},"@冷弋白",-1)),bl=_e(()=>t("span",{class:"green"},"独立开发者",-1)),Sl=_e(()=>t("span",{class:"red"},"细节漏洞",-1)),Cl=["src"],xl=P({__name:"index",setup(o,{expose:s}){const l=we("activityContainerRef"),c=m(),r=m(),u=m(),n=m(),d=m();return ve(()=>{let v=0;const i=new kt(l.value,c.value);i.addAnimationStyle(r.value,p=>{const _=p+500,b=i.createAnimation(p,_,0,1);return v=_-p,{opacity:b}}),i.addAnimationStyle(u.value,p=>{const _=p+v,b=_+500,C=i.createAnimation(_,b,0,1),x=G=>`translateZ(${250-C(G)*250}px)`;return v=b-p,{transform:x}}),i.addAnimationStyle(n.value,p=>{const _=p+v,b=_+500,C=i.createAnimation(_,b,0,1),x=G=>`translateZ(${250-C(G)*250}px)`;return v=b-p,{transform:x}}),i.addAnimationStyle(d.value,(p,_)=>{const b=p+v,C=i.createAnimation(b,_,0,1),x=i.createAnimation(b,_,50,0);return{transform:E=>`translateX(-50%) translateY(-${50-x(E)}%)`,opacity:C}}),i.updateMap()}),s({_el:c}),(v,i)=>(a(),f("div",{ref_key:"joinGroupRef",ref:c,class:"join-group"},[t("div",{ref_key:"activityItemRef",ref:r,class:"activity-item"},[t("img",{src:e(vt)("activity_join_group"),class:"bg",alt:""},null,8,vl),t("div",{ref_key:"titleRef",ref:u,class:"title"},"快到群里来！",512),t("div",{ref_key:"tipRef",ref:d,class:"tip"},[k(" 欢迎加群"),pl,k("及"),ml,k(" ，如果你在体验过程中遇到"),fl,k("、 "),hl,k("、"),gl,k("、 "),kl,k("、"),yl,k("、 "),$l,k("等各种问题，请积极在群里 "),wl,k("，一个合格的 "),bl,k("绝不会放过网站里任何一处 "),Sl,k("。 ")],512),t("img",{ref_key:"qrCodeRef",ref:n,class:"qr-code",src:e(He)("activity_group_code"),alt:""},null,8,Cl)],512)],512))}}),Il=N(xl,[["__scopeId","data-v-246925a6"]]),ot=m(!1),Ke=()=>({...{hide_all:ot},...{setHideStatus(l){l?ot.value=l:setTimeout(()=>{ot.value=l},500)}}}),Ge=o=>{const s=hs;return Ae().articles.GUESS_CARD===0?(ye({text:ms("p89n",{prop:"竞猜券"}),confirm(){o(),setTimeout(()=>{s.push(fs.PROP_SHOP)},1e3)}}),!0):!1},nt=m(!1),Ft=()=>({...{hide_all:nt},...{setHideStatus(l){l?nt.value=l:setTimeout(()=>{nt.value=l},500)}}}),Tl=(o,s)=>{const l=Ae(),c=Ue(),{addStatusMarkerNum:r}=Mt();let u=0,n=0,d=!1,v=20,i=[],p={},_={},b={},C={},x={},G=[];const E=[11,21,24,44,45,68,69,81,93,94,96,97,108,112,113,116,117],$=[1423,1663,5102,1913,1127,5252],I={answer:m(""),poster:m(""),right_answer:m(""),status_text:m(""),guess_coin:m(25),guess_count:m(0),guessing:m(!1),reveal:m(!1),loading:m(!1),show_receive:m(!1),show_status:m(!1),running:m(!1),answer_status:m(0),countdown:m(["2","0"])},{answer_status:M,answer:V,countdown:R,loading:A,poster:L,reveal:B,right_answer:Y,running:T,show_receive:K,show_status:z,status_text:ie,guess_coin:ce,guessing:J,guess_count:ae}=I,Se=()=>{c.updateUserData({guess:{poster:{guessing:J.value,skinIds:G,guessCount:ae.value}}})},re=()=>{M.value=0,T.value=!0,setTimeout(()=>{if(!(B.value||d)){if(v<=0){ke.submitAnswer();return}v--,ce.value>10&&v<=16&&(ce.value-=2),R.value=Lt(v,"SEC"),re()}},1e3)},ke={randomPoster(){if(ae.value>=We){s(),ne(Me("xv24",{v:"竞猜次数"}),"error");return}V.value="",v=20,B.value=!1,A.value=!0,R.value=["2","0"];const oe=i.filter(Ce=>!G.includes(Ce)&&!E.includes(b[Ce])&&!$.includes(Ce));if(oe.length<=50){s(),ne(Me("kq91",{type:"海报",num:50,goods:"皮肤"}),"error");return}const F=ct(0,oe.length-1);u=oe[F];const W=x[oe[F]].cover,te=new Image;te.src=W,te.onload=()=>{d||(L.value=W,A.value=!1,J.value=!0,ae.value++,Se(),r("POSTER_GUESS_COUNT"),setTimeout(re,2e3),n=C[u])},te.onerror=pe},async submitAnswer(){if(!T.value)return;const oe=V.value===p[n];B.value=!0,T.value=!1,oe||r("POSTER_GUESS_WRONG_COUNT"),await Ie(2e3),z.value=!0,Y.value=`${p[n]}-${_[u]}`,oe?(G.push(u),K.value=!0,M.value=1,ie.value="回答正确，是否继续答题？"):(ce.value=25,M.value=2,ie.value="回答错误，已扣除竞猜券，是否继续答题？",l.setGamePropNum("GUESS_CARD",1,"SUB")),J.value=!1,Se()},receiveGuessCoin(){Fe({name:Xe.GUESS_COIN,icon:le(Ye.GUESS_COIN),key:"GUESS_COIN",num:ce.value},()=>{K.value=!1,ce.value=25})},setShowStatus(oe){z.value=oe}},{randomPoster:pe}=ke;return(async()=>{const{skinIds:oe,guessing:F,guessCount:W}=c.user_data.guess.poster;G=oe,ae.value=W,p=await Ut(),_=await gs(),b=await ks(),x=await ys(),C=await $s(),i=await ws(),F?(Se(),setTimeout(()=>{l.setGamePropNum("GUESS_CARD",1,"SUB"),ye({text:Ee.ee02,confirm:()=>{setTimeout(()=>{Ge(o)||pe()},1e3)}})},1e3)):setTimeout(pe,1e3)})(),Kt(()=>{d=!0}),{...I,...ke}},yt=o=>(he("data-v-62a324f3"),o=o(),ge(),o),El={class:"guess-game"},Rl={class:"guess-prop"},Al={class:"prop"},Vl=["src"],Ml={class:"num"},Ul={class:"prop"},Ll=["src"],Gl={class:"submit"},Dl={class:"receive-guess-coin"},Hl={class:"prop"},Pl={class:"count"},Nl=["innerHTML"],zl={class:"btns"},Ol=yt(()=>t("i",{class:"iconfont wzry-guanbi"},null,-1)),Kl=[Ol],Bl={class:"countdown"},ql=yt(()=>t("div",{class:"text"},"剩余填写时间：",-1)),jl=yt(()=>t("div",{class:"tip"},"电脑端只能在全屏下答题，一旦识别非全屏，将自动退出竞猜并扣除竞猜券",-1)),Xl=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const s=Le(o,"modelValue"),l=Ae(),c=Ft(),r=Ke(),u=we("close-activity"),{answer_status:n,answer:d,countdown:v,guess_coin:i,guessing:p,loading:_,poster:b,randomPoster:C,receiveGuessCoin:x,reveal:G,right_answer:E,running:$,setShowStatus:I,show_receive:M,show_status:V,status_text:R,submitAnswer:A}=Tl(u,T),L=m(!0),B=m(!1),Y=()=>{B.value=!0};function T(){L.value=!1,setTimeout(()=>{s.value=!1,c.setHideStatus(!1),r.setHideStatus(!1)},500)}const K=()=>{T(),setTimeout(()=>{u()},1500)},z=()=>{Ge(K)||B.value&&(B.value=!1,C(),setTimeout(()=>{I(!1)},250))},ie=pt(()=>{p.value?ne(me.z0r7,"error"):(ne(me.g3h9),M.value&&x()),T()},100);return ve(()=>{Gt(),setTimeout(()=>{if(window.innerWidth!==window.screen.width){ie();return}window.addEventListener("resize",ie),window.addEventListener("mouseleave",ie)},1e3)}),Je(()=>{window.removeEventListener("resize",ie),window.removeEventListener("mouseleave",ie),Dt()}),(ce,J)=>(a(),S(fe,{to:"body"},[g(H,{name:"fade",appear:""},{default:w(()=>[h(t("div",El,[t("div",Rl,[t("div",Al,[t("img",{src:e(le)(e(Te).ICON.GUESS_CARD),alt:"",class:"icon"},null,8,Vl),t("div",Ml,y(e(l).articles.GUESS_CARD),1)]),t("div",Ul,[t("img",{src:e(le)(e(Te).ICON.GUESS_COIN),alt:"",class:"icon"},null,8,Ll),g(e(qe),{class:"k-long-num",value:e(l).articles.GUESS_COIN},null,8,["value"])])]),t("div",{class:q(["guess-poster",{green:e(n)===1,red:e(n)===2}])},[g(Ze,{name:"fade"},{default:w(()=>[h(t("div",{key:"c",class:"answer"},y(e(E)),513),[[j,e(V)]]),e(_)?(a(),S(e(Ht),{key:"a",white:"",width:"6.25rem"})):(a(),f("div",{key:"b",class:q(["topic",{reveal:e(G)}]),style:$e({backgroundImage:`url(${e(b)})`})},null,6))]),_:1})],2),t("div",Gl,[g(e(jt),{modelValue:e(d),"onUpdate:modelValue":J[0]||(J[0]=ae=>gt(d)?d.value=ae:null),empty:!1,disabled:!e($),black:"",type:"HERO",placeholder:"英雄名称"},null,8,["modelValue","disabled"]),h((a(),f("div",{class:q(["commit",{disabled:!e($)}]),onClick:J[1]||(J[1]=(...ae)=>e(A)&&e(A)(...ae))},[k(" 提交答案 ")],2)),[[e(U),{disabled:!e($)}]])]),e(M)?(a(),S(H,{key:0,name:"fade",appear:""},{default:w(()=>[t("div",Dl,[t("div",Hl,[t("div",{class:"icon",style:$e({backgroundImage:`url(${e(le)(e(Te).ICON.GUESS_COIN)})`})},null,4),t("div",Pl,"×"+y(e(i)),1)]),g(e(ee),{type:"warning",onClick:e(x)},{default:w(()=>[k("领取竞猜币")]),_:1},8,["onClick"])])]),_:1})):(a(),S(H,{key:1,name:"to-top"},{default:w(()=>[e(V)?h((a(),f("div",{key:0,class:q(["answer-status",{green:e(n)===1,red:e(n)===2}]),innerHTML:e(R)},null,10,Nl)),[[e(Pt),{callback:Y,delay:250,speed:100}]]):D("",!0)]),_:1})),g(H,{name:"to-top"},{default:w(()=>[h(t("div",zl,[t("div",{class:"close",onClick:T},Kl),t("div",{class:"next",onClick:z},[t("i",{class:q(["iconfont wzry-dui",e(n)===1?"wzry-you":"wzry-dui"])},null,2)])],512),[[j,B.value]])]),_:1}),g(H,{name:"to-top"},{default:w(()=>[h(t("div",Bl,[ql,g(H,{name:"fade"},{default:w(()=>[g(e(qt),{rate:.45,running:e($),unit:"SEC",nums:e(v)},null,8,["running","nums"])]),_:1})],512),[[j,e($)]])]),_:1}),g(H,{name:"to-top",appear:""},{default:w(()=>[jl]),_:1})],512),[[j,L.value]])]),_:1})]))}}),Yl=N(Xl,[["__scopeId","data-v-62a324f3"]]),Q=o=>(he("data-v-9586f636"),o=o(),ge(),o),Fl={class:"activity-item"},Wl=["src"],Zl={class:"reward"},Jl=Q(()=>t("span",{class:"green"},"道具商店",-1)),Ql=Q(()=>t("span",{class:"orange"},"竞猜券",-1)),ei=Q(()=>t("span",{class:"green"},"随机皮肤海报",-1)),ti=Q(()=>t("span",{class:"blue"},"颜色反转",-1)),si=Q(()=>t("span",{class:"blue"},"Y轴翻转",-1)),ai=Q(()=>t("span",{class:"blue"},"去色",-1)),oi=Q(()=>t("span",{class:"blue"},"20秒",-1)),ni=Q(()=>t("span",{class:"green"},"英雄的名字",-1)),li=Q(()=>t("span",{class:"orange"},"竞猜币",-1)),ii=Q(()=>t("span",{class:"green"},"答题耗时",-1)),ri=Q(()=>t("span",{class:"orange"},"用时越少，发放越多",-1)),ci=Q(()=>t("span",{class:"red"},"回答错误",-1)),ui=Q(()=>t("span",{class:"red"},"扣除",-1)),di=Q(()=>t("span",{class:"red"},"退出竞猜",-1)),_i=Q(()=>t("span",{class:"red"},"“这道题不会而放弃作答”",-1)),vi=Q(()=>t("span",{class:"red"},"自动扣除竞猜券",-1)),pi=Q(()=>t("span",{class:"green"},"游戏LOGO",-1)),mi=Q(()=>t("span",{class:"blue"},"关闭或刷新",-1)),fi={class:"tip"},hi=P({__name:"index",setup(o,{expose:s}){const l=Ue(),c=Ke(),{hide_all:r,setHideStatus:u}=Ft(),n=[{key:"GUESS_COIN",num:"9~25"}],d=we("close-activity"),v=we("activityContainerRef"),i=m(),p=m(),_=m(),b=m(),C=m(),x=m(!1),G=ue(()=>l.user_data.guess.poster.guessCount),E=()=>{if(G.value>=We){ne(Me("xv24",{v:"竞猜次数"}),"error");return}Ge(d)||ye({text:Ee.vj93,confirm:()=>{u(!0),c.setHideStatus(!0),setTimeout(()=>{x.value=!0},1e3)}})};return ve(()=>{let $=0;const I=new kt(v.value,i.value);I.addAnimationStyle(p.value,M=>{const V=M+500,R=I.createAnimation(M,V,0,1),A=L=>`translateZ(${250-R(L)*250}px)`;return $=V-M,{transform:A}}),b.value.forEach((M,V)=>{I.addAnimationStyle(M._el,R=>{const A=R+$+V*250,L=A+(V+1)+250,B=I.createAnimation(A,L,0,1),Y=I.createAnimation(A,L,-100,0);return{transform:K=>`translateX(${Y(K)}%)`,opacity:B}})}),I.addAnimationStyle(_.value,M=>{$=$+n.length*2*250;const V=M+$,R=V+500,A=I.createAnimation(V,R,0,1),L=I.createAnimation(V,R,50,0),B=Y=>`translateX(-50%) translateY(-${50-L(Y)}%)`;return $=R-M,{transform:B,opacity:A}}),I.addAnimationStyle(C.value,(M,V)=>{const R=M+$,A=I.createAnimation(R,V,0,1),L=I.createAnimation(R,V,50,0);return{transform:Y=>`translateX(${L(Y)}%)`,opacity:A}}),I.updateMap()}),s({_el:i}),($,I)=>(a(),f(X,null,[t("div",{ref_key:"posterGuessRef",ref:i,class:"poster-guess"},[t("div",Fl,[t("img",{src:e(vt)("activity_poster_guess"),class:"bg",alt:""},null,8,Wl),g(H,{name:"to-right"},{default:w(()=>[h(t("div",{ref_key:"titleRef",ref:p,class:"title"},"海报竞猜",512),[[j,!e(r)]])]),_:1}),g(H,{name:"to-right"},{default:w(()=>[h(t("div",Zl,[(a(),f(X,null,Z(n,(M,V)=>g(e(Qe),{ref_for:!0,ref_key:"propRefs",ref:b,key:V,class:"prop","prop-key":M.key,num:M.num},null,8,["prop-key","num"])),64))],512),[[j,!e(r)]])]),_:1}),g(H,{name:"fade"},{default:w(()=>[h(t("div",{ref_key:"tipRef",ref:_,class:"tip"},[k(" 你需要前往 "),Jl,k(" 购买并使用 "),Ql,k(" 参加活动，系统将给出一幅 "),ei,k(" ，海报通过 "),ti,k(" 、 "),si,k(" 以及 "),ai,k(" 处理，你有 "),oi,k(" 时间输入该海报属于哪个 "),ni,k(" 进行回答，回答正确一题可立即获得 "),li,k(" 奖励，竞猜币数根据 "),ii,k(" 发放，答题 "),ri,k(" ，竞猜券在 "),ci,k(" 时 "),ui,k(" 。并且在没有完成回答且回答正确的情况下 "),di,k(" ，都将视为 "),_i,k(" ，下次参与竞猜将 "),vi,k(" ，但允许在 "),pi,k(" 旋转时 "),mi,k(" 浏览器。 ")],512),[[j,!e(r)]])]),_:1}),g(H,{name:"to-left"},{default:w(()=>[h(t("div",{ref_key:"startRef",ref:C,class:"start"},[h((a(),f("div",{class:"btn",onClick:E},[k("开始竞猜")])),[[e(U)]]),t("div",fi,"今日剩余竞猜次数："+y(e(Nt).GUESS_COUNT_LIMIT-G.value),1)],512),[[j,!e(r)]])]),_:1})])],512),x.value?(a(),S(Yl,{key:0,modelValue:x.value,"onUpdate:modelValue":I[0]||(I[0]=M=>x.value=M)},null,8,["modelValue"])):D("",!0)],64))}}),gi=N(hi,[["__scopeId","data-v-9586f636"]]),lt=m(!1),Wt=()=>({...{hide_all:lt},...{setHideStatus(l){l?lt.value=l:setTimeout(()=>{lt.value=l},500)}}}),ki=(o,s)=>{const l=Ae(),c=Ue(),{addStatusMarkerNum:r}=Mt();let u=20,n=0,d=!0,v=!1,i=[],p={},_={},b={};const C=[],x={answer:m(""),hero_name:m(""),status_text:m(""),skill_index:m(-1),guess_coin:m(25),guess_count:m(0),answer_status:m(0),reveal:m(!1),loading:m(!1),show_receive:m(!1),show_status:m(!1),running:m(!1),guessing:m(!1),show_question:m(!1),skill:m(),countdown:m(["2","0"]),skill_list:m([]),right_skill_index_list:m([])},{answer_status:G,answer:E,countdown:$,hero_name:I,loading:M,reveal:V,running:R,show_receive:A,show_status:L,status_text:B,guess_coin:Y,guessing:T,right_skill_index_list:K,skill_index:z,show_question:ie,skill:ce,skill_list:J,guess_count:ae}=x,Se={show_skill_list:ue({get(){return J.value.filter((F,W)=>z.value===-1||z.value===W)},set(F){J.value=F}})},re=()=>{c.updateUserData({guess:{skill:{guessing:T.value,skillIds:b,guessCount:ae.value}}})},ke=()=>{G.value=0,R.value=!0,setTimeout(()=>{if(!(V.value||v)){if(u<=0){pe.submitAnswer();return}u--,Y.value>10&&u<=16&&(Y.value-=2),$.value=Lt(u,"SEC"),ke()}},1e3)},pe={randomSkill(){var Ce;if(ae.value>=We){s(),ne(Me("xv24",{v:"竞猜次数"}),"error");return}E.value="",u=20,z.value=-1,V.value=!1,d=!0,$.value=["2","0"];const F=i.filter(wt=>!C.includes(wt));if(F.length<=3){s(),ne(Me("kq91",{type:"技能",num:10,goods:"英雄"}),"error");return}n=F[ct(0,F.length-1)],K.value=b[n]||[];const W=(Ce=p==null?void 0:p[n])==null?void 0:Ce[0];if(W.every((wt,Zt)=>{var bt;return(bt=b[n])==null?void 0:bt.includes(Zt)})){C.push(n),de();return}I.value=_[n],J.value=W},async selectSkillIndex(F){var te;if((te=b[n])!=null&&te.includes(F)||!d)return;ce.value=J.value[F],d=!1,M.value=!0,z.value=F,await Ie(500);const W=new Image;W.src=ce.value.img,W.onload=()=>{v||(M.value=!1,T.value=!0,ie.value=!0,ae.value++,re(),r("SKILL_GUESS_COUNT"),setTimeout(ke,1500))},W.onerror=de,re()},async submitAnswer(){if(!R.value)return;const F=E.value===_[n];V.value=!0,R.value=!1,F||r("SKILL_GUESS_WRONG_COUNT"),await Ie(2e3),L.value=!0,E.value===_[n]?(b[n]??(b[n]=[]),b[n].push(z.value),A.value=!0,G.value=1,B.value="回答正确，是否继续答题？"):(Y.value=25,G.value=2,B.value="回答错误，已扣除竞猜券，是否继续答题？",l.setGamePropNum("GUESS_CARD",1,"SUB")),T.value=!1,re()},receiveGuessCoin(){Fe({name:Xe.GUESS_COIN,icon:le(Ye.GUESS_COIN),key:"GUESS_COIN",num:Y.value},()=>{A.value=!1,Y.value=25})},setShowStatus(F){L.value=F}},{randomSkill:de}=pe;return(async()=>{const{skillIds:F,guessing:W,guessCount:te}=c.user_data.guess.skill;b=F,ae.value=te,p=await bs(),_=await Ut(),i=await Ss(),W?(re(),setTimeout(()=>{l.setGamePropNum("GUESS_CARD",1,"SUB"),ye({text:Ee.ee02,confirm:()=>{setTimeout(()=>{Ge(o)||de()},1e3)}})},1e3)):setTimeout(de,1e3)})(),Kt(()=>{v=!0}),{...x,...Se,...pe}},$t=o=>(he("data-v-0d5a1b96"),o=o(),ge(),o),yi={class:"guess-game"},$i={class:"guess-skill"},wi=["onClick"],bi=["src"],Si=["src"],Ci={class:"hero-name"},xi={class:"skill-name"},Ii=["innerHTML"],Ti={class:"submit"},Ei={class:"receive-guess-coin"},Ri={class:"prop"},Ai={class:"count"},Vi=["innerHTML"],Mi={class:"btns"},Ui=$t(()=>t("i",{class:"iconfont wzry-guanbi"},null,-1)),Li=[Ui],Gi={class:"countdown"},Di=$t(()=>t("div",{class:"text"},"剩余填写时间：",-1)),Hi={class:"prop"},Pi=["src"],Ni={class:"num"},zi={class:"prop"},Oi=["src"],Ki=$t(()=>t("div",{class:"tip"},"电脑端只能在全屏下答题，一旦识别非全屏，将自动退出竞猜并扣除竞猜券",-1)),Bi=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const s=Le(o,"modelValue"),l=Ae(),c=Wt(),r=Ke(),u=we("close-activity"),{answer_status:n,answer:d,countdown:v,guess_coin:i,guessing:p,hero_name:_,loading:b,randomSkill:C,receiveGuessCoin:x,reveal:G,right_skill_index_list:E,running:$,selectSkillIndex:I,setShowStatus:M,show_question:V,show_receive:R,show_skill_list:A,show_status:L,skill_index:B,skill:Y,status_text:T,submitAnswer:K}=ki(u,re),z=["被动","一","二","三","四"],ie=m(),ce=m(!0),J=m(!1),ae=()=>{K(),ft(()=>{const oe=ie.value.scrollHeight;ie.value.style.height=oe/16+"rem"})},Se=()=>{J.value=!0};function re(){ce.value=!1,setTimeout(()=>{s.value=!1,c.setHideStatus(!1),r.setHideStatus(!1)},500)}const ke=()=>{re(),setTimeout(()=>{u()},1500)},pe=()=>{Ge(ke)||J.value&&(J.value=!1,V.value=!1,A.value=[],setTimeout(()=>{C(),setTimeout(()=>{M(!1)},250)},500))},de=pt(()=>{p.value?ne(me.z0r7,"error"):(ne(me.g3h9),R.value&&x()),re()},100);return ve(()=>{Gt(),setTimeout(()=>{if(window.innerWidth!==window.screen.width){de();return}window.addEventListener("resize",de),window.addEventListener("mouseleave",de)},1e3)}),Je(()=>{window.removeEventListener("resize",de),window.removeEventListener("mouseleave",de),Dt()}),(oe,F)=>(a(),S(fe,{to:"body"},[g(H,{name:"fade",appear:""},{default:w(()=>[h(t("div",yi,[t("div",$i,[g(Ze,{name:"fade-a"},{default:w(()=>[(a(!0),f(X,null,Z(e(A),(W,te)=>(a(),f("div",{key:W.name,class:"skill",onClick:Ce=>e(I)(te)},[t("div",{class:q(["icon-box",{guessing:e(V),effective:!e(E).includes(te)}])},[g(H,{name:"fade"},{default:w(()=>[e(b)?(a(),S(e(Ht),{key:"a",white:"",width:"5rem"})):D("",!0)]),_:1}),t("img",{src:e(He)("unknown"),class:q(["unknown",{disabled:e(E).includes(te),"move-bottom ":e(V)}]),alt:""},null,10,bi),e(V)?(a(),f("img",{key:0,src:W.img,alt:"",class:"icon"},null,8,Si)):D("",!0)],2)],8,wi))),128))]),_:1})]),g(H,{name:"hide-answer"},{default:w(()=>{var W,te;return[e(G)?(a(),f("div",{key:0,ref_key:"answerRef",ref:ie,class:"answer"},[t("div",Ci,y(e(_)),1),t("div",xi,y(z[e(B)])+"技能——"+y((W=e(Y))==null?void 0:W.name),1),t("div",{class:"desc",innerHTML:(te=e(Y))==null?void 0:te.desc},null,8,Ii)],512)):D("",!0)]}),_:1}),t("div",Ti,[g(e(jt),{modelValue:e(d),"onUpdate:modelValue":F[0]||(F[0]=W=>gt(d)?d.value=W:null),empty:!1,disabled:!e($),black:"",type:"HERO",placeholder:"英雄名称"},null,8,["modelValue","disabled"]),h((a(),f("div",{class:q(["commit",{disabled:!e($)}]),onClick:ae},[k(" 提交答案 ")],2)),[[e(U),{disabled:!e($)}]])]),e(R)?(a(),S(H,{key:0,name:"fade",appear:""},{default:w(()=>[t("div",Ei,[t("div",Ri,[t("div",{class:"icon",style:$e({backgroundImage:`url(${e(le)(e(Te).ICON.GUESS_COIN)})`})},null,4),t("div",Ai,"×"+y(e(i)),1)]),g(e(ee),{type:"warning",onClick:e(x)},{default:w(()=>[k("领取竞猜币")]),_:1},8,["onClick"])])]),_:1})):(a(),S(H,{key:1,name:"to-top"},{default:w(()=>[e(L)?h((a(),f("div",{key:0,class:q(["answer-status",{green:e(n)===1,red:e(n)===2}]),innerHTML:e(T)},null,10,Vi)),[[e(Pt),{callback:Se,delay:250,speed:100}]]):D("",!0)]),_:1})),g(H,{name:"to-top"},{default:w(()=>[h(t("div",Mi,[t("div",{class:"close",onClick:re},Li),t("div",{class:"next",onClick:pe},[t("i",{class:q(["iconfont wzry-dui",e(n)===1?"wzry-you":"wzry-dui"])},null,2)])],512),[[j,J.value]])]),_:1}),g(H,{name:"to-top"},{default:w(()=>[h(t("div",Gi,[Di,g(H,{name:"fade"},{default:w(()=>[g(e(qt),{rate:.45,running:e($),unit:"SEC",nums:e(v)},null,8,["running","nums"])]),_:1})],512),[[j,e($)]])]),_:1}),t("div",{class:"guess-prop",onClick:re},[t("div",Hi,[t("img",{src:e(le)(e(Te).ICON.GUESS_CARD),alt:"",class:"icon"},null,8,Pi),t("div",Ni,y(e(l).articles.GUESS_CARD),1)]),t("div",zi,[t("img",{src:e(le)(e(Te).ICON.GUESS_COIN),alt:"",class:"icon"},null,8,Oi),g(e(qe),{class:"k-long-num",value:e(l).articles.GUESS_COIN},null,8,["value"])])]),g(H,{name:"to-top",appear:""},{default:w(()=>[Ki]),_:1})],512),[[j,ce.value]])]),_:1})]))}}),qi=N(Bi,[["__scopeId","data-v-0d5a1b96"]]),se=o=>(he("data-v-6e0c6293"),o=o(),ge(),o),ji={class:"activity-item"},Xi=["src"],Yi={class:"reward"},Fi=se(()=>t("span",{class:"green"},"道具商店",-1)),Wi=se(()=>t("span",{class:"orange"},"竞猜券",-1)),Zi=se(()=>t("span",{class:"green"},"随机选择一位英雄",-1)),Ji=se(()=>t("span",{class:"green"},"随机一个技能图标",-1)),Qi=se(()=>t("span",{class:"blue"},"20秒",-1)),er=se(()=>t("span",{class:"green"},"英雄的名字",-1)),tr=se(()=>t("span",{class:"orange"},"竞猜币",-1)),sr=se(()=>t("span",{class:"green"},"答题耗时",-1)),ar=se(()=>t("span",{class:"orange"},"用时越少，发放越多",-1)),or=se(()=>t("span",{class:"red"},"回答错误",-1)),nr=se(()=>t("span",{class:"red"},"扣除",-1)),lr=se(()=>t("span",{class:"red"},"退出竞猜",-1)),ir=se(()=>t("span",{class:"red"},"“这道题不会而放弃作答”",-1)),rr=se(()=>t("span",{class:"red"},"自动扣除竞猜券",-1)),cr=se(()=>t("span",{class:"green"},"游戏LOGO",-1)),ur=se(()=>t("span",{class:"blue"},"关闭或刷新",-1)),dr={class:"tip"},_r=P({__name:"index",setup(o,{expose:s}){const l=Ue(),c=Ke(),{hide_all:r,setHideStatus:u}=Wt(),n=[{key:"GUESS_COIN",num:"9~25"}],d=we("close-activity"),v=we("activityContainerRef"),i=m(),p=m(),_=m(),b=m(),C=m(),x=m(!1),G=ue(()=>l.user_data.guess.skill.guessCount),E=()=>{if(G.value>=We){ne(Me("xv24",{v:"竞猜次数"}),"error");return}Ge(d)||ye({text:Ee.vj93,confirm:()=>{u(!0),c.setHideStatus(!0),setTimeout(()=>{x.value=!0},1e3)}})};return ve(()=>{let $=0;const I=new kt(v.value,i.value);I.addAnimationStyle(p.value,M=>{const V=M+500,R=I.createAnimation(M,V,0,1),A=L=>`translateZ(${250-R(L)*250}px)`;return $=V-M,{transform:A}}),b.value.forEach((M,V)=>{I.addAnimationStyle(M._el,R=>{const A=R+$+V*250,L=A+(V+1)+250,B=I.createAnimation(A,L,0,1),Y=I.createAnimation(A,L,-100,0);return{transform:K=>`translateX(${Y(K)}%)`,opacity:B}})}),I.addAnimationStyle(_.value,M=>{$=$+n.length*2*250;const V=M+$,R=V+500,A=I.createAnimation(V,R,0,1),L=I.createAnimation(V,R,50,0),B=Y=>`translateX(-50%) translateY(-${50-L(Y)}%)`;return $=R-M,{transform:B,opacity:A}}),I.addAnimationStyle(C.value,(M,V)=>{const R=M+$,A=I.createAnimation(R,V,0,1),L=I.createAnimation(R,V,50,0);return{transform:Y=>`translateX(${L(Y)}%)`,opacity:A}}),I.updateMap()}),s({_el:i}),($,I)=>(a(),f(X,null,[t("div",{ref_key:"skillGuessRef",ref:i,class:"skill-guess"},[t("div",ji,[t("img",{src:e(vt)("activity_skill_guess"),class:"bg",alt:""},null,8,Xi),g(H,{name:"to-right"},{default:w(()=>[h(t("div",{ref_key:"titleRef",ref:p,class:"title"},"技能竞猜",512),[[j,!e(r)]])]),_:1}),g(H,{name:"to-right"},{default:w(()=>[h(t("div",Yi,[(a(),f(X,null,Z(n,(M,V)=>g(e(Qe),{ref_for:!0,ref_key:"propRefs",ref:b,key:V,class:"prop","prop-key":M.key,num:M.num},null,8,["prop-key","num"])),64))],512),[[j,!e(r)]])]),_:1}),g(H,{name:"fade"},{default:w(()=>[h(t("div",{ref_key:"tipRef",ref:_,class:"tip"},[k(" 你需要前往 "),Fi,k(" 购买并使用 "),Wi,k(" 参加活动，系统将 "),Zi,k(" 的 "),Ji,k(" ，你有 "),Qi,k(" 时间输入该技能属于哪个 "),er,k(" 进行回答，回答正确一题可立即获得 "),tr,k(" 奖励，竞猜币数根据 "),sr,k(" 发放，答题 "),ar,k(" ，竞猜券在 "),or,k(" 时 "),nr,k(" 。并且在没有完成回答且回答正确的情况下 "),lr,k(" ，都将视为 "),ir,k(" ，下次参与竞猜将 "),rr,k(" ，但允许在 "),cr,k(" 旋转时 "),ur,k(" 浏览器。 ")],512),[[j,!e(r)]])]),_:1}),g(H,{name:"to-left"},{default:w(()=>[h(t("div",{ref_key:"startRef",ref:C,class:"start"},[h((a(),f("div",{class:"btn",onClick:E},[k("开始竞猜")])),[[e(U)]]),t("div",dr,"今日剩余竞猜次数："+y(e(Nt).GUESS_COUNT_LIMIT-G.value),1)],512),[[j,!e(r)]])]),_:1})])],512),x.value?(a(),S(qi,{key:0,modelValue:x.value,"onUpdate:modelValue":I[0]||(I[0]=M=>x.value=M)},null,8,["modelValue"])):D("",!0)],64))}}),vr=N(_r,[["__scopeId","data-v-6e0c6293"]]),pr={key:0,class:"activity"},mr={class:"progress"},fr={class:"title-list"},hr=["onClick","innerHTML"],gr={class:"bar-box"},kr=P({__name:"index",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(o){const s=Le(o,"modelValue"),{playAudio:l}=Re(),{setHideStatus:c}=Ve(),{hide_all:r}=Ke(),u=window.innerHeight,n=m(),d=m(),v=m(),i=m(),p=m([]),_=m(!0),b=m(0),C=m(0),x=m(),G=()=>{const R=A=>!A.value||!A.value._el?{top:0,bottom:0}:{top:A.value._el.offsetTop,bottom:A.value._el.offsetTop+A.value._el.offsetHeight};p.value=[{label:"快到群里来",start:0,end:R(d).bottom,height:d.value._el.offsetHeight},{label:"海报竞猜",start:R(v).top,end:R(v).bottom,height:v.value._el.offsetHeight},{label:"技能竞猜",start:R(i).top,end:R(i).bottom,height:i.value._el.offsetHeight},{label:"",start:R(i).top+i.value._el.offsetHeight-window.innerHeight,end:0,height:0}]},E=R=>p.value.find(A=>R>=A.start&&R<=A.end),$=R=>{const A=R.target,L=p.value.map(B=>B.start);b.value=xs(A.scrollTop,L),C.value=A.scrollTop,x.value=E(A.scrollTop)},I=R=>{var A;l("n4r4"),(A=n.value)==null||A.scroll({top:R-u,behavior:"smooth"})},M=pt(()=>{x.value&&I(x.value.end)},100),V=()=>{_.value=!1,l("pj83"),setTimeout(()=>{s.value=!1},500),c(!1)};return ve(()=>{l("bq69"),G(),window.addEventListener("resize",()=>{M()}),setTimeout(()=>{I(d.value._el.offsetHeight)},500)}),Ms(()=>{window.removeEventListener("resize",M)}),it("activityContainerRef",n),it("close-activity",V),(R,A)=>(a(),S(fe,{to:"body"},[g(H,{name:"fade",appear:""},{default:w(()=>[_.value?(a(),f("div",pr,[g(H,{name:"tool",appear:""},{default:w(()=>[h(t("div",{class:"close",onClick:V},null,512),[[j,_.value&&!e(r)],[e(U),{text:e(O).mk66}]])]),_:1}),t("div",{ref_key:"activityContainerRef",ref:n,class:"activity-container",onScroll:$},[g(Il,{ref_key:"joinGroupRef",ref:d},null,512),g(gi,{ref_key:"posterGuessRef",ref:v},null,512),g(vr,{ref_key:"skillGuessRef",ref:i},null,512)],544),g(H,{name:"tool",appear:""},{default:w(()=>[h(t("div",mr,[t("div",fr,[(a(!0),f(X,null,Z(p.value,(L,B)=>h((a(),f("div",{key:B,class:q(["title",{color:L.start<=C.value&&C.value<L.end,"active-dot":L.start<=C.value}]),onClick:Y=>I(L.end),innerHTML:L.label},null,10,hr)),[[e(U),{text:e(Cs)("e8p6",{v:L.label})}]])),128))]),t("div",gr,[t("div",{class:"bar",style:$e({height:`${b.value}%`})},null,4)])],512),[[j,_.value&&!e(r)]])]),_:1})])):D("",!0)]),_:1})]))}}),yr=N(kr,[["__scopeId","data-v-a48c86e0"]]),$r={class:"btn-icon"},wr=P({__name:"index",setup(o){const s=ut(),l=dt(),c=_t(),{setHideStatus:r}=Ve(),{show_activity:u,setActivityShow:n}=zs(),d=m(),v=m(!1),i=m(!1),p=m(!1),_=m(!1),b=()=>{s.setShowLog(!0)},C=()=>{r(!0),_.value=!0},x=()=>{r(!0),n(!0)};return ve(()=>{setTimeout(()=>{i.value=!0,Be({text:Is.mu63,align:"left-bottom",color:!1,createFn(){Tt.show(d.value)},btnFn:Tt.close})},3e3)}),(G,E)=>(a(),f("div",$r,[h(t("i",{class:q(["iconfont wzry-youxiang",{unread:e(l).haveUnread}]),onClick:E[0]||(E[0]=$=>p.value=!0)},null,2),[[e(U),{text:e(O).lq48}]]),h(t("i",{ref_key:"settingRef",ref:d,class:"iconfont wzry-setting",onClick:E[1]||(E[1]=$=>v.value=!0)},null,512),[[e(U),{text:e(O).er37}]]),h(t("i",{class:q([{receive:e(c).exist_receive},"iconfont wzry-task"]),onClick:C},null,2),[[e(U),{text:e(O).nz58}]]),h(t("i",{class:"iconfont wzry-huodong",onClick:x},null,512),[[e(U),{text:e(O).g9u9}]]),(a(),S(fe,{to:"body"},[p.value?(a(),S(Gn,{key:0,modelValue:p.value,"onUpdate:modelValue":E[2]||(E[2]=$=>p.value=$)},null,8,["modelValue"])):D("",!0),v.value?(a(),S(jo,{key:1,modelValue:v.value,"onUpdate:modelValue":E[3]||(E[3]=$=>v.value=$),onUpdateLog:b},null,8,["modelValue"])):D("",!0),e(s).show_update&&i.value?(a(),S(fn,{key:2})):D("",!0)])),e(u)?(a(),S(yr,{key:0,modelValue:e(u),"onUpdate:modelValue":E[4]||(E[4]=$=>gt(u)?u.value=$:null)},null,8,["modelValue"])):D("",!0),_.value?(a(),S(_l,{key:1,modelValue:_.value,"onUpdate:modelValue":E[5]||(E[5]=$=>_.value=$)},null,8,["modelValue"])):D("",!0)]))}}),br=N(wr,[["__scopeId","data-v-cc49a176"]]),Sr={class:"navbar border-1"},Cr={class:"navbar__right"},xr=P({__name:"index",setup(o){const{hide_all:s}=Ve();return(l,c)=>(a(),S(H,{name:"to-bottom",appear:""},{default:w(()=>[h(t("div",Sr,[g(Ta),t("div",Cr,[g(La),g(wo),g(br)])],512),[[j,!e(s)]])]),_:1}))}}),Ir=N(xr,[["__scopeId","data-v-4596e362"]]),Tr={class:"app-main"},Er=P({__name:"index",setup(o){const{hide_all:s}=Ve(),l=["Hero","Skin","Savor","Equip","Epigraph","Knapsack","LotteryHero","LotterySkin","ShopCrystal","KingCrystal","YiBao","HonorCrystal","ShopDebris","HeroDebrisShop","SkinDebrisShop","PropShop"],c=()=>{Ts.close()};return(r,u)=>{const n=Us("router-view");return a(),S(H,{name:"app-main"},{default:w(()=>[h(t("div",Tr,[g(n,null,{default:w(({Component:d})=>[(a(),S(Ls,{include:l},[(a(),S(Gs(d),{onVnodeMounted:c},null,512))],1024))]),_:1})],512),[[j,!e(s)]])]),_:1})}}}),Rr=N(Er,[["__scopeId","data-v-622c57ba"]]),Ar={class:"time"},Vr=P({__name:"index",setup(o){const s=Ks().format("YYYY.MM.DD");return(l,c)=>(a(),f("div",Ar,"2022.3.16 - "+y(e(s)),1))}}),Mr=N(Vr,[["__scopeId","data-v-61c6ff49"]]),Ur=o=>(he("data-v-b9ba3bef"),o=o(),ge(),o),Lr={class:"music-list"},Gr={class:"top"},Dr=Ur(()=>t("div",{class:"title"},"播放列表",-1)),Hr={class:"list"},Pr=["onClick"],Nr={class:"left"},zr={class:"num"},Or={key:0},Kr={key:1,class:"iconfont wzry-playactive"},Br={class:"name"},qr={class:"time"},jr=P({__name:"index",setup(o){const s=ze(),l=()=>{s.list()},c=r=>{s.bgmIndex!==r&&s.playIndex(r)};return(r,u)=>(a(),S(H,{name:"music-list"},{default:w(()=>[h(t("div",Lr,[t("div",Gr,[Dr,h(t("i",{class:"iconfont wzry-guanbi",onClick:l},null,512),[[e(U)]])]),t("div",Hr,[(a(!0),f(X,null,Z(e(s).musics,(n,d)=>h((a(),f("div",{key:d,class:q(["card",{active:d===e(s).bgmIndex}]),onClick:v=>c(d)},[t("div",Nr,[t("div",zr,[d!==e(s).bgmIndex?(a(),f("span",Or,y(d+1),1)):(a(),f("i",Kr))]),t("div",Br,y(n.name),1)]),t("div",qr,y(n.time),1)],10,Pr)),[[e(U),{text:e(O).sg22}]])),128))])],512),[[j,e(s).show_list]])]),_:1}))}}),Xr=N(jr,[["__scopeId","data-v-b9ba3bef"]]),Yr=P({__name:"index",emits:["toggle"],setup(o,{emit:s}){const l=s,c=ze(),{vertical:r}=zt(),u=n=>{l("toggle",n)};return(n,d)=>(a(),f("div",{class:q(["music-tool",{center:e(r)}]),onClick:d[4]||(d[4]=Ds(()=>{},["stop"]))},[h(t("i",{class:"iconfont wzry-last",onClick:d[0]||(d[0]=v=>u("last"))},null,512),[[e(U),{text:e(O).q3k7}]]),h(t("i",{class:q(["iconfont",e(c).status?"wzry-play":"wzry-pause"]),onClick:d[1]||(d[1]=v=>u(e(c).status?"pause":"play"))},null,2),[[e(U),{text:e(O).qf48}]]),h(t("i",{class:"iconfont wzry-next",onClick:d[2]||(d[2]=v=>u("next"))},null,512),[[e(U),{text:e(O).q7a3}]]),h(t("i",{class:"iconfont wzry-musiclist",onClick:d[3]||(d[3]=v=>u("list"))},null,512),[[e(U),{text:e(O).r4r3}]]),g(Xr,{class:"music-list"})],2))}}),Fr=N(Yr,[["__scopeId","data-v-6079beae"]]),Wr={class:"copyright",href:"https://github.com/lengyibai",target:"_blank"},Zr=P({__name:"index",setup(o){return(s,l)=>h((a(),f("a",Wr,[k(" @"+y(s.$t("冷弋白")),1)])),[[e(U),{text:e(O).vz77}]])}}),Jr=N(Zr,[["__scopeId","data-v-e4865264"]]),Qr=P({__name:"index",setup(o){const s=ze();return(l,c)=>(a(),f("div",{class:"music-play",style:$e({width:e(s).progress+"%"})},null,4))}}),ec=N(Qr,[["__scopeId","data-v-2cecd2da"]]),tc=P({__name:"index",setup(o){const s=ze(),l=Vt(),{vertical:c}=zt(),{hide_all:r}=Ve(),u=m(),n=m(),d=m(),v=m(0),i=ue(()=>l.config.music),p=ue(()=>l.config.musicProgress);ft(()=>{s.initAudioVisual(n.value),l.config.music&&s.play()});const _=x=>{!i.value||!d.value||(v.value=parseFloat(((x.pageX-d.value.offsetLeft)/d.value.offsetWidth).toFixed(2)),p.value&&s.setCurrentTime(v.value))},b=x=>{!i.value||!p.value||!d.value||!u.value||(u.value.style.left=parseFloat(((x.pageX-d.value.offsetLeft)/d.value.offsetWidth).toFixed(2))*100+"%")},C=x=>{if(x==="play"){s.play(!1);return}({last:s.last,pause:s.pause,next:s.next,list:s.list})[x]()};return Je(()=>{s.stop(),s.resetAudio()}),(x,G)=>(a(),S(H,{name:"to-top",appear:""},{default:w(()=>[h((a(),f("div",{ref_key:"footbarRef",ref:d,class:"foot-bar",onClick:_,onMousemove:b},[i.value&&p.value?(a(),f("div",{key:0,ref_key:"lineRef",ref:u,class:"line"},null,512)):D("",!0),i.value?(a(),S(ec,{key:1})):D("",!0),h(g(Mr,null,null,512),[[j,!e(c)]]),h(g(Fr,{onToggle:C},null,512),[[j,i.value]]),g(Jr),t("canvas",{ref_key:"canvasRef",ref:n},null,512)],32)),[[j,!e(r)],[e(Es),{enable:e(l).config.particle}]])]),_:1}))}}),sc=N(tc,[["__scopeId","data-v-739f6832"]]),ac={class:"layout"},oc={class:"layout-container"},nc=P({__name:"index",setup(o){const{status:s}=rt(),{playAudio:l}=Re(),c=m(!1),r=m(!1),u=m(!1),n=m(!1);return ve(async()=>{l("p53r"),await Ie(1e3),c.value=!0,await Ie(500),r.value=!0,await Ie(500),n.value=!0,await Ie(500),u.value=!0}),(d,v)=>(a(),f("div",ac,[e(s)?(a(),S(fe,{key:0,to:"body"},[g(da)])):D("",!0),c.value?(a(),S(xa,{key:1})):D("",!0),t("div",oc,[r.value?(a(),S(Ir,{key:0})):D("",!0),n.value?(a(),S(Rr,{key:1})):D("",!0),u.value?(a(),S(sc,{key:2})):D("",!0)]),g(e(Bs),{link:e(Rs)("bg"),muted:""},null,8,["link"])]))}}),yc=N(nc,[["__scopeId","data-v-812a2ad4"]]);export{yc as default};
