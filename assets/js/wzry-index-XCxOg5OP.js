import{a_ as w,a$ as L,P as A,n as b,o as I,aQ as N,b0 as $,Q as D,l as E,q as H}from"./wzry-index-O-tmU9-f.js";import{l as P,_ as h,$ as q,r as y,B as C,C as i,D as r,M as k,u as c,O as F,H as p,G as v,F as O,E as T,S as U}from"./wzry-wzry_vue-ZP7q88Pe.js";const x={ref:"selectBox",class:"select-box"},K=["onMousedown"],Q={class:"item"},z=P({__name:"index",props:h({disabled:{type:Boolean,default:!1},type:{default:"ALL"},empty:{type:Boolean,default:!0},placeholder:{default:"皮肤/英雄"},black:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:h(["change"],["update:modelValue"]),setup(m,{emit:S}){const n=m,f=S,l=q(m,"modelValue"),{playAudio:B}=E();let t=[];const u=y(!1),d=y([]),M=()=>{u.value=!0,d.value=t,l.value&&_()},V=()=>{u.value=!1},_=()=>{d.value=$(D(t),l.value,"value")},g=e=>{e==="全部"?(l.value="",f("change","")):(l.value=e,f("change",e)),B()};return C(async()=>{const e=(await w()).map(s=>s.value),o=(await L()).map(s=>s.value);let a=[];n.type==="ALL"?a=[...e,...o]:n.type==="HERO"?a=e:n.type==="SKIN"&&(a=o),t=A([...new Set(a)].map(s=>({label:s,value:s}))),n.empty&&t.unshift({label:"全部",value:"全部"}),d.value=t}),(e,o)=>(i(),r("div",{class:v(["select-hero-and-skin",{black:e.black}])},[k((i(),r("div",x,[F(N,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),class:"k-input",placeholder:l.value||e.placeholder,required:!1,disabled:e.disabled,onInput:_,onFocus:M,onBlur:V},null,8,["modelValue","placeholder","disabled"]),p("div",{class:v(["arrow",{rotate:u.value}])},null,2)])),[[c(b),{text:e.disabled?"":c(I).kb43,type:"INPUT",disabled:e.disabled}]]),p("div",{class:v(["select-list",{retract:!u.value||e.disabled}])},[(i(!0),r(O,null,T(d.value,a=>k((i(),r("div",{key:a.label,class:"box",onMousedown:s=>g(a.value)},[p("div",Q,U(a.value),1)],40,K)),[[c(b)]])),128))],2)],2))}}),j=H(z,[["__scopeId","data-v-132c9acc"]]);export{j as S};
