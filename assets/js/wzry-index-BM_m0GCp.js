import{k as P,M as L,u as e,E as k,F as c,J as n,S as x,G as z,X as D,r as V,O as i,i as U,w as J,n as K,y as O,P as A,Q as B,T as R,H as Q,I as X,L as Y}from"./wzry-wzry_vue-BEC82j21.js";import{s as E}from"./wzry-wzry_vuePlugin-DfAOYnI4.js";import{Y as j,aH as q,b as W,M as Z,aD as ee,s as te,aP as ae,aJ as se,p as I,aK as C,e as oe,aC as ne,ad as ie,t as le,x as re}from"./wzry-index-CTpLHwAa.js";import{S as G,F as ce}from"./wzry-index-quQVn9Fg.js";import{F as de,K as ue}from"./wzry-index-tyIRwcPb.js";import{S as me}from"./wzry-index-CBLVWWZ_.js";import{u as pe}from"./wzry-index.vue_vue_type_style_index_0_scoped_308049e9_lang-CBrt823u.js";import{L as _e,v as ve}from"./wzry-index-DOb7V6j6.js";import"./wzry-wzry_axios-ChA_wbf5.js";import"./wzry-wzry_dayjs-RHYc_Oz-.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-BOs0bO5i.js";import"./wzry-wzry_i18n-D3aQbx8W.js";import"./wzry-wzry_vueuse-Dl7OonR3.js";const fe={class:"skin-card"},ke=["src"],he=["src"],Se={class:"price"},ye={key:0,class:"coupon"},ge={class:"bottom"},Te=["innerHTML"],be=["innerHTML"],Ne=P({__name:"index",props:{data:{}},emits:["view"],setup(w,{emit:h}){const d=w,m=h,s=j(),S=t=>t&&!isNaN(Number(t)),y=t=>{const l=d.data.id;se(l,"SKIN")&&m("view",t,l)};return(t,l)=>L((c(),k("div",fe,[n("div",{class:z(["bg-box",{have:e(s).skin_list.includes(t.data.id)}])},[L(n("img",{class:"bg",src:t.data.posterBlur},null,8,ke),[[e(te),{img:t.data.cover}]])],2),t.data.link?(c(),k("img",{key:0,class:"type",src:t.data.link},null,8,he)):x("",!0),n("div",Se,[S(t.data.price)?(c(),k("div",ye)):x("",!0),L(n("span",null,null,512),[[e(ae),{num:t.data.price,duration:2e3}]])]),n("div",ge,[n("div",{class:"name",innerHTML:t.data.name},null,8,Te),n("div",{class:"mark",innerHTML:`——${t.data.heroName}`},null,8,be)]),n("div",{class:"tool"},[n("span",{onClick:y},l[0]||(l[0]=[n("i",{class:"iconfont wzry-fangda"},null,-1),D(" 查看详情 ")]))])])),[[e(q)],[e(W),{disabled:!e(s).skin_list.includes(t.data.id),text:e(s).skin_list.includes(t.data.id)?e(Z).mv02:e(ee)("a20t",{v:"皮肤"})}]])}}),Ve=I(Ne,[["__scopeId","data-v-540ecfd4"]]),we={class:"skin-toolbar"},$e={class:"filter-select"},Ce=P({__name:"index",emits:["change"],setup(w,{expose:h,emit:d}){const m=d,s=G(),{price_type:S,skin_type:y,skin_type_list:t,same_name:l,same_name_list:g,have_type:p,gender_type:r}=E(s),T=["全部价格","免费","由低到高","由高到低"],b=["全部皮肤","未拥有","已拥有"],_=V(""),u=()=>{_.value="",m("change")},M=o=>{s.sortPrice(T[o]),u()},F=o=>{s.filterSkinType(t.value[o]),u()},$=o=>{s.filterSameName(g.value[o]),u()},H=o=>{s.haveType(b[o]),u()},a=o=>{s.filterGender(o),u()},v=()=>{s.searchSkin(_.value),m("change")};return h({_clearName:u}),(o,f)=>(c(),k("div",we,[n("div",$e,[i(C,{options:T,"sort-text":e(S),onSelect:M},null,8,["sort-text"]),i(C,{options:e(t),"sort-text":e(y),"list-height":"31.25rem","min-width":"8.5rem",onSelect:F},null,8,["options","sort-text"]),i(C,{options:e(g),"sort-text":e(l),onSelect:$},null,8,["options","sort-text"]),i(C,{"sort-text":e(p),options:b,onSelect:H},null,8,["sort-text"])]),i(de,{modelValue:e(r),"onUpdate:modelValue":[f[0]||(f[0]=N=>U(r)?r.value=N:null),a]},null,8,["modelValue"]),i(me,{modelValue:_.value,"onUpdate:modelValue":f[1]||(f[1]=N=>_.value=N),onChange:v},null,8,["modelValue"])]))}}),Le=I(Ce,[["__scopeId","data-v-fca6d6af"]]),xe={class:"skin"},Me={class:"skin-main"},Fe=P({name:"Skin",__name:"index",props:{visible:{type:Boolean}},setup(w){const h=w,d=G(),{scroll:m,show_list:s,finish:S,loading:y}=E(d),{playAudio:t}=oe(),{line_num:l}=pe(4,[[2e3,4],[1600,3],[1400,2],[720,1]]),g=V(),p=V(),r=V(!1),T=V(!1);d.getSkin();const b=ne(a=>{d.setScroll(a),T.value=a>250},250),_=()=>{b(0),r.value=!1,K(()=>{r.value=!0})},u=()=>{var a;_(),(a=g.value)==null||a._clearName()},M=()=>{d.loadMore().then(()=>{var a;(a=p.value)==null||a._updateStatus()})},F=(a,v)=>{le({id:v,parent:a.target,type:"SKIN"}),t("u4c5")},$=()=>{t("n4r4")},H=()=>{var a;(a=p.value)==null||a._setPosition(0,!1)};return J(()=>h.visible,a=>{r.value=a,K(()=>{var v;(v=p.value)==null||v._setPosition(m.value)})}),O(async()=>{var a;t("gz43"),(a=p.value)==null||a._setPosition(m.value),await re(250),r.value=!0}),(a,v)=>(c(),k("div",xe,[n("div",Me,[i(R,{name:"to-bottom",appear:""},{default:B(()=>[i(Le,{ref_key:"skinToolbarRef",ref:g,onChange:_},null,512)]),_:1}),i(e(ue),{active:T.value,onBackTop:H},null,8,["active"]),i(R,{name:"fade"},{default:B(()=>[e(s).length&&r.value?(c(),A(e(_e),{key:0,ref_key:"libVirtualListRef",ref:p,data:e(s),"column-count":e(l),loading:e(y),finish:e(S),onScroll:e(b),onLoadMore:M},{default:B(({data:o})=>[(c(!0),k(Q,null,X(o,(f,N)=>L((c(),k("div",{key:f.id,style:Y({"transition-delay":N%(e(l)*2)*.1+"s"}),onMouseenter:$,onTouchstart:$},[i(Ve,{data:f,onView:F},null,8,["data"])],36)),[[e(ve)]])),128))]),_:1},8,["data","column-count","loading","finish","onScroll"])):x("",!0)]),_:1}),e(s).length===0?(c(),A(e(ie),{key:0,tip:"你还没有拥有皮肤"})):x("",!0)]),i(e(ce),{type:"skin",onChange:u})]))}}),Qe=I(Fe,[["__scopeId","data-v-62aa95cf"]]);export{Qe as default};
