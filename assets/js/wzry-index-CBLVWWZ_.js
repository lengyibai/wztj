import{e as I,aT as L,aU as w,I as A,b as _,M as N,aL as E,aV as H,J as T,p as U}from"./wzry-index-CTpLHwAa.js";import{k as $,_ as h,$ as C,r as y,C as D,E as i,F as r,G as c,M as k,J as p,u as v,O as F,H as O,I as P,V as q}from"./wzry-wzry_vue-BEC82j21.js";const x={ref:"selectBox",class:"select-box"},J=["onMousedown"],K={class:"item"},z=$({__name:"index",props:h({disabled:{type:Boolean,default:!1},type:{default:"ALL"},empty:{type:Boolean,default:!0},placeholder:{default:"皮肤/英雄"},black:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:h(["change"],["update:modelValue"]),setup(m,{emit:V}){const n=m,f=V,l=C(m,"modelValue"),{playAudio:M}=I();let t=[];const d=y(!1),u=y([]),S=()=>{d.value=!0,u.value=t,l.value&&b()},g=()=>{d.value=!1},b=()=>{u.value=H(T(t),l.value,"value")},B=e=>{e==="全部"?(l.value="",f("change","")):(l.value=e,f("change",e)),M()};return D(async()=>{const e=(await L()).map(s=>s.value),o=(await w()).map(s=>s.value);let a=[];n.type==="ALL"?a=[...e,...o]:n.type==="HERO"?a=e:n.type==="SKIN"&&(a=o),t=A([...new Set(a)].map(s=>({label:s,value:s}))),n.empty&&t.unshift({label:"全部",value:"全部"}),u.value=t}),(e,o)=>(r(),i("div",{class:c(["select-hero-and-skin",{black:e.black}])},[k((r(),i("div",x,[F(E,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),class:"k-input",placeholder:l.value||e.placeholder,required:!1,disabled:e.disabled,onInput:b,onFocus:S,onBlur:g},null,8,["modelValue","placeholder","disabled"]),p("div",{class:c(["arrow",{rotate:d.value}])},null,2)])),[[v(_),{text:e.disabled?"":v(N).kb43,type:"INPUT",disabled:e.disabled}]]),p("div",{class:c(["select-list",{retract:!d.value||e.disabled}])},[(r(!0),i(O,null,P(u.value,a=>k((r(),i("div",{key:a.label,class:"box",onMousedown:s=>B(a.value)},[p("div",K,q(a.value),1)],40,J)),[[v(_)]])),128))],2)],2))}}),j=U(z,[["__scopeId","data-v-42d581e5"]]);export{j as S};
