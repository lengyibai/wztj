import{k as $,r as j,c as q,E as i,F as o,J as e,H as f,I as K,G as J,S as Q,V as C,u as t,M as k,P as N,Q as r,L as P,y as W,O as u,T as E}from"./wzry-wzry_vue-BEC82j21.js";import{u as X,L as Z,S as tt}from"./wzry-useLotteryPlay-bxUFH2Bh.js";import{s as st}from"./wzry-wzry_vuePlugin-DfAOYnI4.js";import{bj as et,a2 as at,e as D,F as v,G as c,bk as M,b,M as S,y as x,x as ot,p as V}from"./wzry-index-CTpLHwAa.js";import"./wzry-index-BrrdO2Ct.js";import"./wzry-index-B-RbYMYs.js";import"./wzry-index-CtFj8Xvm.js";import"./wzry-wzry_axios-ChA_wbf5.js";import"./wzry-wzry_dayjs-RHYc_Oz-.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-BOs0bO5i.js";import"./wzry-wzry_i18n-D3aQbx8W.js";import"./wzry-wzry_vueuse-Dl7OonR3.js";const lt={class:"lottery-area"},it={key:0,class:"tag"},nt=["src"],rt={class:"text"},dt={class:"tool"},ut={class:"content"},ct={class:"luck"},_t={class:"luck-value"},pt=["data-text"],vt={class:"btns"},mt=["src"],yt=["src"],ft=["src"],kt=["src"],Nt=$({__name:"index",setup(Y){const d=et(),A=at(),{skin_lucky:m}=st(d),{playAudio:w}=D(),{getLotteryIndex:R,gift_index:_,last_reward_position:z,checkAloneNotCount:B,setLastPosition:F,have_alone_free:y,have_multiple_free:I,have_alone_discount:T,have_multiple_discount:g,calcAloneReward:G,calcMultipleReward:H,checkMultipleNotCount:U}=X("SKIN"),l=j(-1),L=q(()=>A.config.lotteryAnimation),O=()=>{if(B())return;R();let n=0,s=0;const a=()=>{setTimeout(()=>{if(w("o7r6"),l.value++,l.value===12&&(l.value=0),l.value===z.value&&n++,n===2&&(s+=35),n===2&&_.value===l.value){setTimeout(()=>{F(_.value),d.setLuckValue("SKIN"),G()},250);return}a()},50+[0,25,50,75][n]+s)};a()},h=n=>{if(U(n,O))return;const s=[],a=()=>{setTimeout(async()=>{if(l.value++,L.value&&w("o7r6"),l.value===12&&(l.value=0),_.value===l.value&&s.length<5&&(d.setLuckValue("SKIN"),M.SKIN[_.value].type==="HONOR_CRYSTAL"&&d.resetSkinLuck(),s.push(_.value),await ot(L.value?500:0,R),s.length>=5)){H(s);return}a()},L.value?50:0)};a()};return(n,s)=>(o(),i("div",lt,[(o(!0),i(f,null,K(t(M).SKIN,(a,p)=>(o(),i("div",{key:p,class:J([{active:l.value===p},"area-box"])},[a.num?(o(),i("div",it,C(a.num),1)):Q("",!0),e("img",{src:t(v)(t(c).ICON[a.type]),alt:"",class:"icon"},null,8,nt),e("div",rt,C(t(c).NAME[a.type]),1)],2))),128)),e("div",dt,[e("div",ut,[e("div",ct,[e("div",_t,[e("div",{class:"value","data-text":t(m)},C(t(m)),9,pt)]),s[2]||(s[2]=e("div",{class:"luck-label","data-text":"幸运值"},"幸运值",-1))]),e("div",vt,[t(y)?(o(),i(f,{key:0},[k((o(),N(t(x),{disabled:!t(y),class:"k-button",type:"warning",onClick:O},{default:r(()=>[e("img",{src:t(v)(t(c).ICON.SKIN_LOTTERY_COIN),alt:"",class:"icon"},null,8,mt),s[3]||(s[3]=e("span",{class:"num"},"×1",-1)),s[4]||(s[4]=e("div",{class:"text"},"夺宝一次",-1))]),_:1,__:[3,4]},8,["disabled"])),[[t(b),{disabled:!t(y),text:t(y)?"":t(S).zk84}]]),k((o(),N(t(x),{disabled:!t(I),class:"k-button",type:"warning",onClick:s[0]||(s[0]=a=>h("FREE"))},{default:r(()=>[e("img",{src:t(v)(t(c).ICON.SKIN_LOTTERY_COIN),alt:"",class:"icon"},null,8,yt),s[5]||(s[5]=e("span",{class:"num"},"×5",-1)),s[6]||(s[6]=e("div",{class:"text"},"夺宝五次",-1))]),_:1,__:[5,6]},8,["disabled"])),[[t(b),{disabled:!t(I),text:t(I)?"":t(S).c2y9}]])],64)):(o(),i(f,{key:1},[k((o(),N(t(x),{class:"k-button",type:"warning",disabled:!t(T),onClick:O},{default:r(()=>[e("img",{src:t(v)(t(c).ICON.SKIN_LOTTERY_STONE),alt:"",class:"icon"},null,8,ft),s[7]||(s[7]=e("span",{class:"num"},"×1",-1)),s[8]||(s[8]=e("div",{class:"text"},"夺宝一次",-1))]),_:1,__:[7,8]},8,["disabled"])),[[t(b),{disabled:!t(T),text:t(T)?"":t(S).zk84}]]),k((o(),N(t(x),{disabled:!t(g),class:"k-button",type:"warning",onClick:s[1]||(s[1]=a=>h("DEDUCTION"))},{default:r(()=>[e("img",{src:t(v)(t(c).ICON.SKIN_LOTTERY_STONE),alt:"",class:"icon"},null,8,kt),s[9]||(s[9]=e("span",{class:"num"},"×5",-1)),s[10]||(s[10]=e("div",{class:"text"},"夺宝五次",-1))]),_:1,__:[9,10]},8,["disabled"])),[[t(b),{disabled:!t(g),text:t(g)?"":t(S).c2y9}]])],64))])]),e("div",{class:"waves",style:P(`--height:${t(m)/2}%`)},[(o(),i(f,null,K(50,(a,p)=>e("div",{key:p,style:P({animationDelay:p*.05+"s"}),class:"wave"},null,4)),64))],4)])]))}}),bt=V(Nt,[["__scopeId","data-v-db7ef141"]]),St={class:"seize-treasures"},xt={class:"main"},It=$({name:"LotterySkin",__name:"index",setup(Y){const{playAudio:d}=D();return W(()=>{d("bq69")}),(A,m)=>(o(),i("div",St,[u(E,{name:"to-bottom",appear:""},{default:r(()=>[u(Z,{type:"SKIN"})]),_:1}),e("div",xt,[u(E,{name:"to-right-opacity",appear:""},{default:r(()=>[u(bt)]),_:1}),u(E,{name:"to-left-opacity",appear:""},{default:r(()=>[u(tt,{type:"SKIN"})]),_:1})])]))}}),$t=V(It,[["__scopeId","data-v-9d094be3"]]);export{$t as default};
