import{k as B,r as k,c as K,M as V,u as e,E as T,F as _,J as h,S as P,V as R,X as te,G as oe,O as a,d as se,i as ae,C as ne,y as re,P as A,Q as I,T as ie,W as le,H as ce,I as de,L as pe}from"./wzry-wzry_vue-BEC82j21.js";import{s as D}from"./wzry-wzry_vuePlugin-DfAOYnI4.js";import{Y as ue,aG as F,aH as me,b as z,M as U,aD as he,a as _e,s as ve,aI as fe,aJ as ye,p as G,aC as O,aK as g,aL as ge,aM as Te,e as xe,aN as be,x as ke,ad as Se,aO as Le}from"./wzry-index-CTpLHwAa.js";import{v as Ce}from"./wzry-sweep-light-kDX43eZR.js";import{F as $e,K as we}from"./wzry-index-tyIRwcPb.js";import{u as Me}from"./wzry-index.vue_vue_type_style_index_0_scoped_308049e9_lang-CBrt823u.js";import{F as He}from"./wzry-index-quQVn9Fg.js";import{L as Ve}from"./wzry-index-P8-khLHq.js";import"./wzry-wzry_axios-ChA_wbf5.js";import"./wzry-wzry_dayjs-RHYc_Oz-.js";import"./wzry-wzry_lodash-BosuxZz1.js";import"./wzry-wzry_pinyin_pro-BOs0bO5i.js";import"./wzry-wzry_i18n-D3aQbx8W.js";import"./wzry-wzry_vueuse-Dl7OonR3.js";const Ee={mounted(p){const r=document.createElement("div"),i=document.createElement("div");r.innerHTML=p.innerHTML,r.style.cssText=`
      z-index: 9;
      position: absolute;
      top: 0;
      left: 0;
      color: #fff;
      background-color: #000;
      transition: all 0.35s;
      text-shadow: initial;
      -webkit-background-clip: text;
      clip-path: circle(75% at 50% 50%);
    `;const c=p.offsetHeight/8;i.style.cssText=`
      z-index: 9;
      position: absolute;
      width: 0%;
      height: ${c/16}rem;
      bottom: 0;
      color: transparent;
      background-color: #2980b9;
      transition: all 0.35s;
      left: 50%;
      transform: translate(-50%,5px);
      border-radius: ${c/16}rem;
    `,p.appendChild(r),p.appendChild(i),p.addEventListener("mouseenter",()=>{r.style.clipPath="circle(0% at 50% 50%)",i.style.width="100%"}),p.addEventListener("mouseleave",()=>{r.style.clipPath="circle(75% at 50% 50%)",i.style.width="0%"})}},Ne={class:"hero-card"},Ie={class:"id"},Pe={key:0,class:"num"},Be={class:"select-mask"},Fe=["src"],Ge=["src"],Ke={class:"bottom"},Re=["innerHTML"],Ae=B({__name:"index",props:{data:{}},emits:["view"],setup(p,{emit:r}){const i=ue(),c=r,l=F(),x=k(!1),v=K(()=>l.misc_sort),S=K(()=>["身高","皮肤数量","关系数量"].includes(v.value)),L=t=>{const n=v.value;return{身高:t.height+"cm",皮肤数量:(t.skinCount||0)+"款",关系数量:(t.relationCount||0)+"位"}[n]||""},f=t=>{ye(t)&&c("view",t)};return(t,n)=>{var d;return V((_(),T("div",Ne,[h("span",Ie,"No."+R(t.data.id),1),S.value?(_(),T("span",Pe,R(L(t.data)),1)):P("",!0),h("div",Be,[h("img",{src:x.value?t.data.avatar:e(_e)("unknown"),class:"head",onClick:n[0]||(n[0]=u=>f(t.data.id)),onLoad:n[1]||(n[1]=u=>x.value=!0)},null,40,Fe),V((_(),T("button",{class:"view",onClick:n[2]||(n[2]=u=>f(t.data.id))},n[3]||(n[3]=[te("点击此处")]))),[[e(Ee)]])]),h("div",{class:oe(["bg-box",{have:e(i).hero_list[t.data.id]}])},[V(h("img",{class:"bg",src:t.data.coverBlur},null,8,Ge),[[e(ve),{img:t.data.cover}]])],2),h("div",Ke,[h("div",{class:"name",innerHTML:t.data.name},null,8,Re),a(e(fe),{class:"hero-exp",exp:(d=e(i).hero_list[t.data.id])==null?void 0:d.exp},null,8,["exp"])])])),[[e(me),{color:"#000"}],[e(Ce),{enable:!!e(i).hero_list[t.data.id]}],[e(z),{disabled:!e(i).hero_list[t.data.id],text:e(i).hero_list[t.data.id]?e(U).kr17:e(he)("a20t",{v:"英雄"})}]])}}}),De=G(Ae,[["__scopeId","data-v-9edf4f26"]]),ze={class:"hero-toolbar"},Ue={class:"filter-select"},Oe=B({__name:"index",emits:["change"],setup(p,{expose:r,emit:i}){const c=i,l=F(),{sort_type:x,attr_type:v,camp_type:S,misc_type:L,misc_sort:f,have_type:t,exp_type:n,gender_type:d}=D(l),u=["全部属性","非硬控","免控","回血","真伤"],C=["全部筛选","团控","无蓝条","非人类","多套技能"],$=["全部排序","身高","上手难度","皮肤数量","关系数量"],w=["全部英雄","未拥有","已拥有"],M=["全部熟练度","由低到高","由高到低"],s=["正序","倒序"],y=k(""),b=se([]);(async()=>{(await Te()).forEach(o=>{b.push(o.value)})})();const m=()=>{y.value="",c("change")},j=o=>{l.filterCamp(b[o]),m()},J=o=>{l.filterAttr(u[o]),m()},q=o=>{l.filterMisc(C[o]),m()},Q=o=>{l.sortMisc($[o]),m()},W=o=>{l.haveType(w[o]),m()},X=o=>{l.expType(M[o]),m()},Y=o=>{l.sortType(s[o]),m()},Z=o=>{l.filterGender(o),m()},ee=O(()=>{l.searchHero(y.value),c("change")},500);return r({_clearName:m}),(o,H)=>(_(),T("div",ze,[h("div",Ue,[a(e(g),{"min-width":"9.6106rem","sort-text":e(S),options:b,"list-height":"26.5625rem",onSelect:j},null,8,["sort-text","options"]),a(e(g),{"sort-text":e(v),options:u,onSelect:J},null,8,["sort-text"]),a(e(g),{"sort-text":e(L),options:C,onSelect:q},null,8,["sort-text"]),a(e(g),{"sort-text":e(f),options:$,onSelect:Q},null,8,["sort-text"]),a(e(g),{"sort-text":e(n),options:M,onSelect:X},null,8,["sort-text"]),a(e(g),{"sort-text":e(t),options:w,onSelect:W},null,8,["sort-text"]),a(e(g),{"sort-text":e(x),options:s,onSelect:Y},null,8,["sort-text"])]),a(e($e),{modelValue:e(d),"onUpdate:modelValue":[H[0]||(H[0]=N=>ae(d)?d.value=N:null),Z]},null,8,["modelValue"]),V(a(e(ge),{modelValue:y.value,"onUpdate:modelValue":H[1]||(H[1]=N=>y.value=N),required:!1,class:"k-input",placeholder:"英雄/字母","no-special":!1,onInput:e(ee)},null,8,["modelValue","onInput"]),[[e(z),{text:e(U).kb43,type:"INPUT"}]])]))}}),je=G(Oe,[["__scopeId","data-v-0f2778a5"]]),Je={class:"hero"},qe={class:"hero-main"},Qe=B({name:"Hero",__name:"index",setup(p){const r=F(),{scroll:i,show_list:c,finish:l,loading:x}=D(r),{playAudio:v}=xe(),{page_count:S}=be(),{line_num:L}=Me(9,[[2200,8],[1800,7],[1600,6],[1400,5],[1024,4],[720,3],[480,2]]),f=k(),t=k(),n=k(!1),d=k(!1);r.getHeroList();const u=O(s=>{r.setScroll(s),d.value=s>250},250),C=()=>{v("n4r4")},$=s=>{Le(s)},w=()=>{var s;(s=t.value)==null||s._setPosition(0,!0)},M=()=>{var s;u(0),(s=f.value)==null||s._clearName()};return ne(async()=>{await ke(250),n.value=!0}),re(()=>{var s;v("iv51"),(s=t.value)==null||s._setPosition(i.value)}),(s,y)=>(_(),T("div",Je,[h("div",qe,[a(ie,{name:"to-bottom",appear:""},{default:I(()=>[a(je,{ref_key:"heroToolbarRef",ref:f,onChange:y[0]||(y[0]=b=>e(u)(0))},null,512)]),_:1}),a(e(we),{active:d.value,onBackTop:w},null,8,["active"]),e(c).length&&n.value?(_(),A(e(Ve),{key:0,ref_key:"heroListRef",ref:t,finish:e(l),loading:e(x),gap:"1rem",count:e(L),onScroll:e(u),onLoadMore:e(r).loadMore},{default:I(()=>[a(le,{name:"card",appear:""},{default:I(()=>[(_(!0),T(ce,null,de(e(c),(b,E)=>(_(),T("div",{key:E,style:pe({"transition-delay":E%e(S)*.025+"s"}),onMouseenter:C,onTouchstart:C},[a(De,{data:b,onView:$},null,8,["data"])],36))),128))]),_:1})]),_:1},8,["finish","loading","count","onScroll","onLoadMore"])):P("",!0),e(c).length===0?(_(),A(e(Se),{key:1,tip:"你还没有拥有英雄"})):P("",!0)]),a(e(He),{type:"hero",onChange:M})]))}}),dt=G(Qe,[["__scopeId","data-v-23489bda"]]);export{dt as default};
