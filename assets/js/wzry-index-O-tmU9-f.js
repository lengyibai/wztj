var Gt=Object.defineProperty;var Kt=(e,r,n)=>r in e?Gt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Q=(e,r,n)=>(Kt(e,typeof r!="symbol"?r+"":r,n),n);import{a as axios}from"./wzry-wzry_axios-wVsZAsRs.js";import{d as dayjs}from"./wzry-wzry_dayjs-p57Mk9r_.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./wzry-wzry_lodash-4gQjN7DL.js";import{m as mitt,d as defineStore,c as createRouter,a as createWebHashHistory,s as storeToRefs,b as createPinia}from"./wzry-wzry_vuePlugin-8reJzXjy.js";import{r as ref,j as computed,A as watchEffect,a as reactive,o as onScopeDispose,n as nextTick,w as watch,l as defineComponent,i as inject,B as onMounted,C as openBlock,D as createElementBlock,F as Fragment,E as renderList,G as normalizeClass,u as unref,H as createBaseVNode,I as pushScopeId,J as popScopeId,K as createStaticVNode,L as normalizeStyle,q as provide,M as withDirectives,N as vShow,O as createVNode,P as createBlock,Q as withCtx,R as withModifiers,S as toDisplayString,T as createCommentVNode,U as Transition,V as Teleport,W as TransitionGroup,X as createTextVNode,b as isRef,Y as vModelText,Z as withKeys,_ as mergeModels,$ as useModel,v as onUnmounted,a0 as renderSlot,a1 as resolveComponent,a2 as resolveDynamicComponent,a3 as createApp}from"./wzry-wzry_vue-ZP7q88Pe.js";import{v as vueI18n_cjs}from"./wzry-wzry_i18n-x0daaVag.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)};P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,r){var n,a=this,s=a.constructor;if(e=new s(e),r=new s(r),!e.s||!r.s)return new s(NaN);if(e.gt(r))throw Error(invalidArgument+r);return n=a.cmp(e),n<0?e:a.cmp(r)>0?r:new s(a)};P.comparedTo=P.cmp=function(e){var r,n,a,s,o=this,l=o.d,i=(e=new o.constructor(e)).d,c=o.s,d=e.s;if(!l||!i)return!c||!d?NaN:c!==d?c:l===i?0:!l^c<0?1:-1;if(!l[0]||!i[0])return l[0]?c:i[0]?-d:0;if(c!==d)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(a=l.length,s=i.length,r=0,n=a<s?a:s;r<n;++r)if(l[r]!==i[r])return l[r]>i[r]^c<0?1:-1;return a===s?0:a>s^c<0?1:-1};P.cosine=P.cos=function(){var e,r,n=this,a=n.constructor;return n.d?n.d[0]?(e=a.precision,r=a.rounding,a.precision=e+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=cosine(a,toLessThanHalfPi(a,n)),a.precision=e,a.rounding=r,finalise(quadrant==2||quadrant==3?n.neg():n,e,r,!0)):new a(1):new a(NaN)};P.cubeRoot=P.cbrt=function(){var e,r,n,a,s,o,l,i,c,d,_=this,u=_.constructor;if(!_.isFinite()||_.isZero())return new u(_);for(external=!1,o=_.s*mathpow(_.s*_,1/3),!o||Math.abs(o)==1/0?(n=digitsToString(_.d),e=_.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=mathpow(n,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),a=new u(n),a.s=_.s):a=new u(o.toString()),l=(e=u.precision)+3;;)if(i=a,c=i.times(i).times(i),d=c.plus(_),a=divide(d.plus(_).times(i),d.plus(c),l+2,1),digitsToString(i.d).slice(0,l)===(n=digitsToString(a.d)).slice(0,l))if(n=n.slice(l-3,l+1),n=="9999"||!s&&n=="4999"){if(!s&&(finalise(i,e+1,0),i.times(i).times(i).eq(_))){a=i;break}l+=4,s=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(finalise(a,e+1,1),r=!a.times(a).times(a).eq(_));break}return external=!0,finalise(a,e,u.rounding,r)};P.decimalPlaces=P.dp=function(){var e,r=this.d,n=NaN;if(r){if(e=r.length-1,n=(e-mathfloor(this.e/LOG_BASE))*LOG_BASE,e=r[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var r=this,n=r.constructor;return finalise(divide(r,new n(e),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var r=this.cmp(e);return r==1||r===0};P.hyperbolicCosine=P.cosh=function(){var e,r,n,a,s,o=this,l=o.constructor,i=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return i;n=l.precision,a=l.rounding,l.precision=n+Math.max(o.e,o.sd())+4,l.rounding=1,s=o.d.length,s<32?(e=Math.ceil(s/3),r=(1/tinyPow(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),o=taylorSeries(l,1,o.times(r),new l(1),!0);for(var c,d=e,_=new l(8);d--;)c=o.times(o),o=i.minus(c.times(_.minus(c.times(_))));return finalise(o,l.precision=n,l.rounding=a,!0)};P.hyperbolicSine=P.sinh=function(){var e,r,n,a,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);if(r=o.precision,n=o.rounding,o.precision=r+Math.max(s.e,s.sd())+4,o.rounding=1,a=s.d.length,a<3)s=taylorSeries(o,2,s,s,!0);else{e=1.4*Math.sqrt(a),e=e>16?16:e|0,s=s.times(1/tinyPow(5,e)),s=taylorSeries(o,2,s,s,!0);for(var l,i=new o(5),c=new o(16),d=new o(20);e--;)l=s.times(s),s=s.times(i.plus(l.times(c.times(l).plus(d))))}return o.precision=r,o.rounding=n,finalise(s,r,n,!0)};P.hyperbolicTangent=P.tanh=function(){var e,r,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(e=a.precision,r=a.rounding,a.precision=e+7,a.rounding=1,divide(n.sinh(),n.cosh(),a.precision=e,a.rounding=r)):new a(n.s)};P.inverseCosine=P.acos=function(){var e,r=this,n=r.constructor,a=r.abs().cmp(1),s=n.precision,o=n.rounding;return a!==-1?a===0?r.isNeg()?getPi(n,s,o):new n(0):new n(NaN):r.isZero()?getPi(n,s+4,o).times(.5):(n.precision=s+6,n.rounding=1,r=r.asin(),e=getPi(n,s+4,o).times(.5),n.precision=s,n.rounding=o,e.minus(r))};P.inverseHyperbolicCosine=P.acosh=function(){var e,r,n=this,a=n.constructor;return n.lte(1)?new a(n.eq(1)?0:NaN):n.isFinite()?(e=a.precision,r=a.rounding,a.precision=e+Math.max(Math.abs(n.e),n.sd())+4,a.rounding=1,external=!1,n=n.times(n).minus(1).sqrt().plus(n),external=!0,a.precision=e,a.rounding=r,n.ln()):new a(n)};P.inverseHyperbolicSine=P.asinh=function(){var e,r,n=this,a=n.constructor;return!n.isFinite()||n.isZero()?new a(n):(e=a.precision,r=a.rounding,a.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,a.rounding=1,external=!1,n=n.times(n).plus(1).sqrt().plus(n),external=!0,a.precision=e,a.rounding=r,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,r,n,a,s=this,o=s.constructor;return s.isFinite()?s.e>=0?new o(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(e=o.precision,r=o.rounding,a=s.sd(),Math.max(a,e)<2*-s.e-1?finalise(new o(s),e,r,!0):(o.precision=n=a-s.e,s=divide(s.plus(1),new o(1).minus(s),n+e,1),o.precision=e+4,o.rounding=1,s=s.ln(),o.precision=e,o.rounding=r,s.times(.5))):new o(NaN)};P.inverseSine=P.asin=function(){var e,r,n,a,s=this,o=s.constructor;return s.isZero()?new o(s):(r=s.abs().cmp(1),n=o.precision,a=o.rounding,r!==-1?r===0?(e=getPi(o,n+4,a).times(.5),e.s=s.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,s=s.div(new o(1).minus(s.times(s)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=a,s.times(2)))};P.inverseTangent=P.atan=function(){var e,r,n,a,s,o,l,i,c,d=this,_=d.constructor,u=_.precision,p=_.rounding;if(d.isFinite()){if(d.isZero())return new _(d);if(d.abs().eq(1)&&u+4<=PI_PRECISION)return l=getPi(_,u+4,p).times(.25),l.s=d.s,l}else{if(!d.s)return new _(NaN);if(u+4<=PI_PRECISION)return l=getPi(_,u+4,p).times(.5),l.s=d.s,l}for(_.precision=i=u+10,_.rounding=1,n=Math.min(28,i/LOG_BASE+2|0),e=n;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(external=!1,r=Math.ceil(i/LOG_BASE),a=1,c=d.times(d),l=new _(d),s=d;e!==-1;)if(s=s.times(c),o=l.minus(s.div(a+=2)),s=s.times(c),l=o.plus(s.div(a+=2)),l.d[r]!==void 0)for(e=r;l.d[e]===o.d[e]&&e--;);return n&&(l=l.times(2<<n-1)),external=!0,finalise(l,_.precision=u,_.rounding=p,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var r,n,a,s,o,l,i,c,d=this,_=d.constructor,u=_.precision,p=_.rounding,f=5;if(e==null)e=new _(10),r=!0;else{if(e=new _(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new _(NaN);r=e.eq(10)}if(n=d.d,d.s<0||!n||!n[0]||d.eq(1))return new _(n&&!n[0]?-1/0:d.s!=1?NaN:n?0:1/0);if(r)if(n.length>1)o=!0;else{for(s=n[0];s%10===0;)s/=10;o=s!==1}if(external=!1,i=u+f,l=naturalLogarithm(d,i),a=r?getLn10(_,i+10):naturalLogarithm(e,i),c=divide(l,a,i,1),checkRoundingDigits(c.d,s=u,p))do if(i+=10,l=naturalLogarithm(d,i),a=r?getLn10(_,i+10):naturalLogarithm(e,i),c=divide(l,a,i,1),!o){+digitsToString(c.d).slice(s+1,s+15)+1==1e14&&(c=finalise(c,u+1,0));break}while(checkRoundingDigits(c.d,s+=10,p));return external=!0,finalise(c,u,p)};P.minus=P.sub=function(e){var r,n,a,s,o,l,i,c,d,_,u,p,f=this,v=f.constructor;if(e=new v(e),!f.d||!e.d)return!f.s||!e.s?e=new v(NaN):f.d?e.s=-e.s:e=new v(e.d||f.s!==e.s?f:NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(d=f.d,p=e.d,i=v.precision,c=v.rounding,!d[0]||!p[0]){if(p[0])e.s=-e.s;else if(d[0])e=new v(f);else return new v(c===3?-0:0);return external?finalise(e,i,c):e}if(n=mathfloor(e.e/LOG_BASE),_=mathfloor(f.e/LOG_BASE),d=d.slice(),o=_-n,o){for(u=o<0,u?(r=d,o=-o,l=p.length):(r=p,n=_,l=d.length),a=Math.max(Math.ceil(i/LOG_BASE),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,l=p.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(d[a]!=p[a]){u=d[a]<p[a];break}o=0}for(u&&(r=d,d=p,p=r,e.s=-e.s),l=d.length,a=p.length-l;a>0;--a)d[l++]=0;for(a=p.length;a>o;){if(d[--a]<p[a]){for(s=a;s&&d[--s]===0;)d[s]=BASE-1;--d[s],d[a]+=BASE}d[a]-=p[a]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=getBase10Exponent(d,n),external?finalise(e,i,c):e):new v(c===3?-0:0)};P.modulo=P.mod=function(e){var r,n=this,a=n.constructor;return e=new a(e),!n.d||!e.s||e.d&&!e.d[0]?new a(NaN):!e.d||n.d&&!n.d[0]?finalise(new a(n),a.precision,a.rounding):(external=!1,a.modulo==9?(r=divide(n,e.abs(),0,3,1),r.s*=e.s):r=divide(n,e,0,a.modulo,1),r=r.times(e),external=!0,n.minus(r))};P.naturalExponential=P.exp=function(){return naturalExponential(this)};P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)};P.plus=P.add=function(e){var r,n,a,s,o,l,i,c,d,_,u=this,p=u.constructor;if(e=new p(e),!u.d||!e.d)return!u.s||!e.s?e=new p(NaN):u.d||(e=new p(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(d=u.d,_=e.d,i=p.precision,c=p.rounding,!d[0]||!_[0])return _[0]||(e=new p(u)),external?finalise(e,i,c):e;if(o=mathfloor(u.e/LOG_BASE),a=mathfloor(e.e/LOG_BASE),d=d.slice(),s=o-a,s){for(s<0?(n=d,s=-s,l=_.length):(n=_,a=o,l=d.length),o=Math.ceil(i/LOG_BASE),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=d.length,s=_.length,l-s<0&&(s=l,n=_,_=d,d=n),r=0;s;)r=(d[--s]=d[s]+_[s]+r)/BASE|0,d[s]%=BASE;for(r&&(d.unshift(r),++a),l=d.length;d[--l]==0;)d.pop();return e.d=d,e.e=getBase10Exponent(d,a),external?finalise(e,i,c):e};P.precision=P.sd=function(e){var r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(invalidArgument+e);return n.d?(r=getPrecision(n.d),e&&n.e+1>r&&(r=n.e+1)):r=NaN,r};P.round=function(){var e=this,r=e.constructor;return finalise(new r(e),e.e+1,r.rounding)};P.sine=P.sin=function(){var e,r,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(e=a.precision,r=a.rounding,a.precision=e+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=sine(a,toLessThanHalfPi(a,n)),a.precision=e,a.rounding=r,finalise(quadrant>2?n.neg():n,e,r,!0)):new a(NaN)};P.squareRoot=P.sqrt=function(){var e,r,n,a,s,o,l=this,i=l.d,c=l.e,d=l.s,_=l.constructor;if(d!==1||!i||!i[0])return new _(!d||d<0&&(!i||i[0])?NaN:i?l:1/0);for(external=!1,d=Math.sqrt(+l),d==0||d==1/0?(r=digitsToString(i),(r.length+c)%2==0&&(r+="0"),d=Math.sqrt(r),c=mathfloor((c+1)/2)-(c<0||c%2),d==1/0?r="5e"+c:(r=d.toExponential(),r=r.slice(0,r.indexOf("e")+1)+c),a=new _(r)):a=new _(d.toString()),n=(c=_.precision)+3;;)if(o=a,a=o.plus(divide(l,o,n+2,1)).times(.5),digitsToString(o.d).slice(0,n)===(r=digitsToString(a.d)).slice(0,n))if(r=r.slice(n-3,n+1),r=="9999"||!s&&r=="4999"){if(!s&&(finalise(o,c+1,0),o.times(o).eq(l))){a=o;break}n+=4,s=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(finalise(a,c+1,1),e=!a.times(a).eq(l));break}return external=!0,finalise(a,c,_.rounding,e)};P.tangent=P.tan=function(){var e,r,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(e=a.precision,r=a.rounding,a.precision=e+10,a.rounding=1,n=n.sin(),n.s=1,n=divide(n,new a(1).minus(n.times(n)).sqrt(),e+10,0),a.precision=e,a.rounding=r,finalise(quadrant==2||quadrant==4?n.neg():n,e,r,!0)):new a(NaN)};P.times=P.mul=function(e){var r,n,a,s,o,l,i,c,d,_=this,u=_.constructor,p=_.d,f=(e=new u(e)).d;if(e.s*=_.s,!p||!p[0]||!f||!f[0])return new u(!e.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:!p||!f?e.s/0:e.s*0);for(n=mathfloor(_.e/LOG_BASE)+mathfloor(e.e/LOG_BASE),c=p.length,d=f.length,c<d&&(o=p,p=f,f=o,l=c,c=d,d=l),o=[],l=c+d,a=l;a--;)o.push(0);for(a=d;--a>=0;){for(r=0,s=c+a;s>a;)i=o[s]+f[a]*p[s-a-1]+r,o[s--]=i%BASE|0,r=i/BASE|0;o[s]=(o[s]+r)%BASE|0}for(;!o[--l];)o.pop();return r?++n:o.shift(),e.d=o,e.e=getBase10Exponent(o,n),external?finalise(e,u.precision,u.rounding):e};P.toBinary=function(e,r){return toStringBinary(this,2,e,r)};P.toDecimalPlaces=P.toDP=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(checkInt32(e,0,MAX_DIGITS),r===void 0?r=a.rounding:checkInt32(r,0,8),finalise(n,e+n.e+1,r))};P.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=finiteToString(a,!0):(checkInt32(e,0,MAX_DIGITS),r===void 0?r=s.rounding:checkInt32(r,0,8),a=finalise(new s(a),e+1,r),n=finiteToString(a,!0,e+1)),a.isNeg()&&!a.isZero()?"-"+n:n};P.toFixed=function(e,r){var n,a,s=this,o=s.constructor;return e===void 0?n=finiteToString(s):(checkInt32(e,0,MAX_DIGITS),r===void 0?r=o.rounding:checkInt32(r,0,8),a=finalise(new o(s),e+s.e+1,r),n=finiteToString(a,!1,e+a.e+1)),s.isNeg()&&!s.isZero()?"-"+n:n};P.toFraction=function(e){var r,n,a,s,o,l,i,c,d,_,u,p,f=this,v=f.d,h=f.constructor;if(!v)return new h(f);if(d=n=new h(1),a=c=new h(0),r=new h(a),o=r.e=getPrecision(v)-f.e-1,l=o%LOG_BASE,r.d[0]=mathpow(10,l<0?LOG_BASE+l:l),e==null)e=o>0?r:d;else{if(i=new h(e),!i.isInt()||i.lt(d))throw Error(invalidArgument+i);e=i.gt(r)?o>0?r:d:i}for(external=!1,i=new h(digitsToString(v)),_=h.precision,h.precision=o=v.length*LOG_BASE*2;u=divide(i,r,0,1,1),s=n.plus(u.times(a)),s.cmp(e)!=1;)n=a,a=s,s=d,d=c.plus(u.times(s)),c=s,s=r,r=i.minus(u.times(s)),i=s;return s=divide(e.minus(n),a,0,1,1),c=c.plus(s.times(d)),n=n.plus(s.times(a)),c.s=d.s=f.s,p=divide(d,a,o,1).minus(f).abs().cmp(divide(c,n,o,1).minus(f).abs())<1?[d,a]:[c,n],h.precision=_,external=!0,p};P.toHexadecimal=P.toHex=function(e,r){return toStringBinary(this,16,e,r)};P.toNearest=function(e,r){var n=this,a=n.constructor;if(n=new a(n),e==null){if(!n.d)return n;e=new a(1),r=a.rounding}else{if(e=new a(e),r===void 0?r=a.rounding:checkInt32(r,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(external=!1,n=divide(n,e,0,r,1).times(e),external=!0,finalise(n)):(e.s=n.s,n=e),n};P.toNumber=function(){return+this};P.toOctal=function(e,r){return toStringBinary(this,8,e,r)};P.toPower=P.pow=function(e){var r,n,a,s,o,l,i=this,c=i.constructor,d=+(e=new c(e));if(!i.d||!e.d||!i.d[0]||!e.d[0])return new c(mathpow(+i,d));if(i=new c(i),i.eq(1))return i;if(a=c.precision,o=c.rounding,e.eq(1))return finalise(i,a,o);if(r=mathfloor(e.e/LOG_BASE),r>=e.d.length-1&&(n=d<0?-d:d)<=MAX_SAFE_INTEGER$2)return s=intPow(c,i,n,a),e.s<0?new c(1).div(s):finalise(s,a,o);if(l=i.s,l<0){if(r<e.d.length-1)return new c(NaN);if(e.d[r]&1||(l=1),i.e==0&&i.d[0]==1&&i.d.length==1)return i.s=l,i}return n=mathpow(+i,d),r=n==0||!isFinite(n)?mathfloor(d*(Math.log("0."+digitsToString(i.d))/Math.LN10+i.e+1)):new c(n+"").e,r>c.maxE+1||r<c.minE-1?new c(r>0?l/0:0):(external=!1,c.rounding=i.s=1,n=Math.min(12,(r+"").length),s=naturalExponential(e.times(naturalLogarithm(i,a+n)),a),s.d&&(s=finalise(s,a+5,1),checkRoundingDigits(s.d,a,o)&&(r=a+10,s=finalise(naturalExponential(e.times(naturalLogarithm(i,r+n)),r),r+5,1),+digitsToString(s.d).slice(a+1,a+15)+1==1e14&&(s=finalise(s,a+1,0)))),s.s=l,external=!0,c.rounding=o,finalise(s,a,o))};P.toPrecision=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=finiteToString(a,a.e<=s.toExpNeg||a.e>=s.toExpPos):(checkInt32(e,1,MAX_DIGITS),r===void 0?r=s.rounding:checkInt32(r,0,8),a=finalise(new s(a),e,r),n=finiteToString(a,e<=a.e||a.e<=s.toExpNeg,e)),a.isNeg()&&!a.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(checkInt32(e,1,MAX_DIGITS),r===void 0?r=a.rounding:checkInt32(r,0,8)),finalise(new a(n),e,r)};P.toString=function(){var e=this,r=e.constructor,n=finiteToString(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,r=e.constructor,n=finiteToString(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+n:n};function digitsToString(e){var r,n,a,s=e.length-1,o="",l=e[0];if(s>0){for(o+=l,r=1;r<s;r++)a=e[r]+"",n=LOG_BASE-a.length,n&&(o+=getZeroString(n)),o+=a;l=e[r],a=l+"",n=LOG_BASE-a.length,n&&(o+=getZeroString(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}function checkInt32(e,r,n){if(e!==~~e||e<r||e>n)throw Error(invalidArgument+e)}function checkRoundingDigits(e,r,n,a){var s,o,l,i;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=LOG_BASE,s=0):(s=Math.ceil((r+1)/LOG_BASE),r%=LOG_BASE),o=mathpow(10,LOG_BASE-r),i=e[s]%o|0,a==null?r<3?(r==0?i=i/100|0:r==1&&(i=i/10|0),l=n<4&&i==99999||n>3&&i==49999||i==5e4||i==0):l=(n<4&&i+1==o||n>3&&i+1==o/2)&&(e[s+1]/o/100|0)==mathpow(10,r-2)-1||(i==o/2||i==0)&&(e[s+1]/o/100|0)==0:r<4?(r==0?i=i/1e3|0:r==1?i=i/100|0:r==2&&(i=i/10|0),l=(a||n<4)&&i==9999||!a&&n>3&&i==4999):l=((a||n<4)&&i+1==o||!a&&n>3&&i+1==o/2)&&(e[s+1]/o/1e3|0)==mathpow(10,r-3)-1,l}function convertBase(e,r,n){for(var a,s=[0],o,l=0,i=e.length;l<i;){for(o=s.length;o--;)s[o]*=r;for(s[0]+=NUMERALS.indexOf(e.charAt(l++)),a=0;a<s.length;a++)s[a]>n-1&&(s[a+1]===void 0&&(s[a+1]=0),s[a+1]+=s[a]/n|0,s[a]%=n)}return s.reverse()}function cosine(e,r){var n,a,s;if(r.isZero())return r;a=r.d.length,a<32?(n=Math.ceil(a/3),s=(1/tinyPow(4,n)).toString()):(n=16,s="2.3283064365386962890625e-10"),e.precision+=n,r=taylorSeries(e,1,r.times(s),new e(1));for(var o=n;o--;){var l=r.times(r);r=l.times(l).minus(l).times(8).plus(1)}return e.precision-=n,r}var divide=function(){function e(a,s,o){var l,i=0,c=a.length;for(a=a.slice();c--;)l=a[c]*s+i,a[c]=l%o|0,i=l/o|0;return i&&a.unshift(i),a}function r(a,s,o,l){var i,c;if(o!=l)c=o>l?1:-1;else for(i=c=0;i<o;i++)if(a[i]!=s[i]){c=a[i]>s[i]?1:-1;break}return c}function n(a,s,o,l){for(var i=0;o--;)a[o]-=i,i=a[o]<s[o]?1:0,a[o]=i*l+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,l,i,c){var d,_,u,p,f,v,h,m,g,E,k,T,w,O,A,L,B,U,j,N,F=a.constructor,S=a.s==s.s?1:-1,q=a.d,ue=s.d;if(!q||!q[0]||!ue||!ue[0])return new F(!a.s||!s.s||(q?ue&&q[0]==ue[0]:!ue)?NaN:q&&q[0]==0||!ue?S*0:S/0);for(c?(f=1,_=a.e-s.e):(c=BASE,f=LOG_BASE,_=mathfloor(a.e/f)-mathfloor(s.e/f)),j=ue.length,B=q.length,g=new F(S),E=g.d=[],u=0;ue[u]==(q[u]||0);u++);if(ue[u]>(q[u]||0)&&_--,o==null?(O=o=F.precision,l=F.rounding):i?O=o+(a.e-s.e)+1:O=o,O<0)E.push(1),v=!0;else{if(O=O/f+2|0,u=0,j==1){for(p=0,ue=ue[0],O++;(u<B||p)&&O--;u++)A=p*c+(q[u]||0),E[u]=A/ue|0,p=A%ue|0;v=p||u<B}else{for(p=c/(ue[0]+1)|0,p>1&&(ue=e(ue,p,c),q=e(q,p,c),j=ue.length,B=q.length),L=j,k=q.slice(0,j),T=k.length;T<j;)k[T++]=0;N=ue.slice(),N.unshift(0),U=ue[0],ue[1]>=c/2&&++U;do p=0,d=r(ue,k,j,T),d<0?(w=k[0],j!=T&&(w=w*c+(k[1]||0)),p=w/U|0,p>1?(p>=c&&(p=c-1),h=e(ue,p,c),m=h.length,T=k.length,d=r(h,k,m,T),d==1&&(p--,n(h,j<m?N:ue,m,c))):(p==0&&(d=p=1),h=ue.slice()),m=h.length,m<T&&h.unshift(0),n(k,h,T,c),d==-1&&(T=k.length,d=r(ue,k,j,T),d<1&&(p++,n(k,j<T?N:ue,T,c))),T=k.length):d===0&&(p++,k=[0]),E[u++]=p,d&&k[0]?k[T++]=q[L]||0:(k=[q[L]],T=1);while((L++<B||k[0]!==void 0)&&O--);v=k[0]!==void 0}E[0]||E.shift()}if(f==1)g.e=_,inexact=v;else{for(u=1,p=E[0];p>=10;p/=10)u++;g.e=u+_*f-1,finalise(g,i?o+g.e+1:o,l,v)}return g}}();function finalise(e,r,n,a){var s,o,l,i,c,d,_,u,p,f=e.constructor;e:if(r!=null){if(u=e.d,!u)return e;for(s=1,i=u[0];i>=10;i/=10)s++;if(o=r-s,o<0)o+=LOG_BASE,l=r,_=u[p=0],c=_/mathpow(10,s-l-1)%10|0;else if(p=Math.ceil((o+1)/LOG_BASE),i=u.length,p>=i)if(a){for(;i++<=p;)u.push(0);_=c=0,s=1,o%=LOG_BASE,l=o-LOG_BASE+1}else break e;else{for(_=i=u[p],s=1;i>=10;i/=10)s++;o%=LOG_BASE,l=o-LOG_BASE+s,c=l<0?0:_/mathpow(10,s-l-1)%10|0}if(a=a||r<0||u[p+1]!==void 0||(l<0?_:_%mathpow(10,s-l-1)),d=n<4?(c||a)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||a||n==6&&(o>0?l>0?_/mathpow(10,s-l):0:u[p-1])%10&1||n==(e.s<0?8:7)),r<1||!u[0])return u.length=0,d?(r-=e.e+1,u[0]=mathpow(10,(LOG_BASE-r%LOG_BASE)%LOG_BASE),e.e=-r||0):u[0]=e.e=0,e;if(o==0?(u.length=p,i=1,p--):(u.length=p+1,i=mathpow(10,LOG_BASE-o),u[p]=l>0?(_/mathpow(10,s-l)%mathpow(10,l)|0)*i:0),d)for(;;)if(p==0){for(o=1,l=u[0];l>=10;l/=10)o++;for(l=u[0]+=i,i=1;l>=10;l/=10)i++;o!=i&&(e.e++,u[0]==BASE&&(u[0]=1));break}else{if(u[p]+=i,u[p]!=BASE)break;u[p--]=0,i=1}for(o=u.length;u[--o]===0;)u.pop()}return external&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,r,n){if(!e.isFinite())return nonFiniteToString(e);var a,s=e.e,o=digitsToString(e.d),l=o.length;return r?(n&&(a=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(a):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):s<0?(o="0."+getZeroString(-s-1)+o,n&&(a=n-l)>0&&(o+=getZeroString(a))):s>=l?(o+=getZeroString(s+1-l),n&&(a=n-s-1)>0&&(o=o+"."+getZeroString(a))):((a=s+1)<l&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-l)>0&&(s+1===l&&(o+="."),o+=getZeroString(a))),o}function getBase10Exponent(e,r){var n=e[0];for(r*=LOG_BASE;n>=10;n/=10)r++;return r}function getLn10(e,r,n){if(r>LN10_PRECISION)throw external=!0,n&&(e.precision=n),Error(precisionLimitExceeded);return finalise(new e(LN10),r,1,!0)}function getPi(e,r,n){if(r>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new e(PI),r,n,!0)}function getPrecision(e){var r=e.length-1,n=r*LOG_BASE+1;if(r=e[r],r){for(;r%10==0;r/=10)n--;for(r=e[0];r>=10;r/=10)n++}return n}function getZeroString(e){for(var r="";e--;)r+="0";return r}function intPow(e,r,n,a){var s,o=new e(1),l=Math.ceil(a/LOG_BASE+4);for(external=!1;;){if(n%2&&(o=o.times(r),truncate(o.d,l)&&(s=!0)),n=mathfloor(n/2),n===0){n=o.d.length-1,s&&o.d[n]===0&&++o.d[n];break}r=r.times(r),truncate(r.d,l)}return external=!0,o}function isOdd(e){return e.d[e.d.length-1]&1}function maxOrMin(e,r,n){for(var a,s=new e(r[0]),o=0;++o<r.length;)if(a=new e(r[o]),a.s)s[n](a)&&(s=a);else{s=a;break}return s}function naturalExponential(e,r){var n,a,s,o,l,i,c,d=0,_=0,u=0,p=e.constructor,f=p.rounding,v=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(external=!1,c=v):c=r,i=new p(.03125);e.e>-2;)e=e.times(i),u+=5;for(a=Math.log(mathpow(2,u))/Math.LN10*2+5|0,c+=a,n=o=l=new p(1),p.precision=c;;){if(o=finalise(o.times(e),c,1),n=n.times(++_),i=l.plus(divide(o,n,c,1)),digitsToString(i.d).slice(0,c)===digitsToString(l.d).slice(0,c)){for(s=u;s--;)l=finalise(l.times(l),c,1);if(r==null)if(d<3&&checkRoundingDigits(l.d,c-a,f,d))p.precision=c+=10,n=o=i=new p(1),_=0,d++;else return finalise(l,p.precision=v,f,external=!0);else return p.precision=v,l}l=i}}function naturalLogarithm(e,r){var n,a,s,o,l,i,c,d,_,u,p,f=1,v=10,h=e,m=h.d,g=h.constructor,E=g.rounding,k=g.precision;if(h.s<0||!m||!m[0]||!h.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:h.s!=1?NaN:m?0:h);if(r==null?(external=!1,_=k):_=r,g.precision=_+=v,n=digitsToString(m),a=n.charAt(0),Math.abs(o=h.e)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)h=h.times(e),n=digitsToString(h.d),a=n.charAt(0),f++;o=h.e,a>1?(h=new g("0."+n),o++):h=new g(a+"."+n.slice(1))}else return d=getLn10(g,_+2,k).times(o+""),h=naturalLogarithm(new g(a+"."+n.slice(1)),_-v).plus(d),g.precision=k,r==null?finalise(h,k,E,external=!0):h;for(u=h,c=l=h=divide(h.minus(1),h.plus(1),_,1),p=finalise(h.times(h),_,1),s=3;;){if(l=finalise(l.times(p),_,1),d=c.plus(divide(l,new g(s),_,1)),digitsToString(d.d).slice(0,_)===digitsToString(c.d).slice(0,_))if(c=c.times(2),o!==0&&(c=c.plus(getLn10(g,_+2,k).times(o+""))),c=divide(c,new g(f),_,1),r==null)if(checkRoundingDigits(c.d,_-v,E,i))g.precision=_+=v,d=l=h=divide(u.minus(1),u.plus(1),_,1),p=finalise(h.times(h),_,1),s=i=1;else return finalise(c,g.precision=k,E,external=!0);else return g.precision=k,c;c=d,s+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;a++);for(s=r.length;r.charCodeAt(s-1)===48;--s);if(r=r.slice(a,s),r){if(s-=a,e.e=n=n-a-1,e.d=[],a=(n+1)%LOG_BASE,n<0&&(a+=LOG_BASE),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=LOG_BASE;a<s;)e.d.push(+r.slice(a,a+=LOG_BASE));r=r.slice(a),a=LOG_BASE-r.length}else a-=s;for(;a--;)r+="0";e.d.push(+r),external&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function parseOther(e,r){var n,a,s,o,l,i,c,d,_;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(r))return parseDecimal(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(isHex.test(r))n=16,r=r.toLowerCase();else if(isBinary.test(r))n=2;else if(isOctal.test(r))n=8;else throw Error(invalidArgument+r);for(o=r.search(/p/i),o>0?(c=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),o=r.indexOf("."),l=o>=0,a=e.constructor,l&&(r=r.replace(".",""),i=r.length,o=i-o,s=intPow(a,new a(n),o,o*2)),d=convertBase(r,n,BASE),_=d.length-1,o=_;d[o]===0;--o)d.pop();return o<0?new a(e.s*0):(e.e=getBase10Exponent(d,_),e.d=d,external=!1,l&&(e=divide(e,s,i*4)),c&&(e=e.times(Math.abs(c)<54?mathpow(2,c):Decimal.pow(2,c))),external=!0,e)}function sine(e,r){var n,a=r.d.length;if(a<3)return r.isZero()?r:taylorSeries(e,2,r,r);n=1.4*Math.sqrt(a),n=n>16?16:n|0,r=r.times(1/tinyPow(5,n)),r=taylorSeries(e,2,r,r);for(var s,o=new e(5),l=new e(16),i=new e(20);n--;)s=r.times(r),r=r.times(o.plus(s.times(l.times(s).minus(i))));return r}function taylorSeries(e,r,n,a,s){var o,l,i,c,d=e.precision,_=Math.ceil(d/LOG_BASE);for(external=!1,c=n.times(n),i=new e(a);;){if(l=divide(i.times(c),new e(r++*r++),d,1),i=s?a.plus(l):a.minus(l),a=divide(l.times(c),new e(r++*r++),d,1),l=i.plus(a),l.d[_]!==void 0){for(o=_;l.d[o]===i.d[o]&&o--;);if(o==-1)break}o=i,i=a,a=l,l=o}return external=!0,l.d.length=_+1,l}function tinyPow(e,r){for(var n=e;--r;)n*=e;return n}function toLessThanHalfPi(e,r){var n,a=r.s<0,s=getPi(e,e.precision,1),o=s.times(.5);if(r=r.abs(),r.lte(o))return quadrant=a?4:1,r;if(n=r.divToInt(s),n.isZero())quadrant=a?3:2;else{if(r=r.minus(n.times(s)),r.lte(o))return quadrant=isOdd(n)?a?2:3:a?4:1,r;quadrant=isOdd(n)?a?1:4:a?3:2}return r.minus(s).abs()}function toStringBinary(e,r,n,a){var s,o,l,i,c,d,_,u,p,f=e.constructor,v=n!==void 0;if(v?(checkInt32(n,1,MAX_DIGITS),a===void 0?a=f.rounding:checkInt32(a,0,8)):(n=f.precision,a=f.rounding),!e.isFinite())_=nonFiniteToString(e);else{for(_=finiteToString(e),l=_.indexOf("."),v?(s=2,r==16?n=n*4-3:r==8&&(n=n*3-2)):s=r,l>=0&&(_=_.replace(".",""),p=new f(1),p.e=_.length-l,p.d=convertBase(finiteToString(p),10,s),p.e=p.d.length),u=convertBase(_,10,s),o=c=u.length;u[--c]==0;)u.pop();if(!u[0])_=v?"0p+0":"0";else{if(l<0?o--:(e=new f(e),e.d=u,e.e=o,e=divide(e,p,n,a,0,s),u=e.d,o=e.e,d=inexact),l=u[n],i=s/2,d=d||u[n+1]!==void 0,d=a<4?(l!==void 0||d)&&(a===0||a===(e.s<0?3:2)):l>i||l===i&&(a===4||d||a===6&&u[n-1]&1||a===(e.s<0?8:7)),u.length=n,d)for(;++u[--n]>s-1;)u[n]=0,n||(++o,u.unshift(1));for(c=u.length;!u[c-1];--c);for(l=0,_="";l<c;l++)_+=NUMERALS.charAt(u[l]);if(v){if(c>1)if(r==16||r==8){for(l=r==16?4:3,--c;c%l;c++)_+="0";for(u=convertBase(_,s,r),c=u.length;!u[c-1];--c);for(l=1,_="1.";l<c;l++)_+=NUMERALS.charAt(u[l])}else _=_.charAt(0)+"."+_.slice(1);_=_+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)_="0"+_;_="0."+_}else if(++o>c)for(o-=c;o--;)_+="0";else o<c&&(_=_.slice(0,o)+"."+_.slice(o))}_=(r==16?"0x":r==2?"0b":r==8?"0o":"")+_}return e.s<0?"-"+_:_}function truncate(e,r){if(e.length>r)return e.length=r,!0}function abs(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function acosh(e){return new this(e).acosh()}function add(e,r){return new this(e).plus(r)}function asin(e){return new this(e).asin()}function asinh(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function atanh(e){return new this(e).atanh()}function atan2(e,r){e=new this(e),r=new this(r);var n,a=this.precision,s=this.rounding,o=a+4;return!e.s||!r.s?n=new this(NaN):!e.d&&!r.d?(n=getPi(this,o,1).times(r.s>0?.25:.75),n.s=e.s):!r.d||e.isZero()?(n=r.s<0?getPi(this,a,s):new this(0),n.s=e.s):!e.d||r.isZero()?(n=getPi(this,o,1).times(.5),n.s=e.s):r.s<0?(this.precision=o,this.rounding=1,n=this.atan(divide(e,r,o,1)),r=getPi(this,o,1),this.precision=a,this.rounding=s,n=e.s<0?n.minus(r):n.plus(r)):n=this.atan(divide(e,r,o,1)),n}function cbrt(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function clamp(e,r,n){return new this(e).clamp(r,n)}function config$3(e){if(!e||typeof e!="object")throw Error(decimalError+"Object expected");var r,n,a,s=e.defaults===!0,o=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(n=o[r],s&&(this[n]=DEFAULTS[n]),(a=e[n])!==void 0)if(mathfloor(a)===a&&a>=o[r+1]&&a<=o[r+2])this[n]=a;else throw Error(invalidArgument+n+": "+a);if(n="crypto",s&&(this[n]=DEFAULTS[n]),(a=e[n])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(cryptoUnavailable);else this[n]=!1;else throw Error(invalidArgument+n+": "+a);return this}function cos(e){return new this(e).cos()}function cosh(e){return new this(e).cosh()}function clone(e){var r,n,a;function s(o){var l,i,c,d=this;if(!(d instanceof s))return new s(o);if(d.constructor=s,isDecimalInstance(o)){d.s=o.s,external?!o.d||o.e>s.maxE?(d.e=NaN,d.d=null):o.e<s.minE?(d.e=0,d.d=[0]):(d.e=o.e,d.d=o.d.slice()):(d.e=o.e,d.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){d.s=1/o<0?-1:1,d.e=0,d.d=[0];return}if(o<0?(o=-o,d.s=-1):d.s=1,o===~~o&&o<1e7){for(l=0,i=o;i>=10;i/=10)l++;external?l>s.maxE?(d.e=NaN,d.d=null):l<s.minE?(d.e=0,d.d=[0]):(d.e=l,d.d=[o]):(d.e=l,d.d=[o]);return}else if(o*0!==0){o||(d.s=NaN),d.e=NaN,d.d=null;return}return parseDecimal(d,o.toString())}else if(c!=="string")throw Error(invalidArgument+o);return(i=o.charCodeAt(0))===45?(o=o.slice(1),d.s=-1):(i===43&&(o=o.slice(1)),d.s=1),isDecimal.test(o)?parseDecimal(d,o):parseOther(d,o)}if(s.prototype=P,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=config$3,s.clone=clone,s.isDecimal=isDecimalInstance,s.abs=abs,s.acos=acos,s.acosh=acosh,s.add=add,s.asin=asin,s.asinh=asinh,s.atan=atan,s.atanh=atanh,s.atan2=atan2,s.cbrt=cbrt,s.ceil=ceil,s.clamp=clamp,s.cos=cos,s.cosh=cosh,s.div=div,s.exp=exp,s.floor=floor,s.hypot=hypot,s.ln=ln,s.log=log,s.log10=log10,s.log2=log2,s.max=max,s.min=min,s.mod=mod,s.mul=mul,s.pow=pow,s.random=random,s.round=round,s.sign=sign,s.sin=sin,s.sinh=sinh,s.sqrt=sqrt,s.sub=sub,s.sum=sum,s.tan=tan,s.tanh=tanh,s.trunc=trunc,e===void 0&&(e={}),e&&e.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function div(e,r){return new this(e).div(r)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot(){var e,r,n=new this(0);for(external=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return external=!0,new this(1/0);n=r}return external=!0,n.sqrt()}function isDecimalInstance(e){return e instanceof Decimal||e&&e.toStringTag===tag||!1}function ln(e){return new this(e).ln()}function log(e,r){return new this(e).log(r)}function log2(e){return new this(e).log(2)}function log10(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(e,r){return new this(e).mod(r)}function mul(e,r){return new this(e).mul(r)}function pow(e,r){return new this(e).pow(r)}function random(e){var r,n,a,s,o=0,l=new this(1),i=[];if(e===void 0?e=this.precision:checkInt32(e,1,MAX_DIGITS),a=Math.ceil(e/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(a));o<a;)s=r[o],s>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:i[o++]=s%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=4);o<a;)s=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((r[o+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(r,o):(i.push(s%1e7),o+=4);o=a/4}else throw Error(cryptoUnavailable);else for(;o<a;)i[o++]=Math.random()*1e7|0;for(a=i[--o],e%=LOG_BASE,a&&e&&(s=mathpow(10,LOG_BASE-e),i[o]=(a/s|0)*s);i[o]===0;o--)i.pop();if(o<0)n=0,i=[0];else{for(n=-1;i[0]===0;n-=LOG_BASE)i.shift();for(a=1,s=i[0];s>=10;s/=10)a++;a<LOG_BASE&&(n-=LOG_BASE-a)}return l.e=n,l.d=i,l}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function sign(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function sinh(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,r){return new this(e).sub(r)}function sum(){var e=0,r=arguments,n=new this(r[e]);for(external=!1;n.s&&++e<r.length;)n=n.plus(r[e]);return external=!0,finalise(n,this.precision,this.rounding)}function tan(e){return new this(e).tan()}function tanh(e){return new this(e).tanh()}function trunc(e){return finalise(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=clone(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(e,r){return e===r||e!==e&&r!==r}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(e,r){for(var n=e.length;n--;)if(eq$1(e[n][0],r))return n;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var r=this.__data__,n=assocIndexOf$3(r,e);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():splice.call(r,n,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var r=this.__data__,n=assocIndexOf$2(r,e);return n<0?void 0:r[n][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,r){var n=this.__data__,a=assocIndexOf(n,e);return a<0?(++this.size,n.push([e,r])):n[a][1]=r,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$4=root$8.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$9=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(e){var r=hasOwnProperty$9.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var a=!0}catch{}var s=nativeObjectToString$1.call(e);return a&&(r?e[symToStringTag$1]=n:delete e[symToStringTag$1]),s}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$5(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$5;function isObject$7(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var isObject_1=isObject$7,baseGetTag$4=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(e){if(!isObject$6(e))return!1;var r=baseGetTag$4(e);return r==funcTag$2||r==genTag$1||r==asyncTag||r==proxyTag}var isFunction_1=isFunction$2,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$a=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject$5(e)||isMasked(e))return!1;var r=isFunction$1(e)?reIsNative:reIsHostCtor;return r.test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,r){return e==null?void 0:e[r]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(e,r){var n=getValue(e,r);return baseIsNative(n)?n:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$3=getNative$6(root$6,"Map"),_Map=Map$3,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function hashGet$1(e){var r=this.__data__;if(nativeCreate$2){var n=r[e];return n===HASH_UNDEFINED$1?void 0:n}return hasOwnProperty$7.call(r,e)?r[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashHas$1(e){var r=this.__data__;return nativeCreate$1?r[e]!==void 0:hasOwnProperty$6.call(r,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&r===void 0?HASH_UNDEFINED:r,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$2=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,r){var n=e.__data__;return isKeyable(r)?n[typeof r=="string"?"string":"hash"]:n.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var r=getMapData$3(this,e).delete(e);return this.size-=r?1:0,r}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,r){var n=getMapData(this,e),a=n.size;return n.set(e,r),this.size+=n.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,ListCache$1=_ListCache,Map$1=_Map,MapCache=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,r){var n=this.__data__;if(n instanceof ListCache$1){var a=n.__data__;if(!Map$1||a.length<LARGE_ARRAY_SIZE-1)return a.push([e,r]),this.size=++n.size,this;n=this.__data__=new MapCache(a)}return n.set(e,r),this.size=n.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(e){var r=this.__data__=new ListCache(e);this.size=r.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1;function arrayEach$1(e,r){for(var n=-1,a=e==null?0:e.length;++n<a&&r(e[n],n,e)!==!1;);return e}var _arrayEach=arrayEach$1,getNative$4=_getNative,defineProperty$1=function(){try{var e=getNative$4(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_defineProperty=defineProperty$1,defineProperty=_defineProperty;function baseAssignValue$2(e,r,n){r=="__proto__"&&defineProperty?defineProperty(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function assignValue$2(e,r,n){var a=e[r];(!(hasOwnProperty$5.call(e,r)&&eq(a,n))||n===void 0&&!(r in e))&&baseAssignValue$1(e,r,n)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$4(e,r,n,a){var s=!n;n||(n={});for(var o=-1,l=r.length;++o<l;){var i=r[o],c=a?a(n[i],e[i],i,n,e):void 0;c===void 0&&(c=e[i]),s?baseAssignValue(n,i,c):assignValue$1(n,i,c)}return n}var _copyObject=copyObject$4;function baseTimes$1(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}var _baseTimes=baseTimes$1;function isObjectLike$6(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$6,baseGetTag$3=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$5(e)&&baseGetTag$3(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$4(e)&&hasOwnProperty$4.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$1,isArray$3=Array.isArray,isArray_1=isArray$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(e,r){var n=_root,a=stubFalse_1,s=r&&!r.nodeType&&r,o=s&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===s,i=l?n.Buffer:void 0,c=i?i.isBuffer:void 0,d=c||a;e.exports=d})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,r){var n=typeof e;return r=r??MAX_SAFE_INTEGER$1,!!r&&(n=="number"||n!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<r}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$2=_baseGetTag,isLength$1=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(e){return isObjectLike$3(e)&&isLength$1(e.length)&&!!typedArrayTags[baseGetTag$2(e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(e){return function(r){return e(r)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}};_nodeUtil.exports;(function(e,r){var n=_freeGlobal,a=r&&!r.nodeType&&r,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o&&n.process,i=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=i})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$1,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$2=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty;function arrayLikeKeys$2(e,r){var n=isArray$2(e),a=!n&&isArguments(e),s=!n&&!a&&isBuffer$1(e),o=!n&&!a&&!s&&isTypedArray(e),l=n||a||s||o,i=l?baseTimes(e.length,String):[],c=i.length;for(var d in e)(r||hasOwnProperty$3.call(e,d))&&!(l&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||isIndex(d,c)))&&i.push(d);return i}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$4=Object.prototype;function isPrototype$3(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||objectProto$4;return e===n}var _isPrototype=isPrototype$3;function overArg$2(e,r){return function(n){return e(r(n))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$2(e))return nativeKeys(e);var r=[];for(var n in Object(e))hasOwnProperty$2.call(e,n)&&n!="constructor"&&r.push(n);return r}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$2(e){return e!=null&&isLength(e.length)&&!isFunction(e)}var isArrayLike_1=isArrayLike$2,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$1=isArrayLike_1;function keys$3(e){return isArrayLike$1(e)?arrayLikeKeys$1(e):baseKeys(e)}var keys_1=keys$3,copyObject$3=_copyObject,keys$2=keys_1;function baseAssign$1(e,r){return e&&copyObject$3(r,keys$2(r),e)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}var _nativeKeysIn=nativeKeysIn$1,isObject$4=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$4(e))return nativeKeysIn(e);var r=isPrototype$1(e),n=[];for(var a in e)a=="constructor"&&(r||!hasOwnProperty$1.call(e,a))||n.push(a);return n}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$3,copyObject$2=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(e,r){return e&&copyObject$2(r,keysIn$2(r),e)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(e,r){var n=_root,a=r&&!r.nodeType&&r,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?n.Buffer:void 0,i=l?l.allocUnsafe:void 0;function c(d,_){if(_)return d.slice();var u=d.length,p=i?i(u):new d.constructor(u);return d.copy(p),p}e.exports=c})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$1(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}var _copyArray=copyArray$1;function arrayFilter$1(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),function(r){return propertyIsEnumerable.call(e,r)}))}:stubArray$1,_getSymbols=getSymbols$3,copyObject$1=_copyObject,getSymbols$2=_getSymbols;function copySymbols$1(e,r){return copyObject$1(e,getSymbols$2(e),r)}var _copySymbols=copySymbols$1;function arrayPush$2(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}var _arrayPush=arrayPush$2,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush$1=_arrayPush,getPrototype$1=_getPrototype,getSymbols$1=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(e){for(var r=[];e;)arrayPush$1(r,getSymbols$1(e)),e=getPrototype$1(e);return r}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(e,r){return copyObject(e,getSymbolsIn$1(e),r)}var _copySymbolsIn=copySymbolsIn$1,arrayPush=_arrayPush,isArray$1=isArray_1;function baseGetAllKeys$2(e,r,n){var a=r(e);return isArray$1(e)?a:arrayPush(a,n(e))}var _baseGetAllKeys=baseGetAllKeys$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1(e){return baseGetAllKeys$1(e,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(e){return baseGetAllKeys(e,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,getNative$3=_getNative,root$5=_root,DataView$1=getNative$3(root$5,"DataView"),_DataView=DataView$1,getNative$2=_getNative,root$4=_root,Promise$2=getNative$2(root$4,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$3=_root,Set$2=getNative$1(root$3,"Set"),_Set=Set$2,getNative=_getNative,root$2=_root,WeakMap$1=getNative(root$2,"WeakMap"),_WeakMap=WeakMap$1,DataView=_DataView,Map=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap),getTag$3=baseGetTag$1;(DataView&&getTag$3(new DataView(new ArrayBuffer(1)))!=dataViewTag$2||Map&&getTag$3(new Map)!=mapTag$3||Promise$1&&getTag$3(Promise$1.resolve())!=promiseTag||Set$1&&getTag$3(new Set$1)!=setTag$3||WeakMap&&getTag$3(new WeakMap)!=weakMapTag$1)&&(getTag$3=function(e){var r=baseGetTag$1(e),n=r==objectTag$1?e.constructor:void 0,a=n?toSource(n):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return r});var _getTag=getTag$3,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(e){var r=e.length,n=new e.constructor(r);return r&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _initCloneArray=initCloneArray$1,root$1=_root,Uint8Array$2=root$1.Uint8Array,_Uint8Array=Uint8Array$2,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(e){var r=new e.constructor(e.byteLength);return new Uint8Array$1(r).set(new Uint8Array$1(e)),r}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(e,r){var n=r?cloneArrayBuffer$2(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(e){var r=new e.constructor(e.source,reFlags.exec(e));return r.lastIndex=e.lastIndex,r}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(e,r){var n=r?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(e,r,n){var a=e.constructor;switch(r){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new a(+e);case dataViewTag$1:return cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,n);case mapTag$2:return new a;case numberTag$1:case stringTag$1:return new a(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new a;case symbolTag$2:return cloneSymbol(e)}}var _initCloneByTag=initCloneByTag$1,isObject$3=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function e(){}return function(r){if(!isObject$3(r))return{};if(objectCreate)return objectCreate(r);e.prototype=r;var n=new e;return e.prototype=void 0,n}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(e){return typeof e.constructor=="function"&&!isPrototype(e)?baseCreate(getPrototype(e)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$2=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(e){return isObjectLike$2(e)&&getTag$2(e)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$1=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(e){return isObjectLike$1(e)&&getTag$1(e)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject$2=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(e,r,n,a,s,o){var l,i=r&CLONE_DEEP_FLAG$1,c=r&CLONE_FLAT_FLAG,d=r&CLONE_SYMBOLS_FLAG$1;if(n&&(l=s?n(e,a,s,o):n(e)),l!==void 0)return l;if(!isObject$2(e))return e;var _=isArray(e);if(_){if(l=initCloneArray(e),!i)return copyArray(e,l)}else{var u=getTag(e),p=u==funcTag||u==genTag;if(isBuffer(e))return cloneBuffer(e,i);if(u==objectTag||u==argsTag||p&&!s){if(l=c||p?{}:initCloneObject(e),!i)return c?copySymbolsIn(e,baseAssignIn(l,e)):copySymbols(e,baseAssign(l,e))}else{if(!cloneableTags[u])return s?e:{};l=initCloneByTag(e,u,i)}}o||(o=new Stack);var f=o.get(e);if(f)return f;o.set(e,l),isSet(e)?e.forEach(function(m){l.add(baseClone$1(m,r,n,m,e,o))}):isMap(e)&&e.forEach(function(m,g){l.set(g,baseClone$1(m,r,n,g,e,o))});var v=d?c?getAllKeysIn:getAllKeys:c?keysIn:keys,h=_?void 0:v(e);return arrayEach(h||e,function(m,g){h&&(g=m,m=e[g]),assignValue(l,g,baseClone$1(m,r,n,g,e,o))}),l}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;const _cloneDeep=getDefaultExportFromCjs(cloneDeep_1);var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$1=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject$1(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=isObject$1(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$1,isObject=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(e,r,n){var a,s,o,l,i,c,d=0,_=!1,u=!1,p=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);r=toNumber(r)||0,isObject(n)&&(_=!!n.leading,u="maxWait"in n,o=u?nativeMax(toNumber(n.maxWait)||0,r):o,p="trailing"in n?!!n.trailing:p);function f(O){var A=a,L=s;return a=s=void 0,d=O,l=e.apply(L,A),l}function v(O){return d=O,i=setTimeout(g,r),_?f(O):l}function h(O){var A=O-c,L=O-d,B=r-A;return u?nativeMin(B,o-L):B}function m(O){var A=O-c,L=O-d;return c===void 0||A>=r||A<0||u&&L>=o}function g(){var O=now();if(m(O))return E(O);i=setTimeout(g,h(O))}function E(O){return i=void 0,p&&a?f(O):(a=s=void 0,l)}function k(){i!==void 0&&clearTimeout(i),d=0,a=c=s=i=void 0}function T(){return i===void 0?l:E(now())}function w(){var O=now(),A=m(O);if(a=arguments,s=this,c=O,A){if(i===void 0)return v(c);if(u)return clearTimeout(i),i=setTimeout(g,r),f(c)}return i===void 0&&(i=setTimeout(g,r)),l}return w.cancel=k,w.flush=T,w}var debounce_1=debounce;const _debounce=getDefaultExportFromCjs(debounce_1),PINYIN={a:"啊阿锕",ai:"埃挨哎唉哀皑癌蔼矮艾碍爱隘诶捱嗳嗌嫒瑷暧砹锿霭",an:"鞍氨安俺按暗岸胺案谙埯揞犴庵桉铵鹌顸黯",ang:"肮昂盎",ao:"凹敖熬翱袄傲奥懊澳坳拗嗷噢岙廒遨媪骜聱螯鏊鳌鏖",ba:"芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸茇菝萆捭岜灞杷钯粑鲅魃",bai:"白柏百摆佰败拜稗薜掰鞴",ban:"斑班搬扳般颁板版扮拌伴瓣半办绊阪坂豳钣瘢癍舨",bang:"邦帮梆榜膀绑棒磅蚌镑傍谤蒡螃",bao:"苞胞包褒雹保堡饱宝抱报暴豹鲍爆勹葆宀孢煲鸨褓趵龅",bo:"剥薄玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳亳蕃啵饽檗擘礴钹鹁簸跛",bei:"杯碑悲卑北辈背贝钡倍狈备惫焙被孛陂邶埤蓓呗怫悖碚鹎褙鐾",ben:"奔苯本笨畚坌锛",beng:"崩绷甭泵蹦迸唪嘣甏",bi:"逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛匕仳俾芘荜荸吡哔狴庳愎滗濞弼妣婢嬖璧贲畀铋秕裨筚箅篦舭襞跸髀",bian:"鞭边编贬扁便变卞辨辩辫遍匾弁苄忭汴缏煸砭碥稹窆蝙笾鳊",biao:"标彪膘表婊骠飑飙飚灬镖镳瘭裱鳔",bie:"鳖憋别瘪蹩鳘",bin:"彬斌濒滨宾摈傧浜缤玢殡膑镔髌鬓",bing:"兵冰柄丙秉饼炳病并禀邴摒绠枋槟燹",bu:"捕卜哺补埠不布步簿部怖拊卟逋瓿晡钚醭",ca:"擦嚓礤",cai:"猜裁材才财睬踩采彩菜蔡",can:"餐参蚕残惭惨灿骖璨粲黪",cang:"苍舱仓沧伧",cao:"操糙槽曹草艹嘈漕螬艚",ce:"厕策侧册测刂帻恻",ceng:"层蹭噌",cha:"插叉茬茶查碴搽察岔差诧猹馇汊姹杈楂槎檫钗锸镲衩",chai:"拆柴豺侪茈瘥虿龇",chan:"搀掺蝉馋谗缠铲产阐颤冁谄谶蒇廛忏潺澶孱羼婵嬗骣觇镡裣蟾躔",chang:"昌猖场尝常长偿肠厂敞畅唱倡伥鬯苌菖徜怅惝阊娼嫦昶氅鲳",chao:"超抄钞朝嘲潮巢吵炒怊绉晁耖",che:"车扯撤掣彻澈坼屮砗",chen:"郴臣辰尘晨忱沉陈趁衬称谌抻嗔宸琛榇肜胂碜龀",cheng:"撑城橙成呈乘程惩澄诚承逞骋秤埕嵊徵浈枨柽樘晟塍瞠铖裎蛏酲",chi:"吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽傺墀芪茌搋叱哧啻嗤彳饬沲媸敕胝眙眵鸱瘛褫蚩螭笞篪豉踅踟魑",chong:"充冲虫崇宠茺忡憧铳艟",chou:"抽酬畴踌稠愁筹仇绸瞅丑俦圳帱惆溴妯瘳雠鲋",chu:"臭初出橱厨躇锄雏滁除楚础储矗搐触处亍刍憷绌杵楮樗蜍蹰黜",chuan:"揣川穿椽传船喘串掾舛惴遄巛氚钏镩舡",chuang:"疮窗幢床闯创怆",chui:"吹炊捶锤垂陲棰槌",chun:"春椿醇唇淳纯蠢促莼沌肫朐鹑蝽",chuo:"戳绰蔟辶辍镞踔龊",ci:"疵茨磁雌辞慈瓷词此刺赐次荠呲嵯鹚螅糍趑",cong:"聪葱囱匆从丛偬苁淙骢琮璁枞",cu:"凑粗醋簇猝殂蹙",cuan:"蹿篡窜汆撺昕爨",cui:"摧崔催脆瘁粹淬翠萃悴璀榱隹",cun:"村存寸磋忖皴",cuo:"撮搓措挫错厝脞锉矬痤鹾蹉躜",da:"搭达答瘩打大耷哒嗒怛妲疸褡笪靼鞑",dai:"呆歹傣戴带殆代贷袋待逮怠埭甙呔岱迨逯骀绐玳黛",dan:"耽担丹单郸掸胆旦氮但惮淡诞弹蛋亻儋卩萏啖澹殚赕眈瘅聃箪",dang:"当挡党荡档谠凼菪宕砀铛裆",dao:"刀捣蹈倒岛祷导到稻悼道盗叨啁忉洮氘焘忑纛",de:"德得的锝",deng:"蹬灯登等瞪凳邓噔嶝戥磴镫簦",di:"堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔氐籴诋谛邸坻莜荻嘀娣柢棣觌砥碲睇镝羝骶",dian:"颠掂滇碘点典靛垫电佃甸店惦奠淀殿丶阽坫埝巅玷癜癫簟踮",diao:"碉叼雕凋刁掉吊钓调轺铞蜩粜貂",die:"跌爹碟蝶迭谍叠佚垤堞揲喋渫轶牒瓞褶耋蹀鲽鳎",ding:"丁盯叮钉顶鼎锭定订丢仃啶玎腚碇町铤疔耵酊",dong:"东冬董懂动栋侗恫冻洞垌咚岽峒夂氡胨胴硐鸫",dou:"兜抖斗陡豆逗痘蔸钭窦窬蚪篼酡",du:"都督毒犊独读堵睹赌杜镀肚度渡妒芏嘟渎椟橐牍蠹笃髑黩",duan:"端短锻段断缎彖椴煅簖",dui:"堆兑队对怼憝碓",dun:"墩吨蹲敦顿囤钝盾遁炖砘礅盹镦趸惇",duo:"掇哆多夺垛躲朵跺舵剁惰堕咄哚缍柁铎裰踱",e:"蛾峨鹅俄额讹娥恶厄扼遏鄂饿噩谔垩垭苊莪萼呃愕屙婀轭曷腭硪锇锷鹗颚鳄",en:"恩蒽摁唔嗯",er:"而儿耳尔饵洱二贰迩珥铒鸸鲕",fa:"发罚筏伐乏阀法珐垡砝",fan:"藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛蘩幡犭梵攵燔畈蹯",fang:"坊芳方肪房防妨仿访纺放匚邡彷钫舫鲂",fei:"菲非啡飞肥匪诽吠肺废沸费芾狒悱淝妃绋绯榧腓斐扉祓砩镄痱蜚篚翡霏鲱暃",fen:"芬酚吩氛分纷坟焚汾粉奋份忿愤粪偾瀵棼愍鲼鼢",feng:"丰封枫蜂峰锋风疯烽逢冯缝讽奉凤俸酆葑沣砜",fu:"佛否夫敷肤孵扶拂辐幅氟符伏俘服浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐匐凫郛芙苻茯莩菔呋幞滏艴孚驸绂桴赙黻黼罘稃馥虍蚨蜉蝠蝮麸趺跗鳆",ga:"噶嘎蛤尬呷尕尜旮钆",gai:"该改概钙盖溉丐陔垓戤赅胲",gan:"干甘杆柑竿肝赶感秆敢赣坩苷尴擀泔淦澉绀橄旰矸疳酐",gang:"冈刚钢缸肛纲岗港戆罡颃筻",gong:"杠工攻功恭龚供躬公宫弓巩汞拱贡共蕻廾咣珙肱蚣蛩觥",gao:"篙皋高膏羔糕搞镐稿告睾诰郜蒿藁缟槔槁杲锆",ge:"哥歌搁戈鸽胳疙割革葛格阁隔铬个各鬲仡哿塥嗝纥搿膈硌铪镉袼颌虼舸骼髂",gei:"给",gen:"根跟亘茛哏艮",geng:"耕更庚羹埂耿梗哽赓鲠",gou:"钩勾沟苟狗垢构购够佝诟岣遘媾缑觏彀鸲笱篝鞲",gu:"辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇嘏诂菰哌崮汩梏轱牯牿胍臌毂瞽罟钴锢瓠鸪鹄痼蛄酤觚鲴骰鹘",gua:"刮瓜剐寡挂褂卦诖呱栝鸹",guai:"乖拐怪哙",guan:"棺关官冠观管馆罐惯灌贯倌莞掼涫盥鹳鳏",guang:"光广逛犷桄胱疒",gui:"瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽匦刿庋宄妫桧炅晷皈簋鲑鳜",gun:"辊滚棍丨衮绲磙鲧",guo:"锅郭国果裹过馘蠃埚掴呙囗帼崞猓椁虢锞聒蜮蜾蝈",ha:"哈",hai:"骸孩海氦亥害骇咴嗨颏醢",han:"酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉邗菡撖阚瀚晗焓颔蚶鼾",hen:"夯痕很狠恨",hang:"杭航沆绗珩桁",hao:"壕嚎豪毫郝好耗号浩薅嗥嚆濠灏昊皓颢蚝",he:"呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺诃劾壑藿嗑嗬阖盍蚵翮",hei:"嘿黑",heng:"哼亨横衡恒訇蘅",hong:"轰哄烘虹鸿洪宏弘红黉讧荭薨闳泓",hou:"喉侯猴吼厚候后堠後逅瘊篌糇鲎骺",hu:"呼乎忽瑚壶葫胡蝴狐糊湖弧虎唬护互沪户冱唿囫岵猢怙惚浒滹琥槲轷觳烀煳戽扈祜鹕鹱笏醐斛",hua:"花哗华猾滑画划化话劐浍骅桦铧稞",huai:"槐徊怀淮坏还踝",huan:"欢环桓缓换患唤痪豢焕涣宦幻郇奂垸擐圜洹浣漶寰逭缳锾鲩鬟",huang:"荒慌黄磺蝗簧皇凰惶煌晃幌恍谎隍徨湟潢遑璜肓癀蟥篁鳇",hui:"灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘诙茴荟蕙哕喙隳洄彗缋珲晖恚虺蟪麾",hun:"荤昏婚魂浑混诨馄阍溷缗",huo:"豁活伙火获或惑霍货祸攉嚯夥钬锪镬耠蠖",ji:"击圾基机畸稽积箕肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪居丌乩剞佶佴脔墼芨芰萁蒺蕺掎叽咭哜唧岌嵴洎彐屐骥畿玑楫殛戟戢赍觊犄齑矶羁嵇稷瘠瘵虮笈笄暨跻跽霁鲚鲫髻麂",jia:"嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁伽郏拮岬浃迦珈戛胛恝铗镓痂蛱笳袈跏",jian:"歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件健舰剑饯渐溅涧建僭谏谫菅蒹搛囝湔蹇謇缣枧柙楗戋戬牮犍毽腱睑锏鹣裥笕箴翦趼踺鲣鞯",jiang:"僵姜将浆江疆蒋桨奖讲匠酱降茳洚绛缰犟礓耩糨豇",jiao:"蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫佼僬茭挢噍峤徼姣纟敫皎鹪蛟醮跤鲛",jie:"窖揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届偈讦诘喈嗟獬婕孑桀獒碣锴疖袷颉蚧羯鲒骱髫",jin:"巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸尽卺荩堇噤馑廑妗缙瑾槿赆觐钅锓衿矜",jing:"劲荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净刭儆阱菁獍憬泾迳弪婧肼胫腈旌",jiong:"炯窘冂迥扃",jiu:"揪究纠玖韭久灸九酒厩救旧臼舅咎就疚僦啾阄柩桕鹫赳鬏",ju:"鞠拘狙疽驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧倨讵苣苴莒掬遽屦琚枸椐榘榉橘犋飓钜锔窭裾趄醵踽龃雎鞫",juan:"捐鹃娟倦眷卷绢鄄狷涓桊蠲锩镌隽",jue:"撅攫抉掘倔爵觉决诀绝厥劂谲矍蕨噘崛獗孓珏桷橛爝镢蹶觖",jun:"均菌钧军君峻俊竣浚郡骏捃狻皲筠麇",ka:"喀咖卡佧咔胩",ke:"咯坷苛柯棵磕颗科壳咳可渴克刻客课岢恪溘骒缂珂轲氪瞌钶疴窠蝌髁",kai:"开揩楷凯慨剀垲蒈忾恺铠锎",kan:"刊堪勘坎砍看侃凵莰莶戡龛瞰",kang:"康慷糠扛抗亢炕坑伉闶钪",kao:"考拷烤靠尻栲犒铐",ken:"肯啃垦恳垠裉颀",keng:"吭忐铿",kong:"空恐孔控倥崆箜",kou:"抠口扣寇芤蔻叩眍筘",ku:"枯哭窟苦酷库裤刳堀喾绔骷",kua:"夸垮挎跨胯侉",kuai:"块筷侩快蒯郐蒉狯脍",kuan:"宽款髋",kuang:"匡筐狂框矿眶旷况诓诳邝圹夼哐纩贶",kui:"亏盔岿窥葵奎魁傀馈愧溃馗匮夔隗揆喹喟悝愦阕逵暌睽聩蝰篑臾跬",kun:"坤昆捆困悃阃琨锟醌鲲髡",kuo:"括扩廓阔蛞",la:"垃拉喇蜡腊辣啦剌摺邋旯砬瘌",lai:"莱来赖崃徕涞濑赉睐铼癞籁",lan:"蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥啉岚懔漤榄斓罱镧褴",lang:"琅榔狼廊郎朗浪莨蒗啷阆锒稂螂",lao:"捞劳牢老佬姥酪烙涝唠崂栳铑铹痨醪",le:"勒乐肋仂叻嘞泐鳓",lei:"雷镭蕾磊累儡垒擂类泪羸诔荽咧漯嫘缧檑耒酹",ling:"棱拎玲菱零龄铃伶羚凌灵陵岭领另令酃塄苓呤囹泠绫柃棂瓴聆蛉翎鲮",leng:"冷楞愣",li:"厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐痢立粒沥隶力璃哩俪俚郦坜苈莅蓠藜捩呖唳喱猁溧澧逦娌嫠骊缡珞枥栎轹戾砺詈罹锂鹂疠疬蛎蜊蠡笠篥粝醴跞雳鲡鳢黧",lian:"俩联莲连镰廉怜涟帘敛脸链恋炼练挛蔹奁潋濂娈琏楝殓臁膦裢蠊鲢",liang:"粮凉梁粱良两辆量晾亮谅墚椋踉靓魉",liao:"撩聊僚疗燎寥辽潦了撂镣廖料蓼尥嘹獠寮缭钌鹩耢",lie:"列裂烈劣猎冽埒洌趔躐鬣",lin:"琳林磷霖临邻鳞淋凛赁吝蔺嶙廪遴檩辚瞵粼躏麟",liu:"溜琉榴硫馏留刘瘤流柳六抡偻蒌泖浏遛骝绺旒熘锍镏鹨鎏",long:"龙聋咙笼窿隆垄拢陇弄垅茏泷珑栊胧砻癃",lou:"楼娄搂篓漏陋喽嵝镂瘘耧蝼髅",lu:"芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮垆摅撸噜泸渌漉璐栌橹轳辂辘氇胪镥鸬鹭簏舻鲈",lv:"驴吕铝侣旅履屡缕虑氯律率滤绿捋闾榈膂稆褛",luan:"峦孪滦卵乱栾鸾銮",lue:"掠略锊",lun:"轮伦仑沦纶论囵",luo:"萝螺罗逻锣箩骡裸落洛骆络倮荦摞猡泺椤脶镙瘰雒",ma:"妈麻玛码蚂马骂嘛吗唛犸嬷杩麽",mai:"埋买麦卖迈脉劢荬咪霾",man:"瞒馒蛮满蔓曼慢漫谩墁幔缦熳镘颟螨鳗鞔",mang:"芒茫盲忙莽邙漭朦硭蟒",meng:"氓萌蒙檬盟锰猛梦孟勐甍瞢懵礞虻蜢蠓艋艨黾",miao:"猫苗描瞄藐秒渺庙妙喵邈缈缪杪淼眇鹋蜱",mao:"茅锚毛矛铆卯茂冒帽貌贸侔袤勖茆峁瑁昴牦耄旄懋瞀蛑蝥蟊髦",me:"么",mei:"玫枚梅酶霉煤没眉媒镁每美昧寐妹媚坶莓嵋猸浼湄楣镅鹛袂魅",men:"门闷们扪玟焖懑钔",mi:"眯醚靡糜迷谜弥米秘觅泌蜜密幂芈冖谧蘼嘧猕獯汨宓弭脒敉糸縻麋",mian:"棉眠绵冕免勉娩缅面沔湎腼眄",mie:"蔑灭咩蠛篾",min:"民抿皿敏悯闽苠岷闵泯珉",ming:"明螟鸣铭名命冥茗溟暝瞑酩",miu:"谬",mo:"摸摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谟茉蓦馍嫫镆秣瘼耱蟆貊貘",mou:"谋牟某厶哞婺眸鍪",mu:"拇牡亩姆母墓暮幕募慕木目睦牧穆仫苜呒沐毪钼",na:"拿呐钠那娜纳内捺肭镎衲箬",nai:"氖乃奶耐奈鼐艿萘柰",nan:"南男难囊喃囡楠腩蝻赧",nao:"挠脑恼闹孬垴猱瑙硇铙蛲",ne:"淖呢讷哪",nei:"馁",nen:"嫩能枘恁",ni:"妮霓倪泥尼拟你匿腻逆溺伲坭猊怩滠昵旎祢慝睨铌鲵",nian:"蔫拈年碾撵捻念廿辇黏鲇鲶",niang:"娘酿",niao:"鸟尿茑嬲脲袅",nie:"捏聂孽啮镊镍涅乜陧蘖嗫肀颞臬蹑",nin:"您柠",ning:"狞凝宁拧泞佞蓥咛甯聍",niu:"牛扭钮纽狃忸妞蚴",nong:"脓浓农侬",nu:"奴努怒呶帑弩胬孥驽",nv:"女恧钕衄",nuan:"暖",nuenue:"虐",nue:"疟谑",nuo:"挪懦糯诺傩搦喏锘",ou:"哦欧鸥殴藕呕偶沤怄瓯耦",pa:"啪趴爬帕怕琶葩筢",pai:"拍排牌徘湃派俳蒎",pan:"攀潘盘磐盼畔判叛爿泮袢襻蟠蹒",pang:"乓庞旁耪胖滂逄",pao:"抛咆刨炮袍跑泡匏狍庖脬疱",pei:"呸胚培裴赔陪配佩沛掊辔帔淠旆锫醅霈",pen:"喷盆湓",peng:"砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰坯堋嘭怦蟛",pi:"砒霹批披劈琵毗啤脾疲皮匹痞僻屁譬丕陴邳郫圮鼙擗噼庀媲纰枇甓睥罴铍痦癖疋蚍貔",pian:"篇偏片骗谝骈犏胼褊翩蹁",piao:"飘漂瓢票剽嘌嫖缥殍瞟螵",pie:"撇瞥丿苤氕",pin:"拼频贫品聘拚姘嫔榀牝颦",ping:"乒坪苹萍平凭瓶评屏俜娉枰鲆",po:"坡泼颇婆破魄迫粕叵鄱溥珀钋钷皤笸",pou:"剖裒踣",pu:"扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑匍噗濮璞氆镤镨蹼",qi:"期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫亟亓圻芑萋葺嘁屺岐汔淇骐绮琪琦杞桤槭欹祺憩碛蛴蜞綦綮趿蹊鳍麒",qia:"掐恰洽葜",qian:"牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉佥阡芊芡荨掮岍悭慊骞搴褰缱椠肷愆钤虔箝",qiang:"枪呛腔羌墙蔷强抢嫱樯戗炝锖锵镪襁蜣羟跫跄",qiao:"橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍劁诮谯荞愀憔缲樵毳硗跷鞒",qie:"切茄且怯窃郄唼惬妾挈锲箧",qin:"钦侵亲秦琴勤芹擒禽寝沁芩蓁蕲揿吣嗪噙溱檎螓衾",qing:"青轻氢倾卿清擎晴氰情顷请庆倩苘圊檠磬蜻罄箐謦鲭黥",qiong:"琼穷邛茕穹筇銎",qiu:"秋丘邱球求囚酋泅俅氽巯艽犰湫逑遒楸赇鸠虬蚯蝤裘糗鳅鼽",qu:"趋区蛆曲躯屈驱渠取娶龋趣去诎劬蕖蘧岖衢阒璩觑氍祛磲癯蛐蠼麴瞿黢",quan:"圈颧权醛泉全痊拳犬券劝诠荃獾悛绻辁畎铨蜷筌鬈",que:"缺炔瘸却鹊榷确雀阙悫",qun:"裙群逡",ran:"然燃冉染苒髯",rang:"瓤壤攘嚷让禳穰",rao:"饶扰绕荛娆桡",ruo:"惹若弱",re:"热偌",ren:"壬仁人忍韧任认刃妊纫仞荏葚饪轫稔衽",reng:"扔仍",ri:"日",rong:"戎茸蓉荣融熔溶容绒冗嵘狨缛榕蝾",rou:"揉柔肉糅蹂鞣",ru:"茹蠕儒孺如辱乳汝入褥蓐薷嚅洳溽濡铷襦颥",ruan:"软阮朊",rui:"蕊瑞锐芮蕤睿蚋",run:"闰润",sa:"撒洒萨卅仨挲飒",sai:"腮鳃塞赛噻",san:"三叁伞散彡馓氵毵糁霰",sang:"桑嗓丧搡磉颡",sao:"搔骚扫嫂埽臊瘙鳋",se:"瑟色涩啬铩铯穑",sen:"森",seng:"僧",sha:"莎砂杀刹沙纱傻啥煞脎歃痧裟霎鲨",shai:"筛晒酾",shan:"珊苫杉山删煽衫闪陕擅赡膳善汕扇缮剡讪鄯埏芟潸姗骟膻钐疝蟮舢跚鳝禅",shang:"墒伤商赏晌上尚裳垧绱殇熵觞",shao:"梢捎稍烧芍勺韶少哨邵绍劭苕潲蛸笤筲艄",she:"奢赊蛇舌舍赦摄射慑涉社设厍佘猞畲麝",shen:"砷申呻伸身深娠绅神沈审婶甚肾慎渗诜谂吲哂渖椹矧蜃",sheng:"声生甥牲升绳省盛剩胜圣丞渑媵眚笙",shi:"师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试谥埘莳蓍弑唑饣轼耆贳炻礻铈铊螫舐筮豕鲥鲺",shou:"收手首守寿授售受瘦兽扌狩绶艏",shu:"蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱恕倏塾菽忄沭涑澍姝纾毹腧殳镯秫鹬",shua:"刷耍唰涮",shuai:"摔衰甩帅蟀",shuan:"栓拴闩",shuang:"霜双爽孀",shui:"谁水睡税",shun:"吮瞬顺舜恂",shuo:"说硕朔烁蒴搠嗍濯妁槊铄",si:"斯撕嘶思私司丝死肆寺嗣四伺似饲巳厮俟兕菥咝汜泗澌姒驷缌祀祠锶鸶耜蛳笥",song:"松耸怂颂送宋讼诵凇菘崧嵩忪悚淞竦",sou:"搜艘擞嗽叟嗖嗾馊溲飕瞍锼螋",su:"苏酥俗素速粟僳塑溯宿诉肃夙谡蔌嗉愫簌觫稣",suan:"酸蒜算",sui:"虽隋随绥髓碎岁穗遂隧祟蓑冫谇濉邃燧眭睢",sun:"孙损笋荪狲飧榫跣隼",suo:"梭唆缩琐索锁所唢嗦娑桫睃羧",ta:"塌他它她塔獭挞蹋踏闼溻遢榻沓",tai:"胎苔抬台泰酞太态汰邰薹肽炱钛跆鲐",tan:"坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭郯蕈昙钽锬覃",tang:"汤塘搪堂棠膛唐糖傥饧溏瑭铴镗耥螗螳羰醣",thang:"倘躺淌",theng:"趟烫",tao:"掏涛滔绦萄桃逃淘陶讨套挑鼗啕韬饕",te:"特",teng:"藤腾疼誊滕",ti:"梯剔踢锑提题蹄啼体替嚏惕涕剃屉荑悌逖绨缇鹈裼醍",tian:"天添填田甜恬舔腆掭忝阗殄畋钿蚺",tiao:"条迢眺跳佻祧铫窕龆鲦",tie:"贴铁帖萜餮",ting:"厅听烃汀廷停亭庭挺艇莛葶婷梃蜓霆",tong:"通桐酮瞳同铜彤童桶捅筒统痛佟僮仝茼嗵恸潼砼",tou:"偷投头透亠",tu:"凸秃突图徒途涂屠土吐兔堍荼菟钍酴",tuan:"湍团疃",tui:"推颓腿蜕褪退忒煺",tun:"吞屯臀饨暾豚窀",tuo:"拖托脱鸵陀驮驼椭妥拓唾乇佗坨庹沱柝砣箨舄跎鼍",wa:"挖哇蛙洼娃瓦袜佤娲腽",wai:"歪外",wan:"豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕剜芄苋菀纨绾琬脘畹蜿箢",wang:"汪王亡枉网往旺望忘妄罔尢惘辋魍",wei:"威巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫倭偎诿隈葳薇帏帷崴嵬猥猬闱沩洧涠逶娓玮韪軎炜煨熨痿艉鲔",wen:"瘟温蚊文闻纹吻稳紊问刎愠阌汶璺韫殁雯",weng:"嗡翁瓮蓊蕹",wo:"挝蜗涡窝我斡卧握沃莴幄渥杌肟龌",wu:"巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误兀仵阢邬圬芴庑怃忤浯寤迕妩骛牾焐鹉鹜蜈鋈鼯",xi:"昔熙析西硒矽晰嘻吸锡牺稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细僖兮隰郗茜葸蓰奚唏徙饩阋浠淅屣嬉玺樨曦觋欷熹禊禧钸皙穸蜥蟋舾羲粞翕醯鼷",xia:"瞎虾匣霞辖暇峡侠狭下厦夏吓掀葭嗄狎遐瑕硖瘕罅黠",xian:"锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线冼藓岘猃暹娴氙祆鹇痫蚬筅籼酰跹",xiang:"相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象芗葙饷庠骧缃蟓鲞飨",xiao:"萧硝霄哮嚣销消宵淆晓小孝校肖啸笑效哓咻崤潇逍骁绡枭枵筱箫魈",xie:"楔些歇蝎鞋协挟携斜胁谐写械卸蟹懈泄泻谢屑偕亵勰燮薤撷廨瀣邂绁缬榭榍歙躞",xin:"薪芯锌欣辛新忻心信衅囟馨莘歆铽鑫",xing:"星腥猩惺兴刑型形邢行醒幸杏性姓陉荇荥擤悻硎",xiong:"兄凶胸匈汹雄熊芎",xiu:"休修羞朽嗅锈秀袖绣莠岫馐庥鸺貅髹",xu:"墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续讴诩圩蓿怵洫溆顼栩煦砉盱胥糈醑",xuan:"轩喧宣悬旋玄选癣眩绚儇谖萱揎馔泫洵渲漩璇楦暄炫煊碹铉镟痃",xue:"靴薛学穴削雪血噱泶鳕",xun:"勋熏循旬询寻驯巡殉汛训讯逊迅巽埙荀薰峋徇浔曛窨醺鲟",ya:"压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶伢揠吖岈迓娅琊桠氩砑睚痖犽",yan:"焉咽阉檐烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验厣靥赝俨偃兖讠谳郾鄢芫菸崦恹闫阏洇湮滟妍嫣琰晏胭腌焱罨筵酽魇餍鼹",yang:"殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾徉怏泱炀烊恙蛘鞅",yao:"邀腰妖瑶摇尧遥窑谣姚咬舀药要耀夭爻吆崾徭瀹幺珧杳曜肴鹞窈繇鳐",ye:"椰噎耶爷野冶也页掖业叶曳腋夜液谒邺揶馀晔烨铘邪",yi:"一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎刈劓佾诒圪圯埸懿苡薏弈奕挹弋呓咦咿噫峄嶷猗饴怿怡悒漪迤驿缢殪贻旖熠钇镒镱痍瘗癔翊衤蜴舣羿翳酏黟",yin:"茵荫因殷音阴姻吟银淫寅饮尹引隐印胤鄞堙茚喑狺夤氤铟瘾蚓霪龈",ying:"英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映嬴郢茔莺萦撄嘤膺滢潆瀛瑛璎楹鹦瘿颍罂",yo:"哟唷",yong:"拥佣臃痈庸雍踊蛹咏泳涌永恿勇用俑壅墉慵邕镛甬鳙饔",you:"幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼卣攸侑莸呦囿宥柚猷牖铕疣蝣鱿黝鼬",yu:"迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉浴寓裕预豫驭禺毓伛俣谀谕萸蓣揄喁圄圉嵛狳饫庾阈妪妤纡瑜昱觎腴欤於煜燠聿钰鹆瘐瘀窳蝓竽舁雩龉",yuan:"鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院塬沅媛瑗橼爰眢鸢螈鼋",yue:"曰约越跃钥岳粤月悦阅龠樾刖钺",yun:"耘云郧匀陨允运蕴酝晕韵孕郓芸狁恽纭殒昀氲",za:"匝砸杂拶咂",zai:"栽哉灾宰载再在咱崽甾",zan:"攒暂赞瓒昝簪糌趱錾",zang:"赃脏葬奘戕臧藏",zao:"遭糟凿藻枣早澡蚤躁噪造皂灶燥唣缫",ze:"责择则泽仄赜啧迮昃笮箦舴",zei:"贼",zen:"怎谮",zeng:"增憎曾赠缯甑罾锃",zha:"扎喳渣札轧铡闸眨栅榨咋乍炸诈揸吒咤哳怍砟痄蚱齄",zhai:"摘斋宅窄债寨砦",zhan:"瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽谵搌旃",zhang:"樟章彰漳张掌涨杖丈帐账仗胀瘴障仉鄣幛嶂獐嫜璋蟑",zhao:"招昭找沼赵照罩兆肇召爪诏棹钊笊",zhe:"遮折哲蛰辙者锗蔗这浙谪陬柘辄磔鹧褚蜇赭",zhen:"珍斟真甄砧臻贞针侦枕疹诊震振镇阵缜桢榛轸赈胗朕祯畛鸩",zheng:"蒸挣睁征狰争怔整拯正政帧症郑证诤峥钲铮筝",zhi:"芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒卮陟郅埴芷摭帙忮彘咫骘栉枳栀桎轵轾攴贽膣祉祗黹雉鸷痣蛭絷酯跖踬踯豸觯",zhong:"中盅忠钟衷终种肿重仲众冢锺螽舂舯踵",zhou:"舟周州洲诌粥轴肘帚咒皱宙昼骤啄着倜诹荮鬻纣胄碡籀舳酎鲷",zhu:"珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑住注祝驻伫侏邾苎茱洙渚潴驺杼槠橥炷铢疰瘃蚰竺箸翥躅麈",zhua:"抓",zhuai:"拽",zhuan:"专砖转撰赚篆抟啭颛",zhuang:"桩庄装妆撞壮状丬",zhui:"椎锥追赘坠缀萑骓缒",zhun:"谆准",zhuo:"捉拙卓桌琢茁酌灼浊倬诼廴蕞擢啜浞涿杓焯禚斫",zi:"兹咨资姿滋淄孜紫仔籽滓子自渍字谘嵫姊孳缁梓辎赀恣眦锱秭耔笫粢觜訾鲻髭",zong:"鬃棕踪宗综总纵腙粽",zou:"邹走奏揍鄹鲰",zu:"租足卒族祖诅阻组俎菹啐徂驵蹴",zuan:"钻纂攥缵",zui:"嘴醉最罪",zun:"尊遵撙樽鳟",zuo:"昨左佐柞做作坐座阝阼胙祚酢",cou:"薮楱辏腠",nang:"攮哝囔馕曩",o:"喔",dia:"嗲",chuai:"嘬膪踹",cen:"岑涔",diu:"铥",nou:"耨",fou:"缶",bia:"髟"},_isPhone=/mobile/i.test(navigator.userAgent),_browserV=(()=>{const e=navigator.userAgent;let r="",n=0;return e.indexOf("Chrome")>-1?(r="chrome",n=Number(e.match(/Chrome\/[\d.]+/)[0].split("/")[1].split(".")[0])):e.indexOf("Safari")>-1?(r="safari",n=Number(e.match(/Version\/[\d.]+/)[0].split("/")[1].split(".")[0])):e.indexOf("Firefox")>-1&&(r="firefox",n=Number(e.match(/Firefox\/[\d.]+/)[0].split("/")[1].split(".")[0])),{browser:r,version:n}})(),_timeGreet=(()=>{const e="午夜好",r="早上好",n="上午好",a="中午好",s="下午好",o="晚上好",l=new Date().getHours();return l<4?e:l<10?r:l<12?n:l<14?a:l<18?s:o})(),_isObject=e=>Object.prototype.toString.call(e)==="[object Object]",_accumulate=(e,r)=>e.reduce((n,a)=>n+a[r],0),_decimal=(e,r,n=2)=>{if(e.length!==r.length+1)throw new Error("数字数量与符号数量不匹配，符号数量＝数字数量-1");let a=new Decimal(e[0]);const s={"+":(o,l)=>o.add(l),"-":(o,l)=>o.sub(l),"*":(o,l)=>o.mul(l),"/":(o,l)=>{if(l.eq(0))throw new Error("除数不能为0");return o.div(l)}};for(let o=0;o<r.length;o++){const l=new Decimal(e[o+1]),i=r[o];a=s[i](a,l)}return Number(a.toFixed(n))},_random=(e,r,n=0)=>parseFloat((Math.random()*(r-e)+e).toFixed(n)),_potEoPct=(e,r=4)=>typeof e=="string"?Number(e.replace("%",""))/100:Number((e*100).toFixed(r)),_isArray=e=>Object.prototype.toString.call(e)==="[object Array]",_pinyin=e=>{if(typeof e!="string")return e;let r="",n="";const a=/[a-zA-Z0-9]/;for(const s of e){let o="";for(const l in PINYIN)if(PINYIN[l].includes(s)){o=l,n+=o[0].toLowerCase();break}r+=a.test(s)?s:o}return[r.toLowerCase(),n]},_search=(e,r,n,a=!1)=>{const s=[],o=(l,i)=>{const c=new RegExp(l.toString().toLowerCase(),"i");s.push(...e.filter(d=>{if(d[i]=d[i].toString(),_pinyin(d[i]).some(u=>c.test(u)||c.test(d[i])))return a&&r!==""&&(d[i]=d[i].replace(c,u=>`<i style="color:var(--blue)">${u}</i>`)),!0}))};return Array.isArray(n)?n.forEach(l=>o(r||"",l)):Array.isArray(r)?r.forEach(l=>{Array.isArray(n)?n.forEach(i=>o(l||"",i)):o(l||"",n)}):o(r||"",n),s},_typeSort=(e,r,n=!0)=>{const a=typeof r=="boolean"?r?1:-1:n?1:-1;return e.sort((s,o)=>{if(typeof e[0]=="object"){if(typeof s[r]=="number")return(s[r]-o[r])*a;if(typeof s[r]=="string")return s[r].toString().localeCompare(o[r].toString())*a}if(typeof s=="number")return(s-o)*a;if(typeof s=="string")return s.toString().localeCompare(o.toString())*a})},_saveFiles=(e,r)=>{const n=window.URL||window.webkitURL||window,a=new Blob([e]),s=document.createElementNS("http://www.w3.org/1999/xhtml","a");s.href=n.createObjectURL(a),s.download=r,s.click()},_imageOptimizer=e=>{var _,u;const r=document.createElement("canvas");r.classList.add("imageOptimizer"),document.body.appendChild(r);const n=((u=(_=e.el)==null?void 0:_.files)==null?void 0:u[0])||e.file;if(!n)return;const a=n.name,s=e.ratio||1,o=e.maxSize||1024,l=e.width||1e4;function i(p,f){const v=p.split(","),h=v[0].match(/:(.*?);/)[1],m=atob(v[1]),g=m.length,E=new Uint8Array(g);for(let k=0;k<g;k++)E[k]=m.charCodeAt(k);return new File([E],f,{type:h})}function c(p){const f=new FormData;return f.append("file",p),f}const d=new FileReader;d.readAsDataURL(n),d.onload=p=>{const f=p.target.result;if(p.total/1024>o){const v=new Image;v.src=f,v.onload=()=>{const h=r.getContext("2d"),m=l/v.width;m<1?(r.width=v.width*m,r.height=v.height*m,h.drawImage(v,0,0,v.width*m,v.height*m)):(r.width=v.width,r.height=v.height,h.drawImage(v,0,0,v.width,v.height));const g=r.toDataURL("image/jpeg",s),E=i(g,a);e.success(c(E),E,g),r.remove()},v.onerror=e.fail}else{const v=i(f,a);e.success(c(v),v,f),r.remove()}},d.onerror=e.fail},_promiseTimeout=(e=1,r)=>new Promise(n=>{setTimeout(()=>{r==null||r(),n()},e)}),_shuffleArray=e=>{for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},_titleTip=()=>{let e="",r;window.addEventListener("visibilitychange",()=>{if(clearTimeout(r),document.hidden){document.title!=="o(*≧▽≦)ツ欢迎回来！"&&(e=document.title),document.title="ヽ(≧∀≦)ﾉ来和妲己玩耍吧！";return}document.title="o(*≧▽≦)ツ欢迎回来！",r=setTimeout(()=>{document.title=e},1e3)})},_downloadImage=(e,r)=>{fetch(e).then(n=>n.blob()).then(n=>{const a=document.createElement("a"),s=window.URL.createObjectURL(n);a.href=s,a.download=r,a.click()})},_mergeConfig=(e,r)=>{for(const n in r)e[n]!==void 0?_isObject(r[n])&&_mergeConfig(e[n],r[n]):e[n]=r[n];return e},_checkTimeStamp=e=>{const r=dayjs(e).startOf("day"),n=dayjs().startOf("day");return r.isSame(n)?0:r.isBefore(n)?1:-1},_calcLevelPercentage=(e,r)=>{let n=1;for(;n<r.length&&e>=r[n];)n++;const a=r[n-1],s=r[n],o=(e-a)/(s-a),l=s,i=n-1;return e>=r[r.length-1]?{percentage:1,exp:e,maxExp:r[r.length-1],index:r.length-1}:{percentage:o,exp:e,maxExp:l,index:i}},_setHighlight=e=>e.replace(/\[([^\]]+)\]/g,'<span class="global_highlight-yellow-tip">$1</span>'),_setSkillHighlight=e=>e.replace(/<cheng>([^<]+)<\/cheng>/g,'<span style="color: #d35400;">$1</span>').replace(/<zi>([^<]+)<\/zi>/g,'<span style="color: #be2edd;">$1</span>').replace(/<lv>([^<]+)<\/lv>/g,'<span style="color: #27ae60;">$1</span>').replace(/<lan>([^<]+)<\/lan>/g,'<span style="color: #25ccf7;">$1</span>').replace(/<huang>([^<]+)<\/huang>/g,'<span style="color: #f39c12;">$1</span>').replace(/<hui>([^<]+)<\/hui>/g,'<span style="color: gray;">$1</span>'),_classNameInclude=(e,r)=>{if(e.className.indexOf(r)!==-1)return e;if(e.parentElement)return _classNameInclude(e.parentElement,r)},_loadAndRetryImage=(e,r=3)=>{const n=new Image;return n.src=e,new Promise((a,s)=>{let o=0;const l=()=>{o++,o<r?(n.removeEventListener("error",l),setTimeout(()=>{n.src=e,n.addEventListener("error",l)},1e3)):s()};n.addEventListener("load",()=>{a()}),n.addEventListener("error",l)})},_loadAndRetryAudio=(e,r=3)=>{const n=new Audio;return n.src=e,new Promise((a,s)=>{let o=0;const l=()=>{o++,o<r?(n.removeEventListener("error",l),setTimeout(()=>{n.src=e,n.addEventListener("error",l),n.load()},1e3)):s()};n.addEventListener("canplaythrough",()=>{a()}),n.addEventListener("error",l),n.load()})},_formatSeconds=(e,r)=>{const n=Math.floor(e/3600),a=Math.floor(e%3600/60),s=e%60;let o=n.toString().padStart(2,"0"),l=a.toString().padStart(2,"0");const i=s.toString().padStart(2,"0");return r==="SEC"&&(o="",l=""),r==="MIN"&&(o=""),[...`${o}${l}${i}`]},_formatSecondsToChinese=e=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%60,s=[];return r>0&&s.push(`${r}小时`),n>0&&s.push(`${n}分`),!r&&!n?`${a}秒`:(a>0&&s.push(`${a}秒`),s.join(""))},_getTimeAgo=e=>{const r=[{unit:"年",milliseconds:31536e6},{unit:"月",milliseconds:2592e6},{unit:"周",milliseconds:6048e5},{unit:"天",milliseconds:864e5},{unit:"小时",milliseconds:36e5},{unit:"分钟",milliseconds:6e4}],a=Date.now()-e;for(const{unit:s,milliseconds:o}of r)if(a>=o)return`${Math.floor(a/o)} ${s}前`;return"刚刚"},_getNewDayTimestamp=e=>dayjs(e).add(1,"day").startOf("day").valueOf(),_formatKilobitNumber=e=>e>=1e7?`${(e/1e7).toFixed(1)}w`:e>=1e4?`${Math.floor(e/1e3)/10}w`:e>=1e3?`${Math.floor(e/100)/10}k`:e.toString(),_retryRequest=({promiseFn:e,maxRetries:r=3,retryDelay:n=2e3,params:a=void 0})=>new Promise((s,o)=>{let l=0;const i=()=>{e(a).then(c=>{s(c)}).catch(c=>{if(l++,l>=r){o(c);return}setTimeout(i,n)})};i()}),_calculateProgress=(e,r)=>{if(e<=0)return 0;const n=100,a=r.length-1,s=n/a;for(let d=1;d<a;d++){const _=r[d-1],u=r[d];if(e<u){const p=u-_,f=e-_;return(d-1)*s+f/p*s}}const o=r[a-1],i=r[a]-o,c=e-o;return(a-1)*s+c/i*s},_blobTextToBlobObject=e=>new Promise(r=>{fetch(e).then(n=>{if(!n.ok)throw new Error("Failed to fetch Blob URL");return n.blob()}).then(n=>{const a=new FileReader;a.onloadend=()=>{r(a.result.toString())},a.readAsDataURL(n)})}),_openFullScreen=()=>{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.moRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},_exitFullScreen=()=>{const e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()},_getCoordsAngle=(e,r)=>{const n=r.x-e.x,a=r.y-e.y;let o=Math.atan2(a,n)*(180/Math.PI);return o=-o+90,o<0&&(o+=360),o},_getCoordsDistance=(e,r)=>{const n=r.x-e.x,a=r.y-e.y;return Math.sqrt(n*n+a*a)},_adjustCoordinates=(e,r,n,a,s)=>{const o=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));if(o>n){const l=r.x-e.x,i=r.y-e.y,c=l/o*10,d=i/o*10;e.x+=c*a,e.y+=d*a}else s();return e};class _Parallax{constructor(r){Q(this,"fn",()=>{});this.fn=r}move(r){const{innerWidth:n,innerHeight:a}=window,s=Number(((r.pageX-n/2)/(n/2)).toFixed(2)),o=Number(((r.pageY-a/2)/(a/2)).toFixed(2));this.fn(s,o)}}class _AudioVisual{constructor(r,n){Q(this,"audio");Q(this,"cvs");Q(this,"ctx");Q(this,"animationFrameId");Q(this,"isInit",!1);Q(this,"dataArray",[]);Q(this,"analyser");this.audio=r,this.cvs=n,this.ctx=n.getContext("2d"),this.init()}init(){this.cvs.width=this.cvs.offsetWidth*devicePixelRatio,this.cvs.height=this.cvs.offsetHeight*devicePixelRatio,this.draw()}play(){if(this.isInit)return;const r=new AudioContext,n=r.createMediaElementSource(this.audio);this.analyser=r.createAnalyser(),this.analyser.fftSize=512,this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),n.connect(this.analyser),this.analyser.connect(r.destination),this.isInit=!0}draw(){const r=()=>{this.animationFrameId=requestAnimationFrame(r);const{width:n,height:a}=this.cvs;if(this.ctx.clearRect(0,0,n,a),!this.isInit)return;this.analyser.getByteFrequencyData(this.dataArray);const s=this.dataArray.length,o=n/s;this.ctx.fillStyle="#72b0d540";for(let l=0;l<s;l++){const c=this.dataArray[l]/255*a,d=l*o+n/2,_=n/2-(l+1)*o,u=a-c;this.ctx.fillRect(d,u,o-2,c),this.ctx.fillRect(_,u,o-2,c)}};r()}destroy(){cancelAnimationFrame(this.animationFrameId)}}class _AudioPlayer{constructor(r){Q(this,"audio",new Audio);Q(this,"volume",1);const{end:n,volume:a=1}=r||{};n&&(this.audio.addEventListener("pause",n),this.audio.addEventListener("ended",n)),this.volume=a,this.audio.setAttribute("crossOrigin","anonymous")}async play(r){return new Promise(n=>{this.stop(),this.audio.volume=this.volume,this.audio.src=r,this.audio.onloadeddata=async()=>{await this.audio.play(),n(this.audio)}})}stop(){this.audio.pause()}}class _LoadMore{constructor(r,n){Q(this,"allowLoad",!0);Q(this,"el");Q(this,"loadHeight");Q(this,"load");Q(this,"scroll");const{parent:a,loadHeight:s=1}=r,{load:o,scroll:l}=n;this.el=a,this.loadHeight=s,this.load=o,l&&(this.scroll=l),this.el.addEventListener("scroll",this.handleScroll.bind(this)),a.scrollHeight<=a.clientHeight&&this.load()}handleScroll(){const r=this.el.scrollTop;this.scroll&&this.scroll(r),this.el.scrollHeight-this.el.clientHeight-r<=this.loadHeight&&this.allowLoad?(this.load(),this.allowLoad=!1):this.allowLoad=!0}}const SCENE_TIP={d7o5:"底部工具栏可以切换音乐！",mu63:"如果觉得卡顿，可前往设置关闭弹幕语音和粒子特效。",f1y0:"别忘了进入铭文搭配页。",cl60:"按住方案卡片拖拽可排序。",ma67:"",kr53:"",v44s:"按住边缘头像，拖动到中心位置并松开(点击头像也可以)。",lp57:"手指按住边缘头像，拖动到中心位置并松开(点击头像也可以)。"},CUSTOM_TIP={zd98:"检测到本地缺失{t}：[{v}]，已为你自动恢复。",qk36:"我一定会回来的~",hg86:"我又回来啦！",sm04:"恢复小贴士需要刷新浏览器才会生效。",vu90:"数据丢失，请刷新页面。",le13:"{h}存在{c}套技能，页面右下角有个切换副技能的按钮，点击它吧！",yn35:"",j33c:"",wi79:""},$tipText=(e,r)=>{let n=CUSTOM_TIP[e];return Object.entries(r).forEach(([a,s])=>{n=n.replaceAll(`{${a}}`,s.toString())}),n},ROUTE_PATH={LOGIN:"/login",HERO:"/hero",SKIN:"/skin",SAVOR:"/savor",EQUIP:"/equip",EPIGRAPH:"/epigraph",KNAPSACK:"/knapsack",YI_BAO:"/yibao",HERO_LOTTERY:"/lottery/hero",SKIN_LOTTERY:"/lottery/skin",HERO_DEBRIS:"/shop/debris/hero",SKIN_DEBRIS:"/shop/debris/skin",KING_CRYSTAL:"/shop/crystal/king",HONOR_CRYSTAL:"/shop/crystal/honor",PROP_SHOP:"/shop/prop"},RESOURCE_NAME={VERSION:"version",UPDATE_LOG:"updateLog",STATIC_VERSION:"staticVersion",TODO:"todo",NOTICE:"notice",MUSIC:"music",TEAM:"team",MAIL:"mail",EPIGRAPH:"epigraph",EPIGRAPH_COLOR:"epigraphColor",EPIGRAPH_EFFECT:"epigraphEffect",EPIGRAPH_IMAGE:"epigraphImage",EPIGRAPH_NAME:"epigraphName",EPIGRAPH_TYPE:"epigraphType",EQUIP:"equip",EQUIP_DESC:"equipDesc",EQUIP_EFFECT:"equipEffect",EQUIP_IMAGE:"equipImage",EQUIP_LEVEL:"equipLevel",EQUIP_MOTIVATION:"equipMotivation",EQUIP_NAME:"equipName",EQUIP_NOTE:"equipNote",EQUIP_PRICE:"equipPrice",EQUIP_SYNTHETIC:"equipSynthetic",EQUIP_TYPE:"equipType",HERO:"hero",HERO_PRICE:"heroPrice",HERO_ATTR:"heroAttr",HERO_CAMP:"heroCamp",HERO_GENDER:"heroGender",HERO_HEAD:"heroAvatar",HERO_HEIGHT:"heroHeight",HERO_RESUME:"heroResume",HERO_IDENTITY:"heroIdentity",HERO_IMAGE:"heroImage",HERO_LOCATION:"heroLocation",HERO_MARK:"heroMark",HERO_NAME:"heroName",HERO_PERIOD:"heroPeriod",HERO_PINYIN:"heroPinyin",HERO_PROFESSION:"heroProfession",HERO_RACE:"heroRace",HERO_RELATIONSHIP:"heroRelationship",HERO_SKILL_UNIT:"heroSkillUnit",HERO_SKIN:"heroSkin",HERO_SPECIALTY:"heroSpecialty",SKILL:"heroSkill",SKIN:"skin",SKIN_HERO:"skinHero",SKIN_IMAGE:"skinImage",SKIN_NAME:"skinName",SKIN_PRICE:"skinPrice",SKIN_TYPE:"skinType",TYPE_CAMP:"typeCamp",TYPE_EPIGRAPH:"typeEpigraph",TYPE_EPIGRAPH_EFFECT:"typeEpigraphEffect",TYPE_EQUIP:"typeEquip",TYPE_EQUIP_EFFECT:"typeEquipEffect",TYPE_LOCATION:"typeLocation",TYPE_PERIOD:"typePeriod",TYPE_PROFESSION:"typeProfession",TYPE_RACE:"typeRace",TYPE_SKIN:"typeSkin",TYPE_SPECIALTY:"typeSpecialty",VOICE:"voices",ZIP_AUDIO:"zip/audio.zip",ZIP_IMAGE_ACTIVITY_BANNER:"zip/image_activity_banner.zip",ZIP_IMAGE_BLUR:"zip/image_blur.zip",ZIP_IMAGE_HERO_AVATAR:"zip/image_hero_avatar.zip",ZIP_IMAGE_MINECRAFT:"zip/image_minecraft.zip",ZIP_IMAGE_MISC:"zip/image_misc.zip",ZIP_IMAGE_PROPS:"zip/image_props.zip",ZIP_IMAGE_MINI_HERO:"zip/image_mini_hero.zip",ZIP_VIDEO_HOME:"zip/video_home.zip"},LOCAL_KEY={AUTO_UPDATE_STATUS:"auto_update_status",VERSION_DIST:"version_dist",VERSION_DATA:"version_data",LANGUAGE:"language",DATA_TIME:"data_time",USER_DATA:"user_data",REMEMBER_USER:"remember_user",EPIGRAPH:"铭文表",EPIGRAPH_COLOR:"铭文颜色",EPIGRAPH_EFFECT:"铭文效果表",EPIGRAPH_IMAGE:"铭文图片表",EPIGRAPH_NAME:"铭文名称表",EPIGRAPH_TYPE:"铭文类型表",EQUIP:"装备表",EQUIP_DESC:"装备描述表",EQUIP_EFFECT:"装备效果表",EQUIP_IMAGE:"装备图片表",EQUIP_LEVEL:"装备等级表",EQUIP_MOTIVATION:"装备动机表",EQUIP_NAME:"装备名称表",EQUIP_NOTE:"装备备注表",EQUIP_PRICE:"装备价格表",EQUIP_SYNTHETIC:"装备合成表",EQUIP_TYPE:"装备类型表",HERO:"英雄表",HERO_PRICE:"英雄价格表",HERO_ATTR:"英雄属性表",HERO_CAMP:"英雄阵营表",HERO_GENDER:"英雄性别表",HERO_AVATAR:"英雄头像表",HERO_HEIGHT:"英雄身高表",HERO_RESUME:"英雄简述表",HERO_IDENTITY:"英雄身份表",HERO_IMAGE:"英雄图片表",HERO_LOCATION:"英雄定位表",HERO_MARK:"英雄代号表",HERO_NAME:"英雄名称表",HERO_PERIOD:"英雄时期表",HERO_PINYIN:"英雄拼音表",HERO_PROFESSION:"英雄职业表",HERO_RACE:"英雄种族表",HERO_RELATIONSHIP:"英雄关系表",HERO_SKILL_UNIT:"英雄技能单位表",HERO_SKIN:"英雄皮肤表",HERO_SPECIALTY:"英雄特长表",HERO_SKILL:"技能表",SKIN:"皮肤表",SKIN_HERO:"皮肤英雄表",SKIN_IMAGE:"皮肤图片表",SKIN_NAME:"皮肤名称表",SKIN_PRICE:"皮肤价格表",SKIN_TYPE:"皮肤类型表",TYPE_CAMP:"类型阵营表",TYPE_EPIGRAPH:"类型铭文表",TYPE_EPIGRAPH_EFFECT:"类型铭文效果表",TYPE_EQUIP:"类型装备表",TYPE_EQUIP_EFFECT:"类型装备效果表",TYPE_LOCATION:"类型定位表",TYPE_PERIOD:"类型时期表",TYPE_PROFESSION:"类型职业表",TYPE_RACE:"类型种族表",TYPE_SKIN:"类型皮肤表",TYPE_SPECIALTY:"类型特长表"},local={baseURL:`${location.origin}/json`,timeout:1e3*600},remote={baseURL:"https://lengyibai.github.io/wzry-database",timeout:1e3*600},resource={baseURL:"https://lengyibai.github.io/wzry-material",timeout:1e3*600,responseType:"blob"};class LocaleHttp{constructor(r){Q(this,"service");this.service=axios.create(r),this.service.interceptors.request.use(n=>(n.url+=`?temp=${dayjs().valueOf()}`,n),n=>Promise.reject(n)),this.service.interceptors.response.use(n=>n.data,n=>Promise.reject(n))}Get(r,n,a){return this.service.get(r,{params:n,...a})}}class RemoteHttp{constructor(r){Q(this,"service");this.service=axios.create(r),this.service.interceptors.request.use(n=>n,n=>Promise.reject(n)),this.service.interceptors.response.use(n=>n.data,n=>Promise.reject(n))}Get(r,n,a){return this.service.get(r,{params:n,...a})}Post(r,n,a){return this.service.post(r,n,a)}Patch(r,n,a){return this.service.put(r,n,a)}Del(r,n,a){return this.service.delete(r,{params:n,...a})}}class ResourceHttp{constructor(r){Q(this,"service");this.service=axios.create(r),this.service.interceptors.request.use(n=>n,n=>Promise.reject(n))}Get(r,n){return this.service.get(r,{...n})}}const $LocaleHttp=new LocaleHttp(local),$RemoteHttp=new RemoteHttp(remote),$ResourceHttp=new ResourceHttp(resource),Version=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.VERSION}.json`),UpdateLog=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.UPDATE_LOG}.json`),StaticVersion=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.STATIC_VERSION}.json`),Notice=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.NOTICE}.json`),Music=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.MUSIC}.json`),Team=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TEAM}.json`),Mail=()=>$LocaleHttp.Get(`/${RESOURCE_NAME.MAIL}.json`),Epigraph=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH}.json`),EpigraphColor=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH_COLOR}.json`),EpigraphEffect=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH_EFFECT}.json`),EpigraphImage=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH_IMAGE}.json`),EpigraphName=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH_NAME}.json`),EpigraphType=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EPIGRAPH_TYPE}.json`),Equip=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP}.json`),EquipDesc=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_DESC}.json`),EquipEffect=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_EFFECT}.json`),EquipImage=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_IMAGE}.json`),EquipLevel=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_LEVEL}.json`),EquipMotivation=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_MOTIVATION}.json`),EquipName=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_NAME}.json`),EquipNote=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_NOTE}.json`),EquipPrice=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_PRICE}.json`),EquipSynthetic=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_SYNTHETIC}.json`),EquipType=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.EQUIP_TYPE}.json`),Hero=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO}.json`),HeroPrice=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_PRICE}.json`),HeroAttr=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_ATTR}.json`),HeroCamp=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_CAMP}.json`),HeroGender=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_GENDER}.json`),HeroAvatar=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_HEAD}.json`),HeroHeight=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_HEIGHT}.json`),HeroResume$1=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_RESUME}.json`),HeroIdentity=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_IDENTITY}.json`),HeroImage=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_IMAGE}.json`),HeroLocation=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_LOCATION}.json`),HeroMark=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_MARK}.json`),HeroName=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_NAME}.json`),HeroPeriod=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_PERIOD}.json`),HeroPinyin=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_PINYIN}.json`),HeroProfession=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_PROFESSION}.json`),HeroRace=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_RACE}.json`),HeroRelationship$1=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_RELATIONSHIP}.json`),HeroSkillUnit=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_SKILL_UNIT}.json`),HeroSkin$1=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_SKIN}.json`),HeroSpecialty=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.HERO_SPECIALTY}.json`),Skill=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKILL}.json`),Skin=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN}.json`),SkinHero=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN_HERO}.json`),SkinImage=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN_IMAGE}.json`),SkinName=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN_NAME}.json`),SkinPrice=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN_PRICE}.json`),SkinType=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.SKIN_TYPE}.json`),TypeCamp=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_CAMP}.json`),TypeEpigraph=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_EPIGRAPH}.json`),TypeEpigraphEffect=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_EPIGRAPH_EFFECT}.json`),TypeEquip=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_EQUIP}.json`),TypeEquipEffect=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_EQUIP_EFFECT}.json`),TypeLocation=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_LOCATION}.json`),TypePeriod=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_PERIOD}.json`),TypeProfession=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_PROFESSION}.json`),TypeRace=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_RACE}.json`),TypeSkin=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_SKIN}.json`),TypeSpecialty=()=>$RemoteHttp.Get(`/${RESOURCE_NAME.TYPE_SPECIALTY}.json`),Voice=e=>$RemoteHttp.Get(`/${RESOURCE_NAME.VOICE}/${e}.json`),ZipResource=(e,r)=>$ResourceHttp.Get(`/${e}`,{onDownloadProgress:r});function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,r){(function(n){e.exports=n()})(function(){return function n(a,s,o){function l(d,_){if(!s[d]){if(!a[d]){var u=typeof commonjsRequire=="function"&&commonjsRequire;if(!_&&u)return u(d,!0);if(i)return i(d,!0);var p=new Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p}var f=s[d]={exports:{}};a[d][0].call(f.exports,function(v){var h=a[d][1][v];return l(h||v)},f,f.exports,n,a,s,o)}return s[d].exports}for(var i=typeof commonjsRequire=="function"&&commonjsRequire,c=0;c<o.length;c++)l(o[c]);return l}({1:[function(n,a,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,i;if(l){var c=0,d=new l(v),_=o.document.createTextNode("");d.observe(_,{characterData:!0}),i=function(){_.data=c=++c%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var u=new o.MessageChannel;u.port1.onmessage=v,i=function(){u.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?i=function(){var m=o.document.createElement("script");m.onreadystatechange=function(){v(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:i=function(){setTimeout(v,0)};var p,f=[];function v(){p=!0;for(var m,g,E=f.length;E;){for(g=f,f=[],m=-1;++m<E;)g[m]();E=f.length}p=!1}a.exports=h;function h(m){f.push(m)===1&&!p&&i()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,a,s){var o=n(1);function l(){}var i={},c=["REJECTED"],d=["FULFILLED"],_=["PENDING"];a.exports=u;function u(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,w!==l&&h(this,w)}u.prototype.catch=function(w){return this.then(null,w)},u.prototype.then=function(w,O){if(typeof w!="function"&&this.state===d||typeof O!="function"&&this.state===c)return this;var A=new this.constructor(l);if(this.state!==_){var L=this.state===d?w:O;f(A,L,this.outcome)}else this.queue.push(new p(A,w,O));return A};function p(w,O,A){this.promise=w,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(w){i.resolve(this.promise,w)},p.prototype.otherCallFulfilled=function(w){f(this.promise,this.onFulfilled,w)},p.prototype.callRejected=function(w){i.reject(this.promise,w)},p.prototype.otherCallRejected=function(w){f(this.promise,this.onRejected,w)};function f(w,O,A){o(function(){var L;try{L=O(A)}catch(B){return i.reject(w,B)}L===w?i.reject(w,new TypeError("Cannot resolve promise with itself")):i.resolve(w,L)})}i.resolve=function(w,O){var A=m(v,O);if(A.status==="error")return i.reject(w,A.value);var L=A.value;if(L)h(w,L);else{w.state=d,w.outcome=O;for(var B=-1,U=w.queue.length;++B<U;)w.queue[B].callFulfilled(O)}return w},i.reject=function(w,O){w.state=c,w.outcome=O;for(var A=-1,L=w.queue.length;++A<L;)w.queue[A].callRejected(O);return w};function v(w){var O=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof O=="function")return function(){O.apply(w,arguments)}}function h(w,O){var A=!1;function L(N){A||(A=!0,i.reject(w,N))}function B(N){A||(A=!0,i.resolve(w,N))}function U(){O(B,L)}var j=m(U);j.status==="error"&&L(j.value)}function m(w,O){var A={};try{A.value=w(O),A.status="success"}catch(L){A.status="error",A.value=L}return A}u.resolve=g;function g(w){return w instanceof this?w:i.resolve(new this(l),w)}u.reject=E;function E(w){var O=new this(l);return i.reject(O,w)}u.all=k;function k(w){var O=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,L=!1;if(!A)return this.resolve([]);for(var B=new Array(A),U=0,j=-1,N=new this(l);++j<A;)F(w[j],j);return N;function F(S,q){O.resolve(S).then(ue,function(te){L||(L=!0,i.reject(N,te))});function ue(te){B[q]=te,++U===A&&!L&&(L=!0,i.resolve(N,B))}}}u.race=T;function T(w){var O=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,L=!1;if(!A)return this.resolve([]);for(var B=-1,U=new this(l);++B<A;)j(w[B]);return U;function j(N){O.resolve(N).then(function(F){L||(L=!0,i.resolve(U,F))},function(F){L||(L=!0,i.reject(U,F))})}}},{1:1}],3:[function(n,a,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,a,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function l(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function i(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=i();function d(){try{if(!c||!c.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),D=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||D)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(I,D){I=I||[],D=D||{};try{return new Blob(I,D)}catch(M){if(M.name!=="TypeError")throw M;for(var $=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,H=new $,K=0;K<I.length;K+=1)H.append(I[K]);return H.getBlob(D.type)}}typeof Promise>"u"&&n(3);var u=Promise;function p(I,D){D&&I.then(function($){D(null,$)},function($){D($)})}function f(I,D,$){typeof D=="function"&&I.then(D),typeof $=="function"&&I.catch($)}function v(I){return typeof I!="string"&&(I+"",I=String(I)),I}function h(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var m="local-forage-detect-blob-support",g=void 0,E={},k=Object.prototype.toString,T="readonly",w="readwrite";function O(I){for(var D=I.length,$=new ArrayBuffer(D),H=new Uint8Array($),K=0;K<D;K++)H[K]=I.charCodeAt(K);return $}function A(I){return new u(function(D){var $=I.transaction(m,w),H=_([""]);$.objectStore(m).put(H,"key"),$.onabort=function(K){K.preventDefault(),K.stopPropagation(),D(!1)},$.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),M=navigator.userAgent.match(/Edge\//);D(M||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function L(I){return typeof g=="boolean"?u.resolve(g):A(I).then(function(D){return g=D,g})}function B(I){var D=E[I.name],$={};$.promise=new u(function(H,K){$.resolve=H,$.reject=K}),D.deferredOperations.push($),D.dbReady?D.dbReady=D.dbReady.then(function(){return $.promise}):D.dbReady=$.promise}function U(I){var D=E[I.name],$=D.deferredOperations.pop();if($)return $.resolve(),$.promise}function j(I,D){var $=E[I.name],H=$.deferredOperations.pop();if(H)return H.reject(D),H.promise}function N(I,D){return new u(function($,H){if(E[I.name]=E[I.name]||Y(),I.db)if(D)B(I),I.db.close();else return $(I.db);var K=[I.name];D&&K.push(I.version);var M=c.open.apply(c,K);D&&(M.onupgradeneeded=function(X){var ne=M.result;try{ne.createObjectStore(I.storeName),X.oldVersion<=1&&ne.createObjectStore(m)}catch(ae){if(ae.name==="ConstraintError")""+I.name+X.oldVersion+X.newVersion+I.storeName;else throw ae}}),M.onerror=function(X){X.preventDefault(),H(M.error)},M.onsuccess=function(){var X=M.result;X.onversionchange=function(ne){ne.target.close()},$(X),U(I)}})}function F(I){return N(I,!1)}function S(I){return N(I,!0)}function q(I,D){if(!I.db)return!0;var $=!I.db.objectStoreNames.contains(I.storeName),H=I.version<I.db.version,K=I.version>I.db.version;if(H&&(I.version!==D&&""+I.name+I.db.version+I.version,I.version=I.db.version),K||$){if($){var M=I.db.version+1;M>I.version&&(I.version=M)}return!0}return!1}function ue(I){return new u(function(D,$){var H=new FileReader;H.onerror=$,H.onloadend=function(K){var M=btoa(K.target.result||"");D({__local_forage_encoded_blob:!0,data:M,type:I.type})},H.readAsBinaryString(I)})}function te(I){var D=O(atob(I.data));return _([D],{type:I.type})}function ge(I){return I&&I.__local_forage_encoded_blob}function re(I){var D=this,$=D._initReady().then(function(){var H=E[D._dbInfo.name];if(H&&H.dbReady)return H.dbReady});return f($,I,I),$}function me(I){B(I);for(var D=E[I.name],$=D.forages,H=0;H<$.length;H++){var K=$[H];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return I.db=null,F(I).then(function(M){return I.db=M,q(I)?S(I):M}).then(function(M){I.db=D.db=M;for(var X=0;X<$.length;X++)$[X]._dbInfo.db=M}).catch(function(M){throw j(I,M),M})}function z(I,D,$,H){H===void 0&&(H=1);try{var K=I.db.transaction(I.storeName,D);$(null,K)}catch(M){if(H>0&&(!I.db||M.name==="InvalidStateError"||M.name==="NotFoundError"))return u.resolve().then(function(){if(!I.db||M.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),S(I)}).then(function(){return me(I).then(function(){z(I,D,$,H-1)})}).catch($);$(M)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function he(I){var D=this,$={db:null};if(I)for(var H in I)$[H]=I[H];var K=E[$.name];K||(K=Y(),E[$.name]=K),K.forages.push(D),D._initReady||(D._initReady=D.ready,D.ready=re);var M=[];function X(){return u.resolve()}for(var ne=0;ne<K.forages.length;ne++){var ae=K.forages[ne];ae!==D&&M.push(ae._initReady().catch(X))}var se=K.forages.slice(0);return u.all(M).then(function(){return $.db=K.db,F($)}).then(function(le){return $.db=le,q($,D._defaultConfig.version)?S($):le}).then(function(le){$.db=K.db=le,D._dbInfo=$;for(var fe=0;fe<se.length;fe++){var ve=se[fe];ve!==D&&(ve._dbInfo.db=$.db,ve._dbInfo.version=$.version)}})}function _e(I,D){var $=this;I=v(I);var H=new u(function(K,M){$.ready().then(function(){z($._dbInfo,T,function(X,ne){if(X)return M(X);try{var ae=ne.objectStore($._dbInfo.storeName),se=ae.get(I);se.onsuccess=function(){var le=se.result;le===void 0&&(le=null),ge(le)&&(le=te(le)),K(le)},se.onerror=function(){M(se.error)}}catch(le){M(le)}})}).catch(M)});return p(H,D),H}function ce(I,D){var $=this,H=new u(function(K,M){$.ready().then(function(){z($._dbInfo,T,function(X,ne){if(X)return M(X);try{var ae=ne.objectStore($._dbInfo.storeName),se=ae.openCursor(),le=1;se.onsuccess=function(){var fe=se.result;if(fe){var ve=fe.value;ge(ve)&&(ve=te(ve));var ke=I(ve,fe.key,le++);ke!==void 0?K(ke):fe.continue()}else K()},se.onerror=function(){M(se.error)}}catch(fe){M(fe)}})}).catch(M)});return p(H,D),H}function Te(I,D,$){var H=this;I=v(I);var K=new u(function(M,X){var ne;H.ready().then(function(){return ne=H._dbInfo,k.call(D)==="[object Blob]"?L(ne.db).then(function(ae){return ae?D:ue(D)}):D}).then(function(ae){z(H._dbInfo,w,function(se,le){if(se)return X(se);try{var fe=le.objectStore(H._dbInfo.storeName);ae===null&&(ae=void 0);var ve=fe.put(ae,I);le.oncomplete=function(){ae===void 0&&(ae=null),M(ae)},le.onabort=le.onerror=function(){var ke=ve.error?ve.error:ve.transaction.error;X(ke)}}catch(ke){X(ke)}})}).catch(X)});return p(K,$),K}function Ne(I,D){var $=this;I=v(I);var H=new u(function(K,M){$.ready().then(function(){z($._dbInfo,w,function(X,ne){if(X)return M(X);try{var ae=ne.objectStore($._dbInfo.storeName),se=ae.delete(I);ne.oncomplete=function(){K()},ne.onerror=function(){M(se.error)},ne.onabort=function(){var le=se.error?se.error:se.transaction.error;M(le)}}catch(le){M(le)}})}).catch(M)});return p(H,D),H}function Ee(I){var D=this,$=new u(function(H,K){D.ready().then(function(){z(D._dbInfo,w,function(M,X){if(M)return K(M);try{var ne=X.objectStore(D._dbInfo.storeName),ae=ne.clear();X.oncomplete=function(){H()},X.onabort=X.onerror=function(){var se=ae.error?ae.error:ae.transaction.error;K(se)}}catch(se){K(se)}})}).catch(K)});return p($,I),$}function be(I){var D=this,$=new u(function(H,K){D.ready().then(function(){z(D._dbInfo,T,function(M,X){if(M)return K(M);try{var ne=X.objectStore(D._dbInfo.storeName),ae=ne.count();ae.onsuccess=function(){H(ae.result)},ae.onerror=function(){K(ae.error)}}catch(se){K(se)}})}).catch(K)});return p($,I),$}function $e(I,D){var $=this,H=new u(function(K,M){if(I<0){K(null);return}$.ready().then(function(){z($._dbInfo,T,function(X,ne){if(X)return M(X);try{var ae=ne.objectStore($._dbInfo.storeName),se=!1,le=ae.openKeyCursor();le.onsuccess=function(){var fe=le.result;if(!fe){K(null);return}I===0||se?K(fe.key):(se=!0,fe.advance(I))},le.onerror=function(){M(le.error)}}catch(fe){M(fe)}})}).catch(M)});return p(H,D),H}function Oe(I){var D=this,$=new u(function(H,K){D.ready().then(function(){z(D._dbInfo,T,function(M,X){if(M)return K(M);try{var ne=X.objectStore(D._dbInfo.storeName),ae=ne.openKeyCursor(),se=[];ae.onsuccess=function(){var le=ae.result;if(!le){H(se);return}se.push(le.key),le.continue()},ae.onerror=function(){K(ae.error)}}catch(le){K(le)}})}).catch(K)});return p($,I),$}function xe(I,D){D=h.apply(this,arguments);var $=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||$.name,I.storeName=I.storeName||$.storeName);var H=this,K;if(!I.name)K=u.reject("Invalid arguments");else{var M=I.name===$.name&&H._dbInfo.db,X=M?u.resolve(H._dbInfo.db):F(I).then(function(ne){var ae=E[I.name],se=ae.forages;ae.db=ne;for(var le=0;le<se.length;le++)se[le]._dbInfo.db=ne;return ne});I.storeName?K=X.then(function(ne){if(ne.objectStoreNames.contains(I.storeName)){var ae=ne.version+1;B(I);var se=E[I.name],le=se.forages;ne.close();for(var fe=0;fe<le.length;fe++){var ve=le[fe];ve._dbInfo.db=null,ve._dbInfo.version=ae}var ke=new u(function(we,Re){var Ae=c.open(I.name,ae);Ae.onerror=function(Pe){var qe=Ae.result;qe.close(),Re(Pe)},Ae.onupgradeneeded=function(){var Pe=Ae.result;Pe.deleteObjectStore(I.storeName)},Ae.onsuccess=function(){var Pe=Ae.result;Pe.close(),we(Pe)}});return ke.then(function(we){se.db=we;for(var Re=0;Re<le.length;Re++){var Ae=le[Re];Ae._dbInfo.db=we,U(Ae._dbInfo)}}).catch(function(we){throw(j(I,we)||u.resolve()).catch(function(){}),we})}}):K=X.then(function(ne){B(I);var ae=E[I.name],se=ae.forages;ne.close();for(var le=0;le<se.length;le++){var fe=se[le];fe._dbInfo.db=null}var ve=new u(function(ke,we){var Re=c.deleteDatabase(I.name);Re.onerror=function(){var Ae=Re.result;Ae&&Ae.close(),we(Re.error)},Re.onblocked=function(){""+I.name},Re.onsuccess=function(){var Ae=Re.result;Ae&&Ae.close(),ke(Ae)}});return ve.then(function(ke){ae.db=ke;for(var we=0;we<se.length;we++){var Re=se[we];U(Re._dbInfo)}}).catch(function(ke){throw(j(I,ke)||u.resolve()).catch(function(){}),ke})})}return p(K,D),K}var Le={_driver:"asyncStorage",_initStorage:he,_support:d(),iterate:ce,getItem:_e,setItem:Te,removeItem:Ne,clear:Ee,length:be,key:$e,keys:Oe,dropInstance:xe};function b(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W="~~local_forage_type~",C=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",G=R.length,J="arbf",ee="blob",V="si08",oe="ui08",de="uic8",ie="si16",pe="si32",Se="ur16",ye="ui32",Ce="fl32",He="fl64",Be=G+J.length,Ge=Object.prototype.toString;function Ie(I){var D=I.length*.75,$=I.length,H,K=0,M,X,ne,ae;I[I.length-1]==="="&&(D--,I[I.length-2]==="="&&D--);var se=new ArrayBuffer(D),le=new Uint8Array(se);for(H=0;H<$;H+=4)M=Z.indexOf(I[H]),X=Z.indexOf(I[H+1]),ne=Z.indexOf(I[H+2]),ae=Z.indexOf(I[H+3]),le[K++]=M<<2|X>>4,le[K++]=(X&15)<<4|ne>>2,le[K++]=(ne&3)<<6|ae&63;return se}function Ke(I){var D=new Uint8Array(I),$="",H;for(H=0;H<D.length;H+=3)$+=Z[D[H]>>2],$+=Z[(D[H]&3)<<4|D[H+1]>>4],$+=Z[(D[H+1]&15)<<2|D[H+2]>>6],$+=Z[D[H+2]&63];return D.length%3===2?$=$.substring(0,$.length-1)+"=":D.length%3===1&&($=$.substring(0,$.length-2)+"=="),$}function ze(I,D){var $="";if(I&&($=Ge.call(I)),I&&($==="[object ArrayBuffer]"||I.buffer&&Ge.call(I.buffer)==="[object ArrayBuffer]")){var H,K=R;I instanceof ArrayBuffer?(H=I,K+=J):(H=I.buffer,$==="[object Int8Array]"?K+=V:$==="[object Uint8Array]"?K+=oe:$==="[object Uint8ClampedArray]"?K+=de:$==="[object Int16Array]"?K+=ie:$==="[object Uint16Array]"?K+=Se:$==="[object Int32Array]"?K+=pe:$==="[object Uint32Array]"?K+=ye:$==="[object Float32Array]"?K+=Ce:$==="[object Float64Array]"?K+=He:D(new Error("Failed to get type for BinaryArray"))),D(K+Ke(H))}else if($==="[object Blob]"){var M=new FileReader;M.onload=function(){var X=W+I.type+"~"+Ke(this.result);D(R+ee+X)},M.readAsArrayBuffer(I)}else try{D(JSON.stringify(I))}catch(X){console.error("Couldn't convert value into a JSON string: ",I),D(null,X)}}function De(I){if(I.substring(0,G)!==R)return JSON.parse(I);var D=I.substring(Be),$=I.substring(G,Be),H;if($===ee&&C.test(D)){var K=D.match(C);H=K[1],D=D.substring(K[0].length)}var M=Ie(D);switch($){case J:return M;case ee:return _([M],{type:H});case V:return new Int8Array(M);case oe:return new Uint8Array(M);case de:return new Uint8ClampedArray(M);case ie:return new Int16Array(M);case Se:return new Uint16Array(M);case pe:return new Int32Array(M);case ye:return new Uint32Array(M);case Ce:return new Float32Array(M);case He:return new Float64Array(M);default:throw new Error("Unkown type: "+$)}}var Ye={serialize:ze,deserialize:De,stringToBuffer:Ie,bufferToString:Ke};function We(I,D,$,H){I.executeSql("CREATE TABLE IF NOT EXISTS "+D.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],$,H)}function Qe(I){var D=this,$={db:null};if(I)for(var H in I)$[H]=typeof I[H]!="string"?I[H].toString():I[H];var K=new u(function(M,X){try{$.db=openDatabase($.name,String($.version),$.description,$.size)}catch(ne){return X(ne)}$.db.transaction(function(ne){We(ne,$,function(){D._dbInfo=$,M()},function(ae,se){X(se)})},X)});return $.serializer=Ye,K}function Me(I,D,$,H,K,M){I.executeSql($,H,K,function(X,ne){ne.code===ne.SYNTAX_ERR?X.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[D.storeName],function(ae,se){se.rows.length?M(ae,ne):We(ae,D,function(){ae.executeSql($,H,K,M)},M)},M):M(X,ne)},M)}function Ze(I,D){var $=this;I=v(I);var H=new u(function(K,M){$.ready().then(function(){var X=$._dbInfo;X.db.transaction(function(ne){Me(ne,X,"SELECT * FROM "+X.storeName+" WHERE key = ? LIMIT 1",[I],function(ae,se){var le=se.rows.length?se.rows.item(0).value:null;le&&(le=X.serializer.deserialize(le)),K(le)},function(ae,se){M(se)})})}).catch(M)});return p(H,D),H}function Ue(I,D){var $=this,H=new u(function(K,M){$.ready().then(function(){var X=$._dbInfo;X.db.transaction(function(ne){Me(ne,X,"SELECT * FROM "+X.storeName,[],function(ae,se){for(var le=se.rows,fe=le.length,ve=0;ve<fe;ve++){var ke=le.item(ve),we=ke.value;if(we&&(we=X.serializer.deserialize(we)),we=I(we,ke.key,ve+1),we!==void 0){K(we);return}}K()},function(ae,se){M(se)})})}).catch(M)});return p(H,D),H}function Ve(I,D,$,H){var K=this;I=v(I);var M=new u(function(X,ne){K.ready().then(function(){D===void 0&&(D=null);var ae=D,se=K._dbInfo;se.serializer.serialize(D,function(le,fe){fe?ne(fe):se.db.transaction(function(ve){Me(ve,se,"INSERT OR REPLACE INTO "+se.storeName+" (key, value) VALUES (?, ?)",[I,le],function(){X(ae)},function(ke,we){ne(we)})},function(ve){if(ve.code===ve.QUOTA_ERR){if(H>0){X(Ve.apply(K,[I,ae,$,H-1]));return}ne(ve)}})})}).catch(ne)});return p(M,$),M}function it(I,D,$){return Ve.apply(this,[I,D,$,1])}function lt(I,D){var $=this;I=v(I);var H=new u(function(K,M){$.ready().then(function(){var X=$._dbInfo;X.db.transaction(function(ne){Me(ne,X,"DELETE FROM "+X.storeName+" WHERE key = ?",[I],function(){K()},function(ae,se){M(se)})})}).catch(M)});return p(H,D),H}function ct(I){var D=this,$=new u(function(H,K){D.ready().then(function(){var M=D._dbInfo;M.db.transaction(function(X){Me(X,M,"DELETE FROM "+M.storeName,[],function(){H()},function(ne,ae){K(ae)})})}).catch(K)});return p($,I),$}function ut(I){var D=this,$=new u(function(H,K){D.ready().then(function(){var M=D._dbInfo;M.db.transaction(function(X){Me(X,M,"SELECT COUNT(key) as c FROM "+M.storeName,[],function(ne,ae){var se=ae.rows.item(0).c;H(se)},function(ne,ae){K(ae)})})}).catch(K)});return p($,I),$}function dt(I,D){var $=this,H=new u(function(K,M){$.ready().then(function(){var X=$._dbInfo;X.db.transaction(function(ne){Me(ne,X,"SELECT key FROM "+X.storeName+" WHERE id = ? LIMIT 1",[I+1],function(ae,se){var le=se.rows.length?se.rows.item(0).key:null;K(le)},function(ae,se){M(se)})})}).catch(M)});return p(H,D),H}function _t(I){var D=this,$=new u(function(H,K){D.ready().then(function(){var M=D._dbInfo;M.db.transaction(function(X){Me(X,M,"SELECT key FROM "+M.storeName,[],function(ne,ae){for(var se=[],le=0;le<ae.rows.length;le++)se.push(ae.rows.item(le).key);H(se)},function(ne,ae){K(ae)})})}).catch(K)});return p($,I),$}function ft(I){return new u(function(D,$){I.transaction(function(H){H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,M){for(var X=[],ne=0;ne<M.rows.length;ne++)X.push(M.rows.item(ne).name);D({db:I,storeNames:X})},function(K,M){$(M)})},function(H){$(H)})})}function pt(I,D){D=h.apply(this,arguments);var $=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||$.name,I.storeName=I.storeName||$.storeName);var H=this,K;return I.name?K=new u(function(M){var X;I.name===$.name?X=H._dbInfo.db:X=openDatabase(I.name,"","",0),I.storeName?M({db:X,storeNames:[I.storeName]}):M(ft(X))}).then(function(M){return new u(function(X,ne){M.db.transaction(function(ae){function se(ke){return new u(function(we,Re){ae.executeSql("DROP TABLE IF EXISTS "+ke,[],function(){we()},function(Ae,Pe){Re(Pe)})})}for(var le=[],fe=0,ve=M.storeNames.length;fe<ve;fe++)le.push(se(M.storeNames[fe]));u.all(le).then(function(){X()}).catch(function(ke){ne(ke)})},function(ae){ne(ae)})})}):K=u.reject("Invalid arguments"),p(K,D),K}var ht={_driver:"webSQLStorage",_initStorage:Qe,_support:b(),iterate:Ue,getItem:Ze,setItem:it,removeItem:lt,clear:ct,length:ut,key:dt,keys:_t,dropInstance:pt};function mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function rt(I,D){var $=I.name+"/";return I.storeName!==D.storeName&&($+=I.storeName+"/"),$}function gt(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function vt(){return!gt()||localStorage.length>0}function yt(I){var D=this,$={};if(I)for(var H in I)$[H]=I[H];return $.keyPrefix=rt(I,D._defaultConfig),vt()?(D._dbInfo=$,$.serializer=Ye,u.resolve()):u.reject()}function Et(I){var D=this,$=D.ready().then(function(){for(var H=D._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var M=localStorage.key(K);M.indexOf(H)===0&&localStorage.removeItem(M)}});return p($,I),$}function bt(I,D){var $=this;I=v(I);var H=$.ready().then(function(){var K=$._dbInfo,M=localStorage.getItem(K.keyPrefix+I);return M&&(M=K.serializer.deserialize(M)),M});return p(H,D),H}function kt(I,D){var $=this,H=$.ready().then(function(){for(var K=$._dbInfo,M=K.keyPrefix,X=M.length,ne=localStorage.length,ae=1,se=0;se<ne;se++){var le=localStorage.key(se);if(le.indexOf(M)===0){var fe=localStorage.getItem(le);if(fe&&(fe=K.serializer.deserialize(fe)),fe=I(fe,le.substring(X),ae++),fe!==void 0)return fe}}});return p(H,D),H}function St(I,D){var $=this,H=$.ready().then(function(){var K=$._dbInfo,M;try{M=localStorage.key(I)}catch{M=null}return M&&(M=M.substring(K.keyPrefix.length)),M});return p(H,D),H}function wt(I){var D=this,$=D.ready().then(function(){for(var H=D._dbInfo,K=localStorage.length,M=[],X=0;X<K;X++){var ne=localStorage.key(X);ne.indexOf(H.keyPrefix)===0&&M.push(ne.substring(H.keyPrefix.length))}return M});return p($,I),$}function It(I){var D=this,$=D.keys().then(function(H){return H.length});return p($,I),$}function Tt(I,D){var $=this;I=v(I);var H=$.ready().then(function(){var K=$._dbInfo;localStorage.removeItem(K.keyPrefix+I)});return p(H,D),H}function Ot(I,D,$){var H=this;I=v(I);var K=H.ready().then(function(){D===void 0&&(D=null);var M=D;return new u(function(X,ne){var ae=H._dbInfo;ae.serializer.serialize(D,function(se,le){if(le)ne(le);else try{localStorage.setItem(ae.keyPrefix+I,se),X(M)}catch(fe){(fe.name==="QuotaExceededError"||fe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ne(fe),ne(fe)}})})});return p(K,$),K}function At(I,D){if(D=h.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var $=this.config();I.name=I.name||$.name,I.storeName=I.storeName||$.storeName}var H=this,K;return I.name?K=new u(function(M){I.storeName?M(rt(I,H._defaultConfig)):M(I.name+"/")}).then(function(M){for(var X=localStorage.length-1;X>=0;X--){var ne=localStorage.key(X);ne.indexOf(M)===0&&localStorage.removeItem(ne)}}):K=u.reject("Invalid arguments"),p(K,D),K}var $t={_driver:"localStorageWrapper",_initStorage:yt,_support:mt(),iterate:kt,getItem:bt,setItem:Ot,removeItem:Tt,clear:Et,length:It,key:St,keys:wt,dropInstance:At},Rt=function(D,$){return D===$||typeof D=="number"&&typeof $=="number"&&isNaN(D)&&isNaN($)},Nt=function(D,$){for(var H=D.length,K=0;K<H;){if(Rt(D[K],$))return!0;K++}return!1},at=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},je={},ot={},Fe={INDEXEDDB:Le,WEBSQL:ht,LOCALSTORAGE:$t},Ct=[Fe.INDEXEDDB._driver,Fe.WEBSQL._driver,Fe.LOCALSTORAGE._driver],Xe=["dropInstance"],Je=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Xe),Lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Bt(I,D){I[D]=function(){var $=arguments;return I.ready().then(function(){return I[D].apply(I,$)})}}function et(){for(var I=1;I<arguments.length;I++){var D=arguments[I];if(D)for(var $ in D)D.hasOwnProperty($)&&(at(D[$])?arguments[0][$]=D[$].slice():arguments[0][$]=D[$])}return arguments[0]}var xt=function(){function I(D){l(this,I);for(var $ in Fe)if(Fe.hasOwnProperty($)){var H=Fe[$],K=H._driver;this[$]=K,je[K]||this.defineDriver(H)}this._defaultConfig=et({},Lt),this._config=et({},this._defaultConfig,D),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function($){if((typeof $>"u"?"undefined":o($))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var H in $){if(H==="storeName"&&($[H]=$[H].replace(/\W/g,"_")),H==="version"&&typeof $[H]!="number")return new Error("Database version must be a number.");this._config[H]=$[H]}return"driver"in $&&$.driver?this.setDriver(this._config.driver):!0}else return typeof $=="string"?this._config[$]:this._config},I.prototype.defineDriver=function($,H,K){var M=new u(function(X,ne){try{var ae=$._driver,se=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!$._driver){ne(se);return}for(var le=Je.concat("_initStorage"),fe=0,ve=le.length;fe<ve;fe++){var ke=le[fe],we=!Nt(Xe,ke);if((we||$[ke])&&typeof $[ke]!="function"){ne(se);return}}var Re=function(){for(var qe=function(Mt){return function(){var Ht=new Error("Method "+Mt+" is not implemented by the current driver"),st=u.reject(Ht);return p(st,arguments[arguments.length-1]),st}},tt=0,Dt=Xe.length;tt<Dt;tt++){var nt=Xe[tt];$[nt]||($[nt]=qe(nt))}};Re();var Ae=function(qe){je[ae]&&console.info("Redefining LocalForage driver: "+ae),je[ae]=$,ot[ae]=qe,X()};"_support"in $?$._support&&typeof $._support=="function"?$._support().then(Ae,ne):Ae(!!$._support):Ae(!0)}catch(Pe){ne(Pe)}});return f(M,H,K),M},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function($,H,K){var M=je[$]?u.resolve(je[$]):u.reject(new Error("Driver not found."));return f(M,H,K),M},I.prototype.getSerializer=function($){var H=u.resolve(Ye);return f(H,$),H},I.prototype.ready=function($){var H=this,K=H._driverSet.then(function(){return H._ready===null&&(H._ready=H._initDriver()),H._ready});return f(K,$,$),K},I.prototype.setDriver=function($,H,K){var M=this;at($)||($=[$]);var X=this._getSupportedDrivers($);function ne(){M._config.driver=M.driver()}function ae(fe){return M._extend(fe),ne(),M._ready=M._initStorage(M._config),M._ready}function se(fe){return function(){var ve=0;function ke(){for(;ve<fe.length;){var we=fe[ve];return ve++,M._dbInfo=null,M._ready=null,M.getDriver(we).then(ae).catch(ke)}ne();var Re=new Error("No available storage method found.");return M._driverSet=u.reject(Re),M._driverSet}return ke()}}var le=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=le.then(function(){var fe=X[0];return M._dbInfo=null,M._ready=null,M.getDriver(fe).then(function(ve){M._driver=ve._driver,ne(),M._wrapLibraryMethodsWithReady(),M._initDriver=se(X)})}).catch(function(){ne();var fe=new Error("No available storage method found.");return M._driverSet=u.reject(fe),M._driverSet}),f(this._driverSet,H,K),this._driverSet},I.prototype.supports=function($){return!!ot[$]},I.prototype._extend=function($){et(this,$)},I.prototype._getSupportedDrivers=function($){for(var H=[],K=0,M=$.length;K<M;K++){var X=$[K];this.supports(X)&&H.push(X)}return H},I.prototype._wrapLibraryMethodsWithReady=function(){for(var $=0,H=Je.length;$<H;$++)Bt(this,Je[$])},I.prototype.createInstance=function($){return new I($)},I}(),Pt=new xt;a.exports=Pt},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs(localforageExports),BaseDatabase=localforage.createInstance({name:"王者图鉴基础数据"}),VoiceDatabase=localforage.createInstance({name:"王者图鉴语音数据"}),useIndexedDB=()=>({...{BaseData:{getItem:r=>BaseDatabase.getItem(r),removeItem:r=>BaseDatabase.removeItem(r),setItem:(r,n)=>BaseDatabase.setItem(r,n)},VoiceData:{getItem:r=>VoiceDatabase.getItem(r),removeItem:r=>VoiceDatabase.removeItem(r),setItem:(r,n)=>VoiceDatabase.setItem(r,n)}}}),$bus=mitt(),AtlasStore=defineStore("atlas",()=>{const e=usePagingLoad(),{all_data:r,setFilterData:n,filter_list:a}=e,s={scroll:e.scroll,loading:e.loading,finish:e.finish,show_list:e.show_list,sort_type:ref("倒序"),profession:ref("全部"),gender_type:ref(0)},{sort_type:o,profession:l,gender_type:i}=s,c=()=>{e.setScroll(0);const _=()=>{if(l.value==="全部")n([...r.value]);else{const f=r.value.filter(v=>v.profession.includes(l.value));n(f)}},u=()=>{const f=[],v=[];a.value.forEach(h=>{h.gender==="男"?f.push(h):v.push(h)}),i.value===1?n(f):i.value===2&&n(v)},p=()=>{o.value==="倒序"&&e.reverseFilterData()};_(),u(),p(),e.resetPage(),$bus.emit("watch-waterfall")},d={setScroll:e.setScroll,loadMore:e.loadMore,async getAtlasList(){const _=await getHeroAtlas(),u=[];_.forEach(p=>{u.push({id:p.id,cover:p.cover,coverBlur:p.coverBlur,poster:p.poster,name:p.name,heroName:"",type:"HERO",profession:p.profession,gender:p.gender,posterBlur:p.posterBlur,posterBig:p.posterBig}),p.skins.forEach(f=>{u.push({id:f.id,cover:f.cover,coverBlur:f.posterBlur,name:f.name,heroName:p.name,type:"SKIN",profession:p.profession,gender:p.gender,poster:f.poster,posterBlur:f.posterBlur,posterBig:f.posterBig})})}),e.pushAllData(u),c()},setProfessional(_){l.value!==_&&(l.value=_,c())},filterGender(_){i.value!==_&&(i.value=_,c())},sortType(_){o.value!==_&&(o.value=_,c())},searchAtlas(_){o.value="倒序",l.value="全部",i.value=0;const{all_data:u,setFilterData:p}=e;if(_){const f=_search(_cloneDeep(u.value),_,["name","heroName"]);p(f),$bus.emit("watch-waterfall")}else c();e.resetPage()}};return{...s,...d}}),getPathsNames=e=>{const r=[],n=[],a=s=>{s.forEach(o=>{o.path&&r.push(o.path),o.name&&n.push(o.name),o.children&&a(o.children)})};return a(e),[r,n]},scriptRel="modulepreload",assetsURL=function(e,r){return new URL(e,r).href},seen={},__vitePreload=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");s=Promise.all(n.map(l=>{if(l=assetsURL(l,a),l in seen)return;seen[l]=!0;const i=l.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!a)for(let u=o.length-1;u>=0;u--){const p=o[u];if(p.href===l&&(!i||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const _=document.createElement("link");if(_.rel=i?"stylesheet":scriptRel,i||(_.as="script",_.crossOrigin=""),_.href=l,document.head.appendChild(_),i)return new Promise((u,p)=>{_.addEventListener("load",u),_.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>r()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},staticRouter=[{path:"/",redirect:"/login"},{path:"/login",name:"login",meta:{title:"登录",noVerify:!0,hidden:!0},component:()=>__vitePreload(()=>import("./wzry-index-yH3JBouv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)}],errorRouter=[{path:"/403",name:"403",component:()=>__vitePreload(()=>import("./wzry-NotPermissions-lEQQEYFL.js"),__vite__mapDeps([9,6,1,5,3,2,7,10]),import.meta.url),meta:{title:"403",noVerify:!0}},{path:"/404",name:"404",component:()=>__vitePreload(()=>import("./wzry-NotFound-Ii7_SEaT.js"),__vite__mapDeps([11,6,1,5,3,2,7,12]),import.meta.url),meta:{title:"404",noVerify:!0}},{path:"/400",name:"400",component:()=>__vitePreload(()=>import("./wzry-NotVersion-g5mdX5yS.js"),__vite__mapDeps([13,1,5,3,2,6,7,14]),import.meta.url),meta:{title:"400",noVerify:!0}}],static_paths=getPathsNames([...staticRouter,...errorRouter])[0],user=[{title:"英雄",icon:"wzry-yingxiong",path:"/hero",name:"hero",redirect:"",component:"@/layout",children:[{path:"",name:"heroChild",component:"@/views/Hero"}]},{title:"皮肤",icon:"wzry-pifu",path:"/skin",name:"skin",redirect:"",component:"@/layout",children:[{path:"",name:"skinChild",component:"@/views/Skin"}]},{title:"图集",icon:"wzry-atlas",path:"/savor",name:"savor",redirect:"",component:"@/layout",children:[{path:"",name:"savorChild",component:"@/views/Savor"}]},{title:"装备",icon:"wzry-zhuangbei",path:"/equip",name:"equip",redirect:"",component:"@/layout",children:[{path:"",name:"equipChild",component:"@/views/Equip"}]},{title:"铭文",icon:"wzry-mingwen",path:"/epigraph",name:"epigraph",redirect:"",component:"@/layout",children:[{path:"",name:"epigraphChild",component:"@/views/Epigraph"}]},{title:"背包",icon:"wzry-knapsack",path:"/knapsack",name:"knapsack",redirect:"",component:"@/layout",children:[{path:"",name:"knapsackChild",component:"@/views/Knapsack"}]},{title:"乂宝",icon:"wzry-yibao",path:"/yibao",name:"yibao",redirect:"",component:"@/layout",children:[{path:"",name:"yibaoChild",component:"@/views/Yibao"}]},{title:"夺宝",icon:"wzry-baoxiang",path:"/lottery",name:"lottery",redirect:"/lottery/hero",component:"@/layout",children:[{title:"英雄夺宝",icon:"wzry-yingxiong",path:"/lottery/hero",name:"heroLottery",component:"@/views/Lottery/Hero"},{title:"皮肤夺宝",icon:"wzry-pifu",path:"/lottery/skin",name:"skinLottery",component:"@/views/Lottery/Skin"}]},{title:"商城",icon:"wzry-shop",path:"/shop",name:"shop",redirect:"/shop/debris",component:"@/layout",children:[{title:"道具商店",icon:"wzry-prop",path:"/shop/prop",name:"prop",component:"@/views/Shop/Prop"},{title:"碎片商店",icon:"wzry-debris",path:"/shop/debris",name:"debris",redirect:"/shop/debris/hero",children:[{title:"英雄",icon:"wzry-yingxiong",path:"/shop/debris/hero",name:"heroDebris",component:"@/views/Shop/Debris/Hero"},{title:"皮肤",icon:"wzry-pifu",path:"/shop/debris/skin",name:"skinDebris",component:"@/views/Shop/Debris/Skin"}]},{title:"水晶商店",icon:"wzry-crystal",path:"/shop/crystal",name:"crystal",redirect:"/shop/crystal/king",children:[{title:"王者水晶",icon:"wzry-king",path:"/shop/crystal/king",name:"kingCrystal",component:"@/views/Shop/Crystal/King"},{title:"荣耀水晶",icon:"wzry-honor",path:"/shop/crystal/honor",name:"honorCrystal",component:"@/views/Shop/Crystal/Honor"}]}]}],admin=[...user,{title:"系统管理",path:"/system",name:"system",redirect:"/system/data",component:"@/layout",icon:"wzry-xitongguanli",children:[{title:"本地数据管理",icon:"wzry-database",path:"/system/data",name:"data",component:"@/views/System/views/Data"}]}],dynamic_paths=getPathsNames(admin)[0],isExist=e=>[...static_paths,...dynamic_paths].some(r=>r.includes(e));let loadingCount=0,closeTimer,openTimer;const show$b=e=>{openTimer=setTimeout(()=>{closeTimer&&clearTimeout(closeTimer),loadingCount===0&&$bus.emit("loading",{show:!0,text:e}),loadingCount++},250)},close=()=>new Promise(e=>{clearTimeout(openTimer),loadingCount>0&&loadingCount--,loadingCount===0&&(closeTimer=setTimeout(()=>{$bus.emit("loading",{show:!1}),closeTimer=void 0,e()},500))}),$loading={show:show$b,close},ExposeData$g={browser_name:_browserV.browser,browser_version:_browserV.version,browser_status:!1,vertical:ref(!1),width:ref(0),height:ref(0)},{vertical,width,height:height$1,browser_name,browser_version}=ExposeData$g;ExposeData$g.browser_status=["chrome","firefox"].includes(browser_name)?browser_version>=90:browser_version>=15;const tip$1=()=>{vertical.value=window.innerWidth<window.innerHeight,width.value=window.innerWidth,height$1.value=window.innerHeight};tip$1();window.addEventListener("resize",tip$1);const useDevice=()=>({...ExposeData$g}),router=createRouter({history:createWebHashHistory(),routes:[...staticRouter,...errorRouter]});let need_load=!0,refresh_path="";router.beforeEach(async(e,r,n)=>{const{browser_status:a}=useDevice();if(!a&&e.path!=="/400"){n("/400");return}if(!isExist(e.path)){n({path:"/404",replace:!0});return}if(e.matched.length===0){n("/403");return}if(r.path==="/login"&&need_load){need_load=!1,refresh_path&&!["/login","/400","/403","/404"].includes(refresh_path)?n(refresh_path):n(ROUTE_PATH.HERO);return}if(e.path!=="/login"&&need_load){refresh_path=e.path,n("/login");return}e.path!==r.path&&$loading.show(`正在加载${e.meta.title}页`),n()});router.afterEach(e=>{$loading.close(),document.title=`${e.meta.title||"正在进入"}-王者图鉴`});const setupRouter=e=>{e.use(router)},routePath={"@/layout":()=>__vitePreload(()=>import("./wzry-index-g7NPOID5.js"),__vite__mapDeps([15,1,6,16,17,18,19,20,3,2,4,5,7,21]),import.meta.url),"@/views/Hero":()=>__vitePreload(()=>import("./wzry-index-366x12Om.js"),__vite__mapDeps([22,1,6,23,24,25,26,27,5,3,2,7,28]),import.meta.url),"@/views/Skin":()=>__vitePreload(()=>import("./wzry-index-KFeCClmk.js"),__vite__mapDeps([29,1,6,24,20,25,26,27,5,3,2,7,30]),import.meta.url),"@/views/Savor":()=>__vitePreload(()=>import("./wzry-index-mEEfid9q.js"),__vite__mapDeps([31,1,6,24,20,25,5,3,2,7,32,27]),import.meta.url),"@/views/Equip":()=>__vitePreload(()=>import("./wzry-index-63desfVj.js"),__vite__mapDeps([33,6,1,25,5,3,2,7,34]),import.meta.url),"@/views/Epigraph":()=>__vitePreload(()=>import("./wzry-index-0dNDDX0p.js"),__vite__mapDeps([35,1,26,27,6,17,5,3,2,7,36]),import.meta.url),"@/views/Knapsack":()=>__vitePreload(()=>import("./wzry-index-d_XxFfet.js"),__vite__mapDeps([37,1,6,18,3,2,5,7,38]),import.meta.url),"@/views/Yibao":()=>__vitePreload(()=>import("./wzry-index-pAc89EA2.js"),__vite__mapDeps([39,1,6,16,17,5,3,2,7,40]),import.meta.url),"@/views/Lottery/Hero":()=>__vitePreload(()=>import("./wzry-index-ahFaAktE.js"),__vite__mapDeps([41,1,42,6,19,43,5,3,2,7,44]),import.meta.url),"@/views/Lottery/Skin":()=>__vitePreload(()=>import("./wzry-index-9f0UBBIb.js"),__vite__mapDeps([45,1,42,6,19,43,5,3,2,7,46]),import.meta.url),"@/views/Shop/Crystal/King":()=>__vitePreload(()=>import("./wzry-index-XfltiZH3.js"),__vite__mapDeps([47,1,6,24,25,26,27,5,3,2,7,48]),import.meta.url),"@/views/Shop/Crystal/Honor":()=>__vitePreload(()=>import("./wzry-index-HDbsKn2H.js"),__vite__mapDeps([49,1,6,26,27,5,3,2,7,50]),import.meta.url),"@/views/Shop/Debris/Hero":()=>__vitePreload(()=>import("./wzry-index-LfaBoe06.js"),__vite__mapDeps([51,1,6,23,24,25,26,27,5,3,2,7,52]),import.meta.url),"@/views/Shop/Debris/Skin":()=>__vitePreload(()=>import("./wzry-index-uDvzQKiY.js"),__vite__mapDeps([53,1,6,24,25,26,27,5,3,2,7,54]),import.meta.url),"@/views/Shop/Prop":()=>__vitePreload(()=>import("./wzry-index-04PBVTcT.js"),__vite__mapDeps([55,1,26,27,5,3,2,6,7,56]),import.meta.url)},sheelToRoute=(e,r)=>{e.forEach((n,a)=>{var s;r[a]={};for(const[o,l]of Object.entries(n))if(["title","icon"].includes(o))Object.assign((s=r[a]).meta??(s.meta={}),{[o]:l});else if(o==="component")r[a][o]=routePath[l];else if(o==="children")r[a][o]=[],sheelToRoute(l,r[a][o]);else{const i=r[a];i[o]=l}})},RouterStore=defineStore("route",()=>{const e={routes:ref([]),routeNames:ref([])},{routes:r,routeNames:n}=e;return{...e,...{addRoutes(s=1){if(r.value.length)return;const o=[],l=s===0?admin:user;n.value=l.map(i=>i.name),sheelToRoute(l,o),o.forEach(i=>{router.addRoute(i),r.value.push(i)})},removeRoutes(){n.value.forEach(s=>{router.removeRoute(s)}),r.value=[]}}}}),taskSort=e=>{e.sort((r,n)=>r.receive!==n.receive?r.receive?1:-1:r.receive&&n.receive?_accumulate(r.schedule,"value")===_accumulate(r.schedule,"total")?-1:_accumulate(n.schedule,"value")===_accumulate(n.schedule,"total")?1:0:!r.receive&&!n.receive?_accumulate(r.schedule,"value")<_accumulate(r.schedule,"total")&&_accumulate(n.schedule,"value")<_accumulate(n.schedule,"total")?0:_accumulate(r.schedule,"value")>=_accumulate(r.schedule,"total")&&_accumulate(n.schedule,"value")<_accumulate(n.schedule,"total")?-1:_accumulate(r.schedule,"value")<_accumulate(r.schedule,"total")&&_accumulate(n.schedule,"value")>=_accumulate(n.schedule,"total")?1:_accumulate(r.schedule,"value")-_accumulate(n.schedule,"value"):0)},BASE_CONFIG={HOME_URL:"/hero",OVERDUE_DATA_TIME:259200,IMGBED:"https://lengyibai.github.io/wzry-material"},_getAudioLink=e=>useGetZip().audio_links.value[e],_getMusicLink=e=>`${BASE_CONFIG.IMGBED}/music/${e}.mp3`,_getVideoLink=(e,r="0")=>{const a=useGetZip().video_home_links.value[e];return a||`${BASE_CONFIG.IMGBED}/video/${e}.mp4?temp=${r}`},_getHtmlLink=e=>`${BASE_CONFIG.IMGBED}/html/${e}.html?t=${dayjs().unix()}`,_getImgLink=(e,r="0",n="png")=>`${BASE_CONFIG.IMGBED}/image/${e}.${n}?temp=${r}`,_getActivityBannerLink=e=>useGetZip().image_activity_banner_links.value[e],_getBlurImgLink=e=>{const r=e.replace(/\/(heros|epigraphs)\//,"").replace(/\.(png|jpg)$/i,"");return useGetZip().image_blur_links.value[r]},_getHeroAvatarLink=e=>useGetZip().image_hero_avatar_links.value[e],_getMinecraftLink=e=>useGetZip().image_minecraft_links.value[e],_getMiniHeroLink=e=>useGetZip().image_mini_hero_links.value[e],_getMiscLink=e=>useGetZip().image_misc_links.value[e],_getPropLink=e=>useGetZip().image_props_links.value[e],TaskStore=defineStore("task",()=>{const e=AuthStore(),r={task_list:ref(TASK_LIST()),task_status:ref(userInfoDefault().taskStatus)},{task_list:n,task_status:a}=r,s={today_task_list:computed(()=>{const i=n.value.filter(c=>c.type==="DAILY");return taskSort(i),i}),week_task_list:computed(()=>{const i=n.value.filter(c=>c.type==="WEEKLY");return taskSort(i),i}),exist_receive:computed(()=>n.value.some(i=>{const c=_accumulate(i.schedule,"total"),d=_accumulate(i.schedule,"value");return(d===0?0:_decimal([d,c,100],["/","*"],0))>=100&&!i.receive}))},o=()=>{const i=n.value.filter(c=>c.receive).map(c=>c.id);e.updateUserData({taskFinish:i,taskStatus:a.value})};return{...r,...s,...{useUserTask(i,c){n.value.forEach(d=>{i.includes(d.id)&&(d.receive=!0,d.schedule.forEach(_=>{_.value=_.total}))});for(const d in c){const _=d;this.setTaskStatus(_,c[_],!0)}},setTaskStatus(i,c,d=!1){d?a.value[i]=c:a.value[i]+=c,n.value.forEach(_=>{const u=p=>{const{taskId:f,data:v,once:h}=p;_.id===f&&v.forEach(m=>{if(i===m.key){const g=_.schedule.findIndex(T=>T.label===m.label),E=_.schedule[g].total;let k=_.schedule[g].value;d?_.schedule[g].value=c>E?E:c:k<E&&(h?_.schedule[g].value=1:(k+=c,_.schedule[g].value=k>E?E:k))}})};u({once:!1,taskId:"de89",data:[{key:"today_online_duration",label:"今日已在线"}]}),u({once:!0,taskId:"qw27",data:[{key:"today_gold_consume",label:"今日已消费金币"},{key:"today_diamond_consume",label:"今日已消费钻石"}]}),u({once:!0,taskId:"mx25",data:[{key:"today_hero_lottery",label:"今日英雄夺宝"},{key:"today_skin_lottery",label:"今日皮肤夺宝"}]}),u({once:!0,taskId:"r88v",data:[{key:"today_double_gold_card",label:"今日已使用双倍金币卡"},{key:"today_double_exp_card",label:"今日已使用双倍经验卡"}]}),u({once:!0,taskId:"sp37",data:[{key:"today_hero_supply",label:"今日英雄夺宝补给领取"},{key:"today_skin_supply",label:"今日皮肤夺宝补给领取"}]}),u({once:!1,taskId:"d1b7",data:[{key:"today_hero_coin",label:"今日已消耗夺宝币"},{key:"today_hero_stone",label:"今日已消耗夺宝石"}]}),u({once:!1,taskId:"q35i",data:[{key:"today_skin_coin",label:"今日已消耗夺宝币"},{key:"today_skin_stone",label:"今日已消耗夺宝石"}]}),u({once:!1,taskId:"o1u8",data:[{key:"today_hero_supply",label:"今日已获取夺宝石"}]}),u({once:!1,taskId:"vk13",data:[{key:"today_skin_supply",label:"今日已获取夺宝石"}]}),u({once:!1,taskId:"q20y",data:[{key:"week_online_duration",label:"本周已在线"}]}),u({once:!1,taskId:"a21l",data:[{key:"week_login_day",label:"本周已登录"}]}),u({once:!0,taskId:"a6b9",data:[{key:"week_hero_stone_card",label:"本周英雄夺宝石周卡"},{key:"week_skin_stone_card",label:"本周皮肤夺宝石周卡"}]}),u({once:!1,taskId:"pc22",data:[{key:"week_zero_supply",label:"本周用完某日英雄或皮肤夺宝石补给站额度"}]}),u({once:!1,taskId:"om70",data:[{key:"week_hero_coin",label:"本周消耗英雄夺宝币"},{key:"week_skin_coin",label:"本周消耗皮肤夺宝币"}]})}),o()},receiveTaskReward(i){const c=n.value.findIndex(_=>_.id===i);n.value[c].receive=!0;const d=n.value[c].props.map(({num:_,key:u})=>({num:_,name:NAME[u],key:u,icon:_getPropLink(ICON[u])}));$obtain(d),o()},resetDayWeekTask(i){if(i==="DAY"){const c={};TASK_LIST().forEach(_=>{c[_.id]=_});for(let _=0;_<n.value.length;_++){const u=n.value[_];u.type==="DAILY"&&(n.value[_]=c[u.id])}const d={};for(const _ in userInfoDefault().taskStatus)_.includes("today")&&(d[_]=userInfoDefault().taskStatus[_]);a.value={...a.value,...d}}else this.resetTask();o()},resetTask(){n.value=TASK_LIST(),a.value=userInfoDefault().taskStatus}}}}),LotteryStore=defineStore("lottery",()=>{const e=AuthStore(),r=TaskStore(),{addStatusMarkerNum:n}=useSetMarker(),a={hero_lucky:ref(0),skin_lucky:ref(0)},{hero_lucky:s,skin_lucky:o}=a;return{...a,...{useUserLottery(i){s.value=i.heroLucky,o.value=i.skinLucky},setLuckValue(i){i==="HERO"&&(s.value+=1,n("HERO_LOTTERY_COUNT"),r.setTaskStatus("today_hero_lottery",1)),i==="SKIN"&&(o.value+=1,n("SKIN_LOTTERY_COUNT"),r.setTaskStatus("today_skin_lottery",1))},resetHeroLuck(){s.value=0},resetSkinLuck(){o.value=0},saveGameData(){e.updateUserData({lottery:{heroLucky:s.value,skinLucky:o.value}})},resetStatus(){s.value=0,o.value=0}}}});let volume=.5,status$1=!0;const sound_type={gz76:"atlas",bq69:"activity",kj62:"btn",p60v:"back",cy87:"cancel",ba09:"close",e6b4:"confirm_dialog",pj83:"confirm",h2w0:"default",kh79:"delete",u4c5:"detail",h7t9:"epigraph",ph23:"equip",vw31:"error",d5e2:"fold",iv51:"hero",p53r:"into",al41:"key",e84n:"login",n74s:"message",le78:"mode",za86:"num",v6p0:"show",gz43:"skin",n4r4:"tab",rt25:"tip",p6q3:"warning",o7r6:"raffle",jo36:"raffle_obtain",fz02:"knapsack",h3w0:"store",bg51:"receipt",o3l2:"shop",wm14:"activate",jy55:"yibao",hy43:"back_small",pk92:"tv"},play=e=>{const r=new Audio;r.src=_getAudioLink(sound_type[e]),r.volume=volume,r.play().catch(()=>{})},debouncePlayAudio=_debounce(e=>{play(e)},50),usePlayAudio=()=>({...{playAudio(r="h2w0"){status$1&&(["fz02","n4r4","n74s","p6q3","vw31","za86"].includes(r)?debouncePlayAudio(r):play(r))},setAudioVolume(r){volume=r/100*.75},setAudioSwitch(r){status$1=r}}}),SupplyStore=defineStore("supply",()=>{const e=AuthStore(),r=TaskStore(),{playAudio:n}=usePlayAudio();let a,s;const o={hero_supply_remain_num:ref(0),skin_supply_remain_num:ref(0),hero_seconds:ref(0),skin_seconds:ref(0),hero_start_time:ref(0),skin_start_time:ref(0),hero_supply_status:ref("IDLE"),skin_supply_status:ref("IDLE"),hero_countdown:ref(["0","0","0","0","0","0"]),skin_countdown:ref(["0","0","0","0","0","0"]),hero_mode:ref(),skin_mode:ref()},{hero_supply_remain_num:l,skin_supply_remain_num:i,hero_mode:c,skin_mode:d,hero_start_time:_,skin_start_time:u,hero_supply_status:p,skin_supply_status:f,hero_seconds:v,skin_seconds:h,hero_countdown:m,skin_countdown:g}=o,E=(w,O)=>{const L=dayjs().unix()-w,B=O.seconds-L;return B>=0?B:0},k=()=>{e.updateUserData({supply:{hero:{supply_remain_num:l.value,status:p.value,mode:c.value,startTime:_.value},skin:{supply_remain_num:i.value,status:f.value,mode:d.value,startTime:u.value}}})};return{...o,...{useUserSupply(w){const O=A=>{const L=w[A.toLowerCase()],B=A==="HERO"?l:i,U=A==="HERO"?c:d,j=A==="HERO"?_:u,N=A==="HERO"?p:f,F=A==="HERO"?v:h;B.value=L.supply_remain_num,U.value=L.mode,j.value=L.startTime,N.value=L.status,F.value=E(j.value,U.value),["RUNNING","RECEIVE"].includes(L.status)&&this.enableCountdown(A)};O("HERO"),O("SKIN"),window.addEventListener("visibilitychange",()=>{document.visibilityState=="visible"?(v.value=E(_.value,c.value),h.value=E(u.value,d.value),this.enableCountdown("HERO"),this.enableCountdown("SKIN")):(clearInterval(a),clearInterval(s))})},sign(){l.value=200,i.value=200},setSupplyRemainNum(w,O){const A=w==="HERO"?l:i;A.value-=O,A.value===0&&r.setTaskStatus("week_zero_supply",1),k()},setSupplyStatus(w,O){const A=w==="HERO"?p:f;A.value=O,k()},setTimeMode(w,O){const A=w==="HERO"?p:f,L=w==="HERO"?c:d;A.value="READY",L.value=LOTTERY_SUPPLY_MODE[O],k()},startCountdown(w){const O=w==="HERO"?l.value:i.value,A=w==="HERO"?c:d,L=w==="HERO"?p:f,B=w==="HERO"?_:u,U=w==="HERO"?v:h,j=w==="HERO"?a:s;if(O<=0){$message($msgTipText("xv24",{v:"补给额度"}),"error");return}if(O<A.value.count){$confirm({text:$confirmText("ob55",{v:O}),confirm(){const N=LOTTERY_SUPPLY_MODE.findLast(F=>F.count<=O);A.value=N,L.value="READY"}});return}clearInterval(j),B.value=dayjs().unix(),L.value="RUNNING",U.value=A.value.seconds,this.enableCountdown(w)},enableCountdown(w){const O=w==="HERO"?p:f,A=w==="HERO"?v:h,L=w==="HERO"?m:g;if(["RUNNING","RECEIVE"].includes(O.value)){const B=setInterval(()=>{L.value=_formatSeconds(A.value),A.value===0?(clearInterval(B),O.value="RECEIVE",n("bg51")):A.value--,k()},1e3);w==="HERO"?a=B:s=B}},stopCountdown(w){const O=w==="HERO"?p:f,A=w==="HERO"?v:h,L=w==="HERO"?m:g,B=w==="HERO"?c:d;clearInterval(w==="HERO"?a:s);const j=LOTTERY_SUPPLY_MODE.filter(N=>N.seconds<=B.value.seconds-A.value);A.value=0,L.value=["0","0","0","0","0","0"],j.length?(B.value=j[j.length-1],O.value="RECEIVE"):(O.value="IDLE",$message(MESSAGE_TIP.nw29,"warning"))},interruptCountdown(){clearInterval(a),clearInterval(s)}}}}),HeroDebrisStore=defineStore("heroDebris",()=>{const e=KnapsackStore(),r=usePagingLoad(),n={finish:r.finish,loading:r.loading,scroll:r.scroll,show_list:r.show_list,profession:ref("全部"),price_type:ref("全部价格"),gender_type:ref(0)},{profession:a,price_type:s,gender_type:o}=n,l=()=>{r.setScroll(0);const c=()=>{if(a.value==="全部")r.setFilterData([...r.all_data.value]);else{const u=r.all_data.value.filter(p=>p.profession.includes(a.value));r.setFilterData(u)}},d=()=>{const u=[],p=[];r.filter_list.value.forEach(f=>{f.gender==="男"?u.push(f):p.push(f)}),o.value===1?r.setFilterData(u):o.value===2&&r.setFilterData(p)},_=()=>{if(s.value==="全部价格")return;const u={由低到高:p=>p.sort((f,v)=>Number(f.price)-Number(v.price)),由高到低:p=>p.sort((f,v)=>Number(v.price)-Number(f.price))};r.setFilterData(u[s.value](r.filter_list.value))};c(),d(),r.reverseFilterData(),_(),r.resetPage()},i={setScroll:r.setScroll,loadMore:r.loadMore,async getHeroList(){const d=(await getHeroDataList()).filter(_=>_.price&&!e.hero_list[_.id]);r.pushAllData(d),l()},setProfessional(c){a.value!==c&&(a.value=c,l())},filterGender(c){o.value!==c&&(o.value=c,l())},sortPrice(c){s.value!==c&&(s.value=c,l())},searchHero(c){if(a.value="全部",o.value=0,c){const d=_search(_cloneDeep(r.all_data.value),c,"name",!0);r.setFilterData(d)}else l();r.resetPage()}};return{...n,...i}}),SkinDebrisStore=defineStore("skinDebris",()=>{const e=KnapsackStore(),r=usePagingLoad(),n={all_data:r.all_data,loading:r.loading,scroll:r.scroll,finish:r.finish,filter_list:r.filter_list,show_list:r.show_list,profession:ref("全部"),price_type:ref("全部价格"),skin_type:ref("全部类型"),same_name:ref("全部同名"),gender_type:ref(0),same_name_list:ref([]),skin_type_list:ref([])},{all_data:a,filter_list:s,gender_type:o,profession:l,price_type:i,skin_type:c,same_name:d,same_name_list:_,skin_type_list:u}=n,p=m=>{const g={};m.forEach(E=>{var k;g[k=E.name]??(g[k]=0),g[E.name]++});for(const E in g)g[E]<3&&delete g[E];_.value=Object.keys(g),_.value.unshift("全部同名")},f=m=>{u.value=[...new Set(m.map(g=>g.alias))],_typeSort(u.value,"label"),u.value.unshift("全部类型")},v=()=>{r.setScroll(0);const m=()=>{if(l.value==="全部")r.setFilterData([...a.value]);else{const w=a.value.filter(O=>O.profession.includes(l.value));r.setFilterData([...w])}},g=()=>{const w=[],O=[];s.value.forEach(A=>{A.gender==="男"?w.push(A):O.push(A)}),o.value===1?r.setFilterData(w):o.value===2&&r.setFilterData(O)},E=()=>{if(c.value==="全部类型")return;const w=s.value.filter(O=>O.alias===c.value);r.setFilterData(w)},k=()=>{if(d.value==="全部同名")return;const w=s.value.filter(O=>O.name===d.value);r.setFilterData(w)},T=()=>{if(i.value==="全部价格")return;const w={由低到高:O=>O.sort((A,L)=>Number(A.debris)-Number(L.debris)),由高到低:O=>O.sort((A,L)=>Number(L.debris)-Number(A.debris))};r.setFilterData(w[i.value](s.value))};m(),g(),E(),k(),r.reverseFilterData(),T(),h.resetPage()},h={setScroll:r.setScroll,resetPage:r.resetPage,loadMore:r.loadMore,async getSkin(){const m=(await getSkinList()).filter(g=>g.debris&&Number(g.debris)>6&&![0,5,65].includes(g.type)&&!e.skin_list.includes(g.id));r.pushAllData(m),v(),p(m),f(m)},setProfessional(m){l.value!==m&&(l.value=m,v())},filterGender(m){o.value!==m&&(o.value=m,v())},filterSkinType(m){c.value!==m&&(c.value=m,d.value="全部同名",v())},filterSameName(m){d.value!==m&&(d.value=m,c.value="全部类型",i.value="全部价格",v())},sortPrice(m){i.value!==m&&(i.value=m,d.value="全部同名",v())},searchSkin(m){if(l.value="全部",i.value="全部价格",c.value="全部类型",d.value="全部同名",o.value=0,m){const g=_search(_cloneDeep(r.all_data.value),m,["name","heroName","category"],!0);r.setFilterData(g)}else v();h.resetPage()}};return{...n,...h}}),KingCrystalStore=defineStore("kingCrystal",()=>{const e=KnapsackStore(),r=usePagingLoad(),n={loading:r.loading,scroll:r.scroll,finish:r.finish,filter_list:r.filter_list,show_list:r.show_list,profession:ref("全部"),skin_type:ref("全部类型"),gender_type:ref(0),skin_type_list:ref([])},{filter_list:a,gender_type:s,profession:o,skin_type:l,skin_type_list:i}=n,c=u=>{i.value=[...new Set(u.map(p=>p.alias))],_typeSort(i.value,"label"),i.value.unshift("全部类型")},d=()=>{r.setScroll(0);const u=()=>{const{all_data:v}=r;if(o.value==="全部")r.setFilterData([...v.value]);else{const h=v.value.filter(m=>m.profession.includes(o.value));r.setFilterData([...h])}},p=()=>{const v=[],h=[];a.value.forEach(m=>{m.gender==="男"?v.push(m):h.push(m)}),s.value===1?r.setFilterData(v):s.value===2&&r.setFilterData(h)},f=()=>{if(l.value==="全部类型")return;const v=a.value.filter(h=>h.alias===l.value);r.setFilterData(v)};u(),p(),f(),r.reverseFilterData(),_.resetPage()},_={setScroll:r.setScroll,resetPage:r.resetPage,loadMore:r.loadMore,async getSkin(){const u=(await getSkinList()).filter(p=>([18,23,36,53,76,89,99,119,14,39,46,48,52,54,56,57,58,59,60,61,62,63,66,70,73,77,79,82,84,86,90,98,104,109,114,118,124,75,91,105,125,50,65,100,16,106,127].includes(p.type)||p.alias==="其他限定"&&!p.debris)&&!e.skin_list.includes(p.id));r.all_data.value=u,d(),c(u)},setProfessional(u){o.value!==u&&(o.value=u,d())},filterGender(u){s.value!==u&&(s.value=u,d())},filterSkinType(u){l.value!==u&&(l.value=u,d())},searchSkin(u){if(o.value="全部",l.value="全部类型",s.value=0,u){const p=_search(_cloneDeep(r.all_data.value),u,["name","heroName","category"],!0);r.setFilterData(p)}else d();_.resetPage()}};return{...n,..._}}),HeroStore=defineStore("hero",()=>{const e=KnapsackStore(),r=usePagingLoad(),n={finish:r.finish,loading:r.loading,scroll:r.scroll,filter_list:r.filter_list,all_data:r.all_data,show_list:r.show_list,profession:ref(),attr_type:ref("全部属性"),camp_type:ref("全部阵营"),misc_sort:ref("全部排序"),misc_type:ref("全部筛选"),have_type:ref("全部英雄"),exp_type:ref("全部熟练度"),sort_type:ref("倒序"),gender_type:ref(0)},{filter_list:a,all_data:s,profession:o,attr_type:l,camp_type:i,gender_type:c,misc_sort:d,misc_type:_,sort_type:u,have_type:p,exp_type:f}=n,v=()=>{r.setScroll(0);const m=()=>{if(o.value==="全部")r.setFilterData([...s.value]);else{const U=s.value.filter(j=>j.profession.includes(o.value));r.setFilterData(U)}},g=()=>{const U=[],j=[];a.value.forEach(N=>{N.gender==="男"?U.push(N):j.push(N)}),c.value===1?r.setFilterData(U):c.value===2&&r.setFilterData(j)},E=()=>{if(i.value==="全部阵营")return;const U=a.value.filter(j=>j.camp===i.value);r.setFilterData(U)},k=()=>{if(l.value==="全部属性")return;if([{label:"免控",value:["霸体","净化","解控"]},{label:"回血",value:["回复","治疗"]},{label:"真伤",value:["真伤"]}].forEach(j=>{if(l.value===j.label){const N=a.value.filter(F=>F.skills.some(S=>S.some(q=>q.type.some(ue=>j.value.includes(ue)))));r.setFilterData(N)}}),l.value==="非硬控"){const j=a.value.filter(N=>!N.skills.some(F=>F.some(S=>S.type.some(q=>["控制","束缚","压制","牵引","限制"].includes(q)))));r.setFilterData(j)}},T=()=>{if(_.value==="全部筛选")return;const U={团控:N=>N.specialty.includes("团控"),无蓝条:N=>N.skillUnit!=="法力",非人类:N=>N.race!=="人类",多套技能:N=>N.skills.length>1},j=a.value.filter(U[_.value]);r.setFilterData(j)},w=()=>{if(d.value==="全部排序")return;const U={身高:(j,N)=>j.height-N.height,上手难度:(j,N)=>j.difficulty-N.difficulty,皮肤数量:(j,N)=>N.skinCount-j.skinCount,关系数量:(j,N)=>N.relationCount-j.relationCount};a.value.sort(U[d.value])},O=()=>{let U=[];p.value!=="全部英雄"&&(p.value==="未拥有"&&(U=a.value.filter(j=>!e.hero_list[j.id])),p.value==="已拥有"&&(U=a.value.filter(j=>e.hero_list[j.id])),r.setFilterData(U))},A=()=>{a.value.sort((U,j)=>{var S,q;const N=((S=e.hero_list[U.id])==null?void 0:S.exp)||0,F=((q=e.hero_list[j.id])==null?void 0:q.exp)||0;return f.value==="由低到高"?N-F:f.value==="由高到低"?F-N:0})},L=()=>{u.value==="倒序"&&r.reverseFilterData()},B=()=>{a.value.sort((U,j)=>e.hero_list[U.id]?-1:e.hero_list[j.id]?1:0)};m(),g(),E(),k(),T(),w(),O(),A(),L(),B(),h.resetPage()},h={setScroll:r.setScroll,loadMore:r.loadMore,resetPage:r.resetPage,sortAll:v,async getHeroList(){s.value=await getHeroDataList(),this.setProfessional("全部")},setProfessional(m){o.value!==m&&(o.value=m,v())},filterAttr(m){l.value!==m&&(l.value=m,v())},filterCamp(m){i.value!==m&&(i.value=m,v())},filterGender(m){c.value!==m&&(c.value=m,v())},filterMisc(m){_.value!==m&&(_.value=m,v())},sortMisc(m){d.value!==m&&(d.value=m,v())},expType(m){f.value!==m&&(f.value=m,v())},haveType(m){p.value!==m&&(p.value=m,v())},sortType(m){u.value!==m&&(u.value=m,v())},searchHero(m){if(o.value="全部",l.value="全部属性",i.value="全部阵营",d.value="全部排序",_.value="全部筛选",p.value="全部英雄",u.value="倒序",c.value=0,m){const g=_search(_cloneDeep(s.value),m,"name",!0);r.setFilterData(g)}else v();h.resetPage()}};return{...n,...h}}),KnapsackStore=defineStore("knapsack",()=>{const e=AuthStore(),r=HeroStore(),n=HeroDebrisStore(),a=SkinDebrisStore(),s=KingCrystalStore(),o=TaskStore(),{addPropMarkerNum:l}=useSetMarker(),i={articles:ref(userInfoDefault().knapsack.articles),hero_list:ref({}),skin_list:ref([1091,1092,1093,1094,1095,1096,1097,1098,1099])},{articles:c,hero_list:d,skin_list:_}=i,u={knapsack:computed(()=>{const v=[];for(const h in c.value)c.value[h]>0&&!["GOLD","DIAMOND"].includes(h)&&v.push([h,c.value[h]]);return v})},p=()=>{e.updateUserData({knapsack:{articles:c.value,heroList:d.value,skinList:_.value}})};return{...i,...u,...{useUserKnapsack(v){c.value=v.articles,d.value=v.heroList,_.value=v.skinList},setGamePropNum(v,h,m){return new Promise((g,E)=>{if(m==="ADD")c.value[v]+=h;else if(c.value[v]<h){E();return}else{c.value[v]-=h,l(v,h);const k={GOLD:"today_gold_consume",DIAMOND:"today_diamond_consume",DOUBLE_GOLD:"today_double_gold_card",DOUBLE_EXP:"today_double_exp_card",HERO_LOTTERY_COIN:"today_hero_coin",HERO_LOTTERY_STONE:"today_hero_stone",SKIN_LOTTERY_COIN:"today_skin_coin",SKIN_LOTTERY_STONE:"today_skin_stone"};Object.keys(k).includes(v)&&o.setTaskStatus(k[v],h);const T={HERO_LOTTERY_WEEK:"week_hero_stone_card",SKIN_LOTTERY_WEEK:"week_skin_stone_card",HERO_LOTTERY_COIN:"week_hero_coin",SKIN_LOTTERY_COIN:"week_skin_coin"};Object.keys(T).includes(v)&&o.setTaskStatus(T[v],h)}g(),p()})},addHero(v){d.value[v]={exp:0},p(),$heroDetail(v),setTimeout(()=>{n.getHeroList(),r.sortAll()},1e3)},addSkin(v,h){_.value.push(v),p(),h&&$imageView({id:v,parent:h.target,type:"SKIN"}),s.getSkin(),a.getSkin()},upgradeHero(v,h){d.value[v].exp+=h,p()},clearCoin(){c.value.HERO_LOTTERY_COIN=0,c.value.SKIN_LOTTERY_COIN=0,p()}}}}),MailStore=defineStore("mail",()=>{const e=AuthStore(),r={mail_list:ref([]),sign_mails:ref([]),mail_mark:ref([])},{mail_list:n,mail_mark:a,sign_mails:s}=r,o={haveUnread:computed(()=>n.value.some(c=>!c.read))},l=()=>{e.updateUserData({mail:n.value,mallMark:a.value})};return{...r,...o,...{useUserMail(c,d){n.value=c,a.value=d},async getAllMail(){await _retryRequest({promiseFn:Mail}).then(c=>{c.data.forEach(d=>{const{mark:_,title:u,type:p,key:f,desc:v,userIds:h,props:m,sendTime:g}=d;if(f==="SIGN"){s.value.push({...d,id:`${p}_${f}_${u}_${dayjs().valueOf().toString()}`,read:!1,time:dayjs().valueOf(),desc:v,key:f,props:m,title:u,type:p});return}const E={id:`${p}_${f}_${u}_${dayjs().valueOf().toString()}`,read:!1,time:dayjs().valueOf(),desc:v,key:f,mark:_,props:m,title:u,type:p};if(!(h&&h.length&&!h.includes(e.user_data.id))&&!a.value.includes(_)){if(n.value.some(k=>k.mark===_)){if(n.value.find(T=>T.mark===_).time<g){const T=n.value.findIndex(w=>w.mark===_);n.value[T]=E}return}n.value.unshift(E)}}),l()}).catch(()=>{$message($msgTipText("rc53",{v:"公共邮件"}),"error")})},async sign(){s.value=[],await this.getAllMail(),s.value.forEach(c=>{const{key:d,type:_,title:u}=c;n.value.unshift({...c,id:`${_}_${d}_${u}_${dayjs().valueOf().toString()}`,time:dayjs().valueOf()})}),l()},sendGiftMail(c){const{title:d,desc:_,props:u}=c;n.value.unshift({key:"DEFAULT",title:d,desc:_,props:u,time:dayjs().valueOf(),type:"GIFT",id:`GIFT_DEFAULT_${d}_${dayjs().valueOf().toString()}`,read:!1}),l()},sendMsgMail(c){const{title:d,desc:_}=c;n.value.unshift({key:"DEFAULT",title:d,desc:_,time:dayjs().valueOf(),type:"MSG",id:`MSG_DEFAULT_${d}_${dayjs().valueOf().toString()}`,read:!1}),l()},setMailRead(c){const d=n.value.findIndex(u=>u.id===c),_=n.value[d].mark;n.value[d].read=!0,_&&a.value.push(_),l()},delGiftMail(){n.value=n.value.filter(c=>{if(c.type!=="GIFT")return!0;c.mark&&a.value.push(c.mark)}),l()},delMail(c){const d=n.value.findIndex(_=>_.id===c);n.value.splice(d,1),l()},clearMail(){n.value=[]}}}}),TimeStore=defineStore("time",()=>{const e=TaskStore(),r=MailStore(),n=SupplyStore(),a=AuthStore(),s=KnapsackStore(),{addStatusMarkerNum:o}=useSetMarker();let l,i=0;const c=()=>{$message(MESSAGE_TIP.xu03),r.sign(),n.sign(),e.resetDayWeekTask("DAY"),e.setTaskStatus("week_login_day",1),s.clearCoin(),o("VISIT_DAY"),a.updateUserData({lastLoginTime:dayjs().valueOf()}),useWeekCard()},d=()=>{e.resetDayWeekTask("WEEK")},_=f=>{const v=_checkTimeStamp(f.lastLoginTime)===1,h=dayjs().day()===1;v&&c(),h&&d()},u=f=>{["doubleGoldCardExpireTime","doubleExpCardExpireTime"].forEach(h=>{if(f[h]!==0&&f[h]<dayjs().valueOf()){a.updateUserData({[h]:0});let m="";h==="doubleGoldCardExpireTime"?m="金币双倍卡":m="经验双倍卡",r.sendMsgMail({title:"双倍卡过期提醒",desc:`你的${m}已过期，快去开卡吧！`})}})};return{...{enableTime(){const f=()=>{const{user_data:v}=storeToRefs(a);i+=5,i>=60&&(i=0,e.setTaskStatus("today_online_duration",1),e.setTaskStatus("week_online_duration",1)),o("ONLINE_TIME",5),_(v.value),u(v.value)};f(),l=setInterval(f,5e3)},interrupt(){clearInterval(l)}}}}),MarkerStore=defineStore("marker",()=>{const e=AuthStore(),r={behaviorMarker:ref(userInfoDefault().behaviorMarker)},{behaviorMarker:n}=r,a={marker_num_list:computed(()=>{const o={};for(const[l,i]of Object.entries(n.value))o[l]={label:MARKER_LABEL[l],value:i};return o})};return{...r,...a,...{useUserMarker(o){n.value=o},addMarkerNum(o,l=1){n.value[o]+=l,e.updateUserData({behaviorMarker:n.value})}}}}),EpigraphCollocationStore=defineStore("epigraphCollocation",()=>{const e=AuthStore(),r={sidebar_status:ref("INVENTORY"),current_suit:ref(),fill_color:ref(),fill_index:ref(-1),color_id_selected:ref(0),suit_list:ref([]),epigraph_colors:ref({BLUE:[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],GREEN:[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],RED:[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]}),epigraph_inventory:ref({BLUE:[],GREEN:[],RED:[]})},{epigraph_colors:n,epigraph_inventory:a,fill_color:s,fill_index:o,color_id_selected:l,suit_list:i,sidebar_status:c,current_suit:d}=r,_={current_inventory:computed(()=>s.value?a.value[s.value]:[]),epigraph_attr:computed(()=>{const m=Object.values(n.value).flat(1/0).filter(k=>k),g=[];m.forEach(k=>{k.effect.forEach(T=>{g.push(T)})});const E=f(g);return _typeSort(E,"label")}),is_all_empty:computed(()=>!["BLUE","GREEN","RED"].some(g=>n.value[g].some(E=>E))),epigraph_info:computed(()=>{const m=Object.values(n.value).flat(1),g={};return m.forEach(E=>{E&&(g[E.id]?g[E.id].count+=1:g[E.id]={epigraph:E,count:1})}),Object.values(g)})},u=()=>{e.updateUserData({epigraphSuit:i.value})},p=(m,g=!1)=>{const E=n.value[s.value][m];E&&(n.value[s.value][m]=void 0,a.value[s.value].forEach(k=>{E.id===k.epigraph.id&&k.count++}),!g&&v())},f=m=>{const g={};return m.forEach(k=>{var O;g[O=k.type]??(g[O]="0");const T=parseFloat(k.num)*100,w=parseFloat(g[k.type])*100;k.num.includes("%")?g[k.type]=`${(T+w)/100}%`:g[k.type]=`${(T+w)/100}`}),Object.entries(g).map(([k,T])=>T.includes("%")?{label:k,value:parseFloat(T).toFixed(1)+"%"}:{label:k,value:Number(T).toFixed(1)})},v=()=>{if(!d.value)return;d.value={...d.value,colors:_cloneDeep(n.value),inventory:_cloneDeep(a.value)};const m=i.value.findIndex(g=>g.id===d.value.id);i.value[m===-1?0:m]=_cloneDeep(d.value),u()},h={useUserEpigraphSuit(m){const g=_cloneDeep(m);if(i.value=_cloneDeep(m),m.length>0){const E=g.length-1;n.value=g[E].colors,a.value=g[E].inventory,d.value=g[E]}else this.unlockSuit()},unlockSuit(){this.clearColors(!0),d.value={label:"铭文方案",colors:_cloneDeep(n.value),inventory:_cloneDeep(a.value),id:dayjs().unix().toString()},i.value.push(_cloneDeep(d.value))},useSuit(m){const g=i.value.findIndex(E=>E.id===m);d.value=_cloneDeep(i.value[g]),n.value=_cloneDeep(d.value.colors),a.value=_cloneDeep(d.value.inventory)},renameSuit(m,g){var k;m===((k=d.value)==null?void 0:k.id)&&(d.value.label=g);const E=i.value.findIndex(T=>T.id===m);i.value[E].label=g,u()},deleteSuit(m){var E;const g=i.value.findIndex(k=>k.id===m);if(i.value.splice(g,1),i.value.length===0){this.unlockSuit();return}((E=d.value)==null?void 0:E.id)===m&&(d.value=_cloneDeep(i.value[0]),this.useSuit(d.value.id)),u()},updateSuitList(m){i.value=m,u()},setSidebarStatus(m){c.value=m},setEpigraphListInventory(m){a.value.BLUE.length||m.forEach(g=>{a.value[g.color].push({epigraph:g,count:10})})},setFillEpigraph(m,g,E){if(m?l.value=m.id:l.value=0,o.value===E&&s.value===g&&m){p(E),l.value=0;return}o.value=E,s.value=g},fillSlot(m){const g=T=>{const w=a.value[T.color],O=w.find(A=>A.epigraph.id===T.id);if(O&&O.count>0){if(n.value[T.color][o.value]=T,O.count--,l.value!==0){const A=w.find(L=>L.epigraph.id===l.value);A&&A.count++}l.value=0}v()},E=()=>{const T=["BLUE","GREEN","RED"];return T.unshift(m.color),[...new Set(T)].some(O=>n.value[O].some(L=>!L)?(s.value=O,o.value=n.value[O].findIndex(L=>!L),!0):!1)};g(m),!E()&&(s.value=void 0,o.value=-1)},closeInventory(){c.value="EFFECT",s.value=void 0,o.value=-1},clearColors(m=!1){["BLUE","GREEN","RED"].forEach(E=>{s.value=E;for(let k=0;k<n.value[E].length;k++)p(k,!0),n.value[E][k]=void 0}),o.value=0,l.value=0,s.value="BLUE",c.value="INVENTORY",!m&&v()}};return watchEffect(()=>{s.value!==void 0&&o.value!==-1?c.value="INVENTORY":c.value="EFFECT"}),{...r,..._,...h}}),heroDefault=()=>({id:0,price:"",attack:0,difficulty:0,effect:0,survival:0,camp:"",cover:"",coverBlur:"",avatar:"",height:0,identity:"",location:"",mark:"",name:"",period:"",poster:"",posterBig:"",posterBlur:"",race:"",resume:"",gender:"男",skillUnit:"",profession:[],specialty:[],voices:[],skills:[],skins:[],relationships:[],skinCount:0,relationCount:0}),userInfoDefault=()=>({id:"",avatar:"",username:"",password:"",secondaryPassword:"",role:1,createTime:0,lastLoginTime:0,heroLotteryStoneWeekCardExpireTime:0,skinLotteryStoneWeekCardExpireTime:0,doubleGoldCardExpireTime:0,doubleExpCardExpireTime:0,isInvalid:!1,isDev:!1,guess:{poster:{guessCount:0,guessing:!1,skinIds:[]},skill:{guessCount:0,guessing:!1,skillIds:{}}},epigraphSuit:[],settingConfig:configDefault(),mail:[],mallMark:[],taskFinish:[],taskStatus:{today_online_duration:0,today_gold_consume:0,today_diamond_consume:0,today_hero_lottery:0,today_skin_lottery:0,today_double_gold_card:0,today_double_exp_card:0,today_hero_coin:0,today_skin_coin:0,today_hero_stone:0,today_skin_stone:0,today_hero_supply:0,today_skin_supply:0,week_online_duration:0,week_login_day:0,week_hero_stone_card:0,week_skin_stone_card:0,week_zero_supply:0,week_hero_coin:0,week_skin_coin:0,week_hero_stone:0,week_skin_stone:0},bugIdea:[],behaviorMarker:{mc93:0,tg73:0,h3t4:0,cq65:0,d24r:0,y8b2:0,vu33:0,i0k4:0,iu48:0,nn05:0,ku27:0,i87h:0,g45c:0,al38:0,rj89:0,q9y1:0,kj05:0,aw51:0,ez16:0,cz62:0,cs01:0,er08:0,q65b:0,k4f6:0,yq53:0,ag35:0,cj13:0,pa16:0,j7m4:0,my02:0,ks52:0,v87u:0,ht88:0,ff88:0,er27:0,ml55:0,e13s:0,c8k7:0,mh01:0},lottery:{heroLucky:0,skinLucky:0,hero_order:[],skin_order:[]},knapsack:{articles:{DIAMOND:0,GOLD:0,BLESSING_BAG:0,HERO_DEBRIS:0,HONOR_CRYSTAL:0,KING_CRYSTAL:0,SKIN_DEBRIS:0,HERO_LOTTERY_COIN:25,SKIN_LOTTERY_COIN:25,HERO_LOTTERY_STONE:0,SKIN_LOTTERY_STONE:0,HERO_LOTTERY_WEEK:0,SKIN_LOTTERY_WEEK:0,SKIN_CARD_INITIAL:0,HERO_EXP_ONE:0,HERO_EXP_TWO:0,DOUBLE_GOLD:0,DOUBLE_EXP:0,HERO_TREASURE:0,SKIN_BRAVE_TREASURE:0,SKIN_EPIC_TREASURE:0,SKIN_LEGEND_TREASURE:0,SKIN_LIMIT_TREASURE:0,HERO_CHEST_OPTIONAL:0,HERO_CHEST_RANDOM:0,SKIN_CHEST_BRAVE_OPTIONAL:0,SKIN_CHEST_EPIC_OPTIONAL:0,SKIN_CHEST_LEGEND_OPTIONAL:0,SKIN_CHEST_LIMIT_OPTIONAL:0,GUESS_CARD:0,GUESS_COIN:0,JUMP_COIN:0},heroList:{},skinList:[]},supply:{hero:{supply_remain_num:200,startTime:0,status:"IDLE",mode:{label:"",count:0,seconds:0}},skin:{supply_remain_num:200,startTime:0,status:"IDLE",mode:{label:"",count:0,seconds:0}}},yibao:{jumpCoinReceive:0,ownedPartIds:["dd09","sa20","nu37","wt02","ay75","nw39","d55c"],partDetail:{annulus:{type:"COLOR",id:"dd09"},antenna:{type:"COLOR",id:"sa20"},blush:{type:"COLOR",id:"nu37"},eye:{type:"COLOR",id:"wt02"},mouth:{type:"COLOR",id:"ay75"},side:{type:"COLOR",id:"nw39"},wing:{type:"COLOR",id:"d55c"}}}}),configDefault=()=>({tip:!0,audio:!0,audioVolume:50,music:!0,musicVolume:50,barrage:!1,musicProgress:!1,speed:1,shine:!0,particle:!0,language:0,noTips:{f1y0:!1,mu63:!1,ma67:!1,v44s:!1,d7o5:!1,lp57:!1,kr53:!1,cl60:!1}}),yiBaoPartConfigDefault=()=>({annulus:{type:"COLOR",id:"dd09"},antenna:{type:"COLOR",id:"sa20"},blush:{type:"COLOR",id:"nu37"},eye:{type:"COLOR",id:"wt02"},mouth:{type:"COLOR",id:"ay75"},side:{type:"COLOR",id:"nw39"},wing:{type:"COLOR",id:"d55c"}}),yiBaoSelectTabConfigDefault=()=>({annulus:"",antenna:[],blush:"",eye:[],mouth:[],side:[],wing:""}),yiBaoPartTextureConfigDefault=()=>({antenna:"",annulus:"",wing:"",side:{front:"",back:"",top:"",bottom:"",left:"",right:""}}),useMouseTrackingEffect=(e,r,n)=>{const s=(()=>{let i=!1,c,d;return()=>{if(!i&&e){i=!0;const _=e.getBoundingClientRect(),u=_.left+_.width/2,p=_.top+_.height/2,f=window.innerWidth-u,v=window.innerHeight-p;c=h=>h/Math.max(f,window.innerWidth-f)*r,d=h=>h/Math.max(v,window.innerHeight-v)*r}return{getElMoveValueX:c,getElMoveValueY:d}}})(),o=i=>{if(!e)return;const{getElMoveValueX:c,getElMoveValueY:d}=s(),_=i.clientX,u=i.clientY,p=e.getBoundingClientRect(),f=p.left+p.width/2,v=p.top+p.height/2,h=_-f,m=u-v,g=Math.min(r,Math.max(-r,c==null?void 0:c(h))),E=Math.min(r,Math.max(-r,d==null?void 0:d(m)));n(e,g,E)};return{...{enableMouseTrackingEffect(){e.style.transform="",window.addEventListener("mousemove",o)},disableMouseTrackingEffect(){window.removeEventListener("mousemove",o),e.style.transform=""}}}};class SmallYiBaoBody{constructor(){Q(this,"jumpAnimation");Q(this,"bodyFollowMouse");Q(this,"body_move_box_dom");Q(this,"body_rotate_box_dom");Q(this,"body_dom");Q(this,"body_move_status",!1);Q(this,"mouse_coord",{x:0,y:0});Q(this,"body_coord",{x:0,y:0});Q(this,"jump_callback",()=>{})}initFollowMouse(){this.bodyFollowMouse=useMouseTrackingEffect(this.body_dom,75,(r,n,a)=>{r.style.transform=`rotateX(${-a}deg) rotateY(${n}deg)`})}init(r,n,a){this.body_dom=r,this.body_move_box_dom=n,this.body_rotate_box_dom=a,n.style.left="-25vw",this.initFollowMouse(),window.addEventListener("mousemove",s=>{this.mouse_coord={x:s.clientX,y:s.clientY};const o=this.body_dom.getBoundingClientRect(),l={x:o.left+o.width/2,y:o.top+o.height/2},i=_getCoordsAngle(l,this.mouse_coord);if(this.body_rotate_box_dom.style.transform=`rotateX(-90deg) rotateY(${i}deg)`,_getCoordsDistance(l,this.mouse_coord)>500){if(this.body_move_status===!0)return;this.body_move_status=!0,this.jumpOnce()}else{if(!this.body_move_status)return;this.body_move_status=!1}})}toggleFollowMouse(r){return new Promise(n=>{r?this.bodyFollowMouse.enableMouseTrackingEffect():this.bodyFollowMouse.disableMouseTrackingEffect(),setTimeout(n)})}moveFollowMouse(){this.body_coord=_adjustCoordinates(this.body_coord,this.mouse_coord,500,20,()=>{this.body_move_status=!1}),this.body_move_box_dom.style.left=`${this.body_coord.x}px`,this.body_move_box_dom.style.top=`${this.body_coord.y}px`}jumpOnce(){var n;const r=this;(n=this.jumpAnimation)==null||n.cancel(),this.body_move_status&&(setTimeout(()=>{this.moveFollowMouse()},250),this.jumpAnimation=this.body_dom.animate([{},{transformOrigin:"bottom center",transform:"scaleY(0.5)"},{transformOrigin:"bottom center",transform:"scaleY(0.75)"},{transformOrigin:"bottom center",transform:"translateY(-3.125rem) scaleY(1.15)"},{transformOrigin:"bottom center"}],{duration:750}),this.jumpAnimation.onfinish=function(){this.cancel(),r.body_move_status&&(r.jumpOnce(),r.jump_callback())})}setJumpCallback(r){this.jump_callback=r}resetStyle(){this.body_dom.style.cssText=""}}const smallYiBaoBody=new SmallYiBaoBody;class SmallYiBaoEyes{constructor(){Q(this,"left_eye_dom");Q(this,"right_eye_dom");Q(this,"auto_blink_timer");Q(this,"blinking",!1);Q(this,"left_blinking",!1);Q(this,"right_blinking",!1)}init(r,n){this.left_eye_dom=r,this.right_eye_dom=n,r.addEventListener("click",()=>{this.blinkEye("LEFT")}),n.addEventListener("click",()=>{this.blinkEye("RIGHT")}),this.autoBlinkEyes()}blinkEye(r){const n={LEFT:"left_blinking",RIGHT:"right_blinking"};if(this[n[r]])return;this[n[r]]=!0;const a={LEFT:"left_eye_dom",RIGHT:"right_eye_dom"};this[a[r]].style.transition="all 0.1s",this[a[r]].style.clipPath="ellipse(40% 1% at 50% 50%)",setTimeout(()=>{this[a[r]].style.transition="all 0.25s",this[a[r]].style.clipPath="",setTimeout(()=>{this[n[r]]=!1},250)},100)}blinkEyes(){this.blinking||(this.blinking=!0,this.blinkEye("LEFT"),this.blinkEye("RIGHT"),setTimeout(()=>{this.blinking=!1},350))}autoBlinkEyes(){const r=_random(1,5);this.blinkEyes(),this.auto_blink_timer=setTimeout(()=>{this.autoBlinkEyes()},r*1e3)}resetStyle(){this.left_eye_dom.style.cssText="",this.right_eye_dom.style.cssText=""}}const smallYiBaoEyes=new SmallYiBaoEyes;class SmallYiBaoIris{constructor(){Q(this,"left_iris_dom");Q(this,"right_iris_dom");Q(this,"leftIrisFollowMouse");Q(this,"rightIrisFollowMouse")}followMouse(){this.leftIrisFollowMouse=useMouseTrackingEffect(this.left_iris_dom,100,(r,n,a)=>{r.style.transform=`translate(${n}px, ${a}px)`}),this.rightIrisFollowMouse=useMouseTrackingEffect(this.right_iris_dom,100,(r,n,a)=>{r.style.transform=`translate(${n}px, ${a}px)`})}init(r,n){this.left_iris_dom=r,this.right_iris_dom=n,this.followMouse()}scary(){this.left_iris_dom.style.top="10%",this.right_iris_dom.style.top="10%",this.left_iris_dom.style.width="40%",this.right_iris_dom.style.width="40%"}toggleFollowMouse(r){return new Promise(n=>{r?(this.leftIrisFollowMouse.enableMouseTrackingEffect(),this.rightIrisFollowMouse.enableMouseTrackingEffect()):(this.leftIrisFollowMouse.disableMouseTrackingEffect(),this.rightIrisFollowMouse.disableMouseTrackingEffect()),setTimeout(n)})}resetStyle(){this.left_iris_dom.style.cssText="",this.right_iris_dom.style.cssText=""}}const smallYiBaoIris=new SmallYiBaoIris;class SmallYiBaoMouth{constructor(){Q(this,"outer_mouth_dom");Q(this,"inner_mouth_dom");Q(this,"tooth_dom");Q(this,"tongue_dom");Q(this,"breathAnimation")}init(r,n,a,s){this.outer_mouth_dom=r,this.inner_mouth_dom=n,this.tooth_dom=a,this.tongue_dom=s}smile(){let r=this.outer_mouth_dom.style;r.top="0",r.width="",r.height=`${75/4}px`,r.transform="translateY(0)",r=this.inner_mouth_dom.style,r.top=`${-25/4}px`,r.height=`${100/4}px`,r=this.tooth_dom.style,r.top=`${25/4}px`,r.height=`${50/4}px`}resetStyle(){this.outer_mouth_dom.style.cssText="",this.inner_mouth_dom.style.cssText="",this.tongue_dom.style.cssText="",this.tooth_dom.style.cssText=""}}const smallYiBaoMouth=new SmallYiBaoMouth,YibaoStore=defineStore("yibao",()=>{const e=AuthStore(),r=document.body,n={jump_reward:ref(!1),jump_count:ref(0),receive_coin:ref(0),part_style_type:ref("COLOR"),part_type:ref("annulus"),owned_part_id:ref([]),pay_part:ref({annulus:{id:"",price:"",type:"COLOR",name:""},antenna:{id:"",price:"",type:"COLOR",name:""},blush:{id:"",price:"",type:"COLOR",name:""},eye:{id:"",price:"",type:"COLOR",name:""},mouth:{id:"",price:"",type:"COLOR",name:""},side:{id:"",price:"",type:"COLOR",name:""},wing:{id:"",price:"",type:"COLOR",name:""}}),temp_part_detail:ref(yiBaoPartConfigDefault()),part_detail:ref(yiBaoPartConfigDefault()),part_color:ref(yiBaoSelectTabConfigDefault()),part_texture:ref(yiBaoPartTextureConfigDefault())},{part_type:a,part_texture:s,part_style_type:o,part_detail:l,temp_part_detail:i,part_color:c,pay_part:d,owned_part_id:_,jump_count:u,receive_coin:p,jump_reward:f}=n,v={is_change_part:computed(()=>JSON.stringify(l.value)!==JSON.stringify(i.value)),part_selected:computed(()=>{const E=i.value[a.value].id,k=i.value[a.value].type,T=PART_KEY_INFO[E].price,w=_.value.includes(E);return{id:E,type:k,price:T,owned:w}}),pay_order:computed(()=>Object.entries(d.value).map(([k,T])=>({id:T.id,partName:k,partStyle:T.type,partPrice:T.price})).filter(k=>k.partPrice!==""))},{part_selected:h}=v,m=()=>{e.updateUserData({yibao:{jumpCoinReceive:p.value,ownedPartIds:_.value,partDetail:l.value}})},g={useUserYiBao(E){p.value=E.jumpCoinReceive,_.value=E.ownedPartIds,l.value=_cloneDeep(E.partDetail),i.value=_cloneDeep(E.partDetail),this.initYibaoBodyPartStyle(),f.value=!0},initYibaoBodyPartStyle(){const E=i.value;this.setAnnulusId(E.annulus.id,E.annulus.type),this.setAntennaId(E.antenna.id,E.antenna.type),this.setBlushId(E.blush.id,E.blush.type),this.setEyeId(E.eye.id,E.eye.type),this.setMouthId(E.mouth.id,E.mouth.type),this.setSideId(E.side.id,E.side.type),this.setWingId(E.wing.id,E.wing.type)},setPartType(E){a.value=E;const k=a.value;o.value=i.value[k].type},setPartStyle(E){o.value=E},setAnnulusId(E=i.value.annulus.id,k=i.value.annulus.type){if(i.value.annulus.id=E,i.value.annulus.type=k,k==="COLOR"){const T=ANNULUS_COLOR.find(w=>w.id===E);r.style.setProperty("--annulus-border-color",T.color),c.value.annulus=T.color}else{const T=ANNULUS_IMG.find(w=>w.id===E);r.style.setProperty("--annulus-bg",`url(${_getMinecraftLink(T.img)})`),s.value.annulus=_getMinecraftLink(T.img)}this.setPayPart("annulus")},setAntennaId(E=i.value.antenna.id,k=i.value.antenna.type){if(i.value.antenna.id=E,i.value.antenna.type=k,k==="COLOR"){const T=ANTENNA_COLOR.find(w=>w.id===E);r.style.setProperty("--antenna-bg-color",T.colors[0]),r.style.setProperty("--antenna-border-color",T.colors[1]),c.value.antenna=T.colors}else{const T=ANTENNA_IMG.find(w=>w.id===E);r.style.setProperty("--antenna-bg-img",`url(${_getMinecraftLink(T.img)})`),s.value.antenna=_getMinecraftLink(T.img)}this.setPayPart("antenna")},setBlushId(E=i.value.blush.id,k=i.value.blush.type){if(i.value.blush.id=E,k==="COLOR"){const T=BLUSH_COLOR.find(w=>w.id===E);r.style.setProperty("--blush-bg-color",T.color),c.value.blush=T.color}this.setPayPart("blush")},setEyeId(E=i.value.eye.id,k=i.value.eye.type){if(i.value.eye.id=E,k==="COLOR"){const T=EYE_COLOR.find(w=>w.id===E);r.style.setProperty("--eye-bg-color-one",T.colors[0]),r.style.setProperty("--eye-bg-color-two",T.colors[1]),c.value.eye=T.colors}this.setPayPart("eye")},setMouthId(E=i.value.mouth.id,k=i.value.mouth.type){if(i.value.mouth.id=E,k==="COLOR"){const T=MOUTH_COLOR.find(w=>w.id===E);r.style.setProperty("--mouth-bg-color-one",T.colors[0]),r.style.setProperty("--mouth-bg-color-two",T.colors[1]),c.value.mouth=T.colors}this.setPayPart("mouth")},setSideId(E=i.value.side.id,k=i.value.side.type){if(i.value.side.id=E,i.value.side.type=k,k==="COLOR"){const T=SIDE_COLOR.find(w=>w.id===E);r.style.setProperty("--side-bg-color",T.colors[0]),r.style.setProperty("--side-border-color",T.colors[1]),c.value.side=T.colors}else{const T=SIDE_IMG.find(w=>w.id===E);for(const w in T)w!=="id"&&(r.style.setProperty(`--side-${w}-bg`,`url(${_getMinecraftLink(T[w].replace("_small",""))})`),s.value.side=T)}this.setPayPart("side")},setWingId(E=i.value.wing.id,k=i.value.wing.type){if(i.value.wing.id=E,i.value.wing.type=k,k==="COLOR"){const T=WING_COLOR.find(w=>w.id===E);r.style.setProperty("--wing-bg-color",T.color),c.value.wing=T.color}else{const T=WING_IMG.find(w=>w.id===E);r.style.setProperty("--wing-bg-img",`url(${_getMinecraftLink(T.img)})`),s.value.wing=_getMinecraftLink(T.img)}this.setPayPart("wing")},setPayPart(E,k=!1){const T=i.value[E].id,w=PART_KEY_INFO[T],O=w.price,A=w.type,L=w.name;_.value.includes(T)||k?d.value[E]={id:T,price:"",type:"COLOR",name:""}:d.value[E]={id:T,price:O,type:A,name:L}},saveOwnedPart(){l.value=_cloneDeep(i.value),m()},buyAlonePart(){const E=h.value.id;_.value.push(E),i.value[a.value].id=E,i.value[a.value].type=h.value.type,this.setPayPart(a.value),this.saveOwnedPart()},buyAllPart(){for(const E in d.value){const k=d.value[E].id;k&&_.value.push(k)}PART_KEY_LIST.forEach(E=>{this.setPayPart(E)}),this.saveOwnedPart()},resetPayPart(){PART_KEY_LIST.forEach(E=>{this.setPayPart(E,!0),this.resetCurrentPartStyle(E)})},resetJumpCoinReceive(){p.value=0},resetCurrentPartStyle(E=a.value){o.value=l.value[E].type,i.value[E]={...l.value[E]},{annulus:this.setAnnulusId,antenna:this.setAntennaId,blush:this.setBlushId,eye:this.setEyeId,mouth:this.setMouthId,side:this.setSideId,wing:this.setWingId}[E]()},resetAllPartStyle(){i.value=_cloneDeep(l.value),o.value=l.value[a.value].type,PART_KEY_LIST.forEach(E=>{this.setPayPart(E)}),this.initYibaoBodyPartStyle()},resetDefaultPart(){f.value=!1,o.value="COLOR",a.value="annulus",PART_KEY_LIST.forEach(E=>{this.setPayPart(E,!0)})}};return smallYiBaoBody.setJumpCallback(()=>{f.value&&(u.value++,u.value>=10&&(p.value+=10,u.value=0,m()))}),{...n,...v,...g}}),version="3.7.6",VERSION=version,_hasatob=typeof atob=="function",_hasbtoa=typeof btoa=="function",_hasBuffer=typeof Buffer=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(e=>{let r={};return e.forEach((n,a)=>r[n]=a),r})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),_mkUriSafe=e=>e.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_"),_tidyB64=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=e=>{let r,n,a,s,o="";const l=e.length%3;for(let i=0;i<e.length;){if((n=e.charCodeAt(i++))>255||(a=e.charCodeAt(i++))>255||(s=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");r=n<<16|a<<8|s,o+=b64chs[r>>18&63]+b64chs[r>>12&63]+b64chs[r>>6&63]+b64chs[r&63]}return l?o.slice(0,l-3)+"===".substring(l):o},_btoa=_hasbtoa?e=>btoa(e):_hasBuffer?e=>Buffer.from(e,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let a=0,s=e.length;a<s;a+=4096)n.push(_fromCC.apply(null,e.subarray(a,a+4096)));return _btoa(n.join(""))},fromUint8Array=(e,r=!1)=>r?_mkUriSafe(_fromUint8Array(e)):_fromUint8Array(e),cb_utob=e=>{if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?_fromCC(192|r>>>6)+_fromCC(128|r&63):_fromCC(224|r>>>12&15)+_fromCC(128|r>>>6&63)+_fromCC(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return _fromCC(240|r>>>18&7)+_fromCC(128|r>>>12&63)+_fromCC(128|r>>>6&63)+_fromCC(128|r&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=e=>e.replace(re_utob,cb_utob),_encode=_hasBuffer?e=>Buffer.from(e,"utf8").toString("base64"):_TE?e=>_fromUint8Array(_TE.encode(e)):e=>_btoa(utob(e)),encode=(e,r=!1)=>r?_mkUriSafe(_encode(e)):_encode(e),encodeURI=e=>encode(e,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=e=>{switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=r-65536;return _fromCC((n>>>10)+55296)+_fromCC((n&1023)+56320);case 3:return _fromCC((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return _fromCC((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=e=>e.replace(re_btou,cb_btou),atobPolyfill=e=>{if(e=e.replace(/\s+/g,""),!b64re.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let r,n="",a,s;for(let o=0;o<e.length;)r=b64tab[e.charAt(o++)]<<18|b64tab[e.charAt(o++)]<<12|(a=b64tab[e.charAt(o++)])<<6|(s=b64tab[e.charAt(o++)]),n+=a===64?_fromCC(r>>16&255):s===64?_fromCC(r>>16&255,r>>8&255):_fromCC(r>>16&255,r>>8&255,r&255);return n},_atob=_hasatob?e=>atob(_tidyB64(e)):_hasBuffer?e=>Buffer.from(e,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?e=>_U8Afrom(Buffer.from(e,"base64")):e=>_U8Afrom(_atob(e).split("").map(r=>r.charCodeAt(0))),toUint8Array=e=>_toUint8Array(_unURI(e)),_decode=_hasBuffer?e=>Buffer.from(e,"base64").toString("utf8"):_TD?e=>_TD.decode(_toUint8Array(e)):e=>btou(_atob(e)),_unURI=e=>_tidyB64(e.replace(/[-_]/g,r=>r=="-"?"+":"/")),decode=e=>_decode(_unURI(e)),isValid=e=>{if(typeof e!="string")return!1;const r=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},_noEnum=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const e=(r,n)=>Object.defineProperty(String.prototype,r,_noEnum(n));e("fromBase64",function(){return decode(this)}),e("toBase64",function(r){return encode(this,r)}),e("toBase64URI",function(){return encode(this,!0)}),e("toBase64URL",function(){return encode(this,!0)}),e("toUint8Array",function(){return toUint8Array(this)})},extendUint8Array=function(){const e=(r,n)=>Object.defineProperty(Uint8Array.prototype,r,_noEnum(n));e("toBase64",function(r){return fromUint8Array(this,r)}),e("toBase64URI",function(){return fromUint8Array(this,!0)}),e("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version,VERSION,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode,toBase64:encode,encode,encodeURI,encodeURL:encodeURI,utob,btou,decode,isValid,fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins};var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,r){(function(n){e.exports=n()})(function(){return function n(a,s,o){function l(d,_){if(!s[d]){if(!a[d]){var u=typeof commonjsRequire=="function"&&commonjsRequire;if(!_&&u)return u(d,!0);if(i)return i(d,!0);var p=new Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p}var f=s[d]={exports:{}};a[d][0].call(f.exports,function(v){var h=a[d][1][v];return l(h||v)},f,f.exports,n,a,s,o)}return s[d].exports}for(var i=typeof commonjsRequire=="function"&&commonjsRequire,c=0;c<o.length;c++)l(o[c]);return l}({1:[function(n,a,s){var o=n("./utils"),l=n("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var d,_,u,p,f,v,h,m=[],g=0,E=c.length,k=E,T=o.getTypeOf(c)!=="string";g<c.length;)k=E-g,u=T?(d=c[g++],_=g<E?c[g++]:0,g<E?c[g++]:0):(d=c.charCodeAt(g++),_=g<E?c.charCodeAt(g++):0,g<E?c.charCodeAt(g++):0),p=d>>2,f=(3&d)<<4|_>>4,v=1<k?(15&_)<<2|u>>6:64,h=2<k?63&u:64,m.push(i.charAt(p)+i.charAt(f)+i.charAt(v)+i.charAt(h));return m.join("")},s.decode=function(c){var d,_,u,p,f,v,h=0,m=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var E,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===i.charAt(64)&&k--,c.charAt(c.length-2)===i.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=l.uint8array?new Uint8Array(0|k):new Array(0|k);h<c.length;)d=i.indexOf(c.charAt(h++))<<2|(p=i.indexOf(c.charAt(h++)))>>4,_=(15&p)<<4|(f=i.indexOf(c.charAt(h++)))>>2,u=(3&f)<<6|(v=i.indexOf(c.charAt(h++))),E[m++]=d,f!==64&&(E[m++]=_),v!==64&&(E[m++]=u);return E}},{"./support":30,"./utils":32}],2:[function(n,a,s){var o=n("./external"),l=n("./stream/DataWorker"),i=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(_,u,p,f,v){this.compressedSize=_,this.uncompressedSize=u,this.crc32=p,this.compression=f,this.compressedContent=v}d.prototype={getContentWorker:function(){var _=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),u=this;return _.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(_,u,p){return _.pipe(new i).pipe(new c("uncompressedSize")).pipe(u.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",u)},a.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,a,s){var o=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,a,s){var o=n("./utils"),l=function(){for(var i,c=[],d=0;d<256;d++){i=d;for(var _=0;_<8;_++)i=1&i?3988292384^i>>>1:i>>>1;c[d]=i}return c}();a.exports=function(i,c){return i!==void 0&&i.length?o.getTypeOf(i)!=="string"?function(d,_,u,p){var f=l,v=p+u;d^=-1;for(var h=p;h<v;h++)d=d>>>8^f[255&(d^_[h])];return-1^d}(0|c,i,i.length,0):function(d,_,u,p){var f=l,v=p+u;d^=-1;for(var h=p;h<v;h++)d=d>>>8^f[255&(d^_.charCodeAt(h))];return-1^d}(0|c,i,i.length,0):0}},{"./utils":32}],5:[function(n,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,a,s){var o=null;o=typeof Promise<"u"?Promise:n("lie"),a.exports={Promise:o}},{lie:37}],7:[function(n,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),i=n("./utils"),c=n("./stream/GenericWorker"),d=o?"uint8array":"array";function _(u,p){c.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=p,this.meta={}}s.magic="\b\0",i.inherits(_,c),_.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(d,u.data),!1)},_.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(p){u.push({data:p,meta:u.meta})}},s.compressWorker=function(u){return new _("Deflate",u)},s.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,a,s){function o(f,v){var h,m="";for(h=0;h<v;h++)m+=String.fromCharCode(255&f),f>>>=8;return m}function l(f,v,h,m,g,E){var k,T,w=f.file,O=f.compression,A=E!==d.utf8encode,L=i.transformTo("string",E(w.name)),B=i.transformTo("string",d.utf8encode(w.name)),U=w.comment,j=i.transformTo("string",E(U)),N=i.transformTo("string",d.utf8encode(U)),F=B.length!==w.name.length,S=N.length!==U.length,q="",ue="",te="",ge=w.dir,re=w.date,me={crc32:0,compressedSize:0,uncompressedSize:0};v&&!h||(me.crc32=f.crc32,me.compressedSize=f.compressedSize,me.uncompressedSize=f.uncompressedSize);var z=0;v&&(z|=8),A||!F&&!S||(z|=2048);var Y=0,he=0;ge&&(Y|=16),g==="UNIX"?(he=798,Y|=function(ce,Te){var Ne=ce;return ce||(Ne=Te?16893:33204),(65535&Ne)<<16}(w.unixPermissions,ge)):(he=20,Y|=function(ce){return 63&(ce||0)}(w.dosPermissions)),k=re.getUTCHours(),k<<=6,k|=re.getUTCMinutes(),k<<=5,k|=re.getUTCSeconds()/2,T=re.getUTCFullYear()-1980,T<<=4,T|=re.getUTCMonth()+1,T<<=5,T|=re.getUTCDate(),F&&(ue=o(1,1)+o(_(L),4)+B,q+="up"+o(ue.length,2)+ue),S&&(te=o(1,1)+o(_(j),4)+N,q+="uc"+o(te.length,2)+te);var _e="";return _e+=`
\0`,_e+=o(z,2),_e+=O.magic,_e+=o(k,2),_e+=o(T,2),_e+=o(me.crc32,4),_e+=o(me.compressedSize,4),_e+=o(me.uncompressedSize,4),_e+=o(L.length,2),_e+=o(q.length,2),{fileRecord:u.LOCAL_FILE_HEADER+_e+L+q,dirRecord:u.CENTRAL_FILE_HEADER+o(he,2)+_e+o(j.length,2)+"\0\0\0\0"+o(Y,4)+o(m,4)+L+q+j}}var i=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),_=n("../crc32"),u=n("../signature");function p(f,v,h,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=h,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(p,c),p.prototype.push=function(f){var v=f.meta.percent||0,h=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:h?(v+100*(h-m-1))/h:100}}))},p.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var v=this.streamFiles&&!f.file.dir;if(v){var h=l(f,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(f){this.accumulate=!1;var v=this.streamFiles&&!f.file.dir,h=l(f,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),v)this.push({data:function(m){return u.DATA_DESCRIPTOR+o(m.crc32,4)+o(m.compressedSize,4)+o(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var f=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var h=this.bytesWritten-f,m=function(g,E,k,T,w){var O=i.transformTo("string",w(T));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(E,4)+o(k,4)+o(O.length,2)+O}(this.dirRecords.length,h,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(f){this._sources.push(f);var v=this;return f.on("data",function(h){v.processChunk(h)}),f.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),f.on("error",function(h){v.error(h)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(f){var v=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var h=0;h<v.length;h++)try{v[h].error(f)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,v=0;v<f.length;v++)f[v].lock()},a.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,a,s){var o=n("../compressions"),l=n("./ZipFileWorker");s.generateWorker=function(i,c,d){var _=new l(c.streamFiles,d,c.platform,c.encodeFileName),u=0;try{i.forEach(function(p,f){u++;var v=function(E,k){var T=E||k,w=o[T];if(!w)throw new Error(T+" is not a valid compression method !");return w}(f.options.compression,c.compression),h=f.options.compressionOptions||c.compressionOptions||{},m=f.dir,g=f.date;f._compressWorker(v,h).withStreamInfo("file",{name:p,dir:m,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(_)}),_.entriesCount=u}catch(p){_.error(p)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,a,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var i in this)typeof this[i]!="function"&&(l[i]=this[i]);return l}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(l,i){return new o().loadAsync(l,i)},o.external=n("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,a,s){var o=n("./utils"),l=n("./external"),i=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function u(p){return new l.Promise(function(f,v){var h=p.decompressed.getContentWorker().pipe(new d);h.on("error",function(m){v(m)}).on("end",function(){h.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}a.exports=function(p,f){var v=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),_.isNode&&_.isStream(p)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",p,!0,f.optimizedBinaryString,f.base64).then(function(h){var m=new c(f);return m.load(h),m}).then(function(h){var m=[l.Promise.resolve(h)],g=h.files;if(f.checkCRC32)for(var E=0;E<g.length;E++)m.push(u(g[E]));return l.Promise.all(m)}).then(function(h){for(var m=h.shift(),g=m.files,E=0;E<g.length;E++){var k=g[E],T=k.fileNameStr,w=o.resolve(k.fileNameStr);v.file(w,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:f.createFolders}),k.dir||(v.file(w).unsafeOriginalName=T)}return m.zipComment.length&&(v.comment=m.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,a,s){var o=n("../utils"),l=n("../stream/GenericWorker");function i(c,d){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}o.inherits(i,l),i.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(_){d.push({data:_,meta:{percent:0}})}).on("error",function(_){d.isPaused?this.generatedError=_:d.error(_)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},i.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,a,s){var o=n("readable-stream").Readable;function l(i,c,d){o.call(this,c),this._helper=i;var _=this;i.on("data",function(u,p){_.push(u)||_._helper.pause(),d&&d(p)}).on("error",function(u){_.emit("error",u)}).on("end",function(){_.push(null)})}n("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,a,s){function o(w,O,A){var L,B=i.getTypeOf(O),U=i.extend(A||{},_);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(w=g(w)),U.createFolders&&(L=m(w))&&E.call(this,L,!0);var j=B==="string"&&U.binary===!1&&U.base64===!1;A&&A.binary!==void 0||(U.binary=!j),(O instanceof u&&O.uncompressedSize===0||U.dir||!O||O.length===0)&&(U.base64=!1,U.binary=!0,O="",U.compression="STORE",B="string");var N=null;N=O instanceof u||O instanceof c?O:v.isNode&&v.isStream(O)?new h(w,O):i.prepareContent(w,O,U.binary,U.optimizedBinaryString,U.base64);var F=new p(w,N,U);this.files[w]=F}var l=n("./utf8"),i=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),_=n("./defaults"),u=n("./compressedObject"),p=n("./zipObject"),f=n("./generate"),v=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),m=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var O=w.lastIndexOf("/");return 0<O?w.substring(0,O):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},E=function(w,O){return O=O!==void 0?O:_.createFolders,w=g(w),this.files[w]||o.call(this,w,null,{dir:!0,createFolders:O}),this.files[w]};function k(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var O,A,L;for(O in this.files)L=this.files[O],(A=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&w(A,L)},filter:function(w){var O=[];return this.forEach(function(A,L){w(A,L)&&O.push(L)}),O},file:function(w,O,A){if(arguments.length!==1)return w=this.root+w,o.call(this,w,O,A),this;if(k(w)){var L=w;return this.filter(function(U,j){return!j.dir&&L.test(U)})}var B=this.files[this.root+w];return B&&!B.dir?B:null},folder:function(w){if(!w)return this;if(k(w))return this.filter(function(B,U){return U.dir&&w.test(B)});var O=this.root+w,A=E.call(this,O),L=this.clone();return L.root=A.name,L},remove:function(w){w=this.root+w;var O=this.files[w];if(O||(w.slice(-1)!=="/"&&(w+="/"),O=this.files[w]),O&&!O.dir)delete this.files[w];else for(var A=this.filter(function(B,U){return U.name.slice(0,w.length)===w}),L=0;L<A.length;L++)delete this.files[A[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var O,A={};try{if((A=i.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");i.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var L=A.comment||this.comment||"";O=f.generateWorker(this,A,L)}catch(B){(O=new c("error")).error(B)}return new d(O,A.type||"string",A.mimeType)},generateAsync:function(w,O){return this.generateInternalStream(w).accumulate(O)},generateNodeStream:function(w,O){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(O)}};a.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,a,s){a.exports=n("stream")},{stream:void 0}],17:[function(n,a,s){var o=n("./DataReader");function l(i){o.call(this,i);for(var c=0;c<this.data.length;c++)i[c]=255&i[c]}n("../utils").inherits(l,o),l.prototype.byteAt=function(i){return this.data[this.zero+i]},l.prototype.lastIndexOfSignature=function(i){for(var c=i.charCodeAt(0),d=i.charCodeAt(1),_=i.charCodeAt(2),u=i.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===d&&this.data[p+2]===_&&this.data[p+3]===u)return p-this.zero;return-1},l.prototype.readAndCheckSignature=function(i){var c=i.charCodeAt(0),d=i.charCodeAt(1),_=i.charCodeAt(2),u=i.charCodeAt(3),p=this.readData(4);return c===p[0]&&d===p[1]&&_===p[2]&&u===p[3]},l.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,a,s){var o=n("../utils");function l(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var c,d=0;for(this.checkOffset(i),c=this.index+i-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=i,d},readString:function(i){return o.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},a.exports=l},{"../utils":32}],19:[function(n,a,s){var o=n("./Uint8ArrayReader");function l(i){o.call(this,i)}n("../utils").inherits(l,o),l.prototype.readData=function(i){this.checkOffset(i);var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,a,s){var o=n("./DataReader");function l(i){o.call(this,i)}n("../utils").inherits(l,o),l.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},l.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},l.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},l.prototype.readData=function(i){this.checkOffset(i);var c=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,a,s){var o=n("./ArrayReader");function l(i){o.call(this,i)}n("../utils").inherits(l,o),l.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,c},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,a,s){var o=n("../utils"),l=n("../support"),i=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");a.exports=function(u){var p=o.getTypeOf(u);return o.checkSupport(p),p!=="string"||l.uint8array?p==="nodebuffer"?new d(u):l.uint8array?new _(o.transformTo("uint8array",u)):new i(o.transformTo("array",u)):new c(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,a,s){var o=n("./GenericWorker"),l=n("../utils");function i(c){o.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(i,o),i.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},a.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(n,a,s){var o=n("./GenericWorker"),l=n("../crc32");function i(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(i,o),i.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},a.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,a,s){var o=n("../utils"),l=n("./GenericWorker");function i(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(i,l),i.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}l.prototype.processChunk.call(this,c)},a.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(n,a,s){var o=n("../utils"),l=n("./GenericWorker");function i(c){l.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(_){d.dataIsReady=!0,d.data=_,d.max=_&&_.length||0,d.type=o.getTypeOf(_),d.isPaused||d._tickAndRepeat()},function(_){d.error(_)})}o.inherits(i,l),i.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(n,a,s){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,i){return this._listeners[l].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,i){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,i)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var i=this;return l.on("data",function(c){i.processChunk(c)}),l.on("end",function(){i.end()}),l.on("error",function(c){i.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,i){return this.extraStreamInfo[l]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=o},{}],29:[function(n,a,s){var o=n("../utils"),l=n("./ConvertWorker"),i=n("./GenericWorker"),c=n("../base64"),d=n("../support"),_=n("../external"),u=null;if(d.nodestream)try{u=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,h){return new _.Promise(function(m,g){var E=[],k=v._internalType,T=v._outputType,w=v._mimeType;v.on("data",function(O,A){E.push(O),h&&h(A)}).on("error",function(O){E=[],g(O)}).on("end",function(){try{var O=function(A,L,B){switch(A){case"blob":return o.newBlob(o.transformTo("arraybuffer",L),B);case"base64":return c.encode(L);default:return o.transformTo(A,L)}}(T,function(A,L){var B,U=0,j=null,N=0;for(B=0;B<L.length;B++)N+=L[B].length;switch(A){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(j=new Uint8Array(N),B=0;B<L.length;B++)j.set(L[B],U),U+=L[B].length;return j;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+A+"'")}}(k,E),w);m(O)}catch(A){g(A)}E=[]}).resume()})}function f(v,h,m){var g=h;switch(h){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=h,this._mimeType=m,o.checkSupport(g),this._worker=v.pipe(new l(g)),v.lock()}catch(E){this._worker=new i("error"),this._worker.error(E)}}f.prototype={accumulate:function(v){return p(this,v)},on:function(v,h){var m=this;return v==="data"?this._worker.on(v,function(g){h.call(m,g.data,g.meta)}):this._worker.on(v,function(){o.delay(h,arguments,m)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},v)}},a.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,a,s){for(var o=n("./utils"),l=n("./support"),i=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),_=0;_<256;_++)d[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;d[254]=d[254]=1;function u(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}s.utf8encode=function(f){return l.nodebuffer?i.newBufferFrom(f,"utf-8"):function(v){var h,m,g,E,k,T=v.length,w=0;for(E=0;E<T;E++)(64512&(m=v.charCodeAt(E)))==55296&&E+1<T&&(64512&(g=v.charCodeAt(E+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),E++),w+=m<128?1:m<2048?2:m<65536?3:4;for(h=l.uint8array?new Uint8Array(w):new Array(w),E=k=0;k<w;E++)(64512&(m=v.charCodeAt(E)))==55296&&E+1<T&&(64512&(g=v.charCodeAt(E+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),E++),m<128?h[k++]=m:(m<2048?h[k++]=192|m>>>6:(m<65536?h[k++]=224|m>>>12:(h[k++]=240|m>>>18,h[k++]=128|m>>>12&63),h[k++]=128|m>>>6&63),h[k++]=128|63&m);return h}(f)},s.utf8decode=function(f){return l.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(v){var h,m,g,E,k=v.length,T=new Array(2*k);for(h=m=0;h<k;)if((g=v[h++])<128)T[m++]=g;else if(4<(E=d[g]))T[m++]=65533,h+=E-1;else{for(g&=E===2?31:E===3?15:7;1<E&&h<k;)g=g<<6|63&v[h++],E--;1<E?T[m++]=65533:g<65536?T[m++]=g:(g-=65536,T[m++]=55296|g>>10&1023,T[m++]=56320|1023&g)}return T.length!==m&&(T.subarray?T=T.subarray(0,m):T.length=m),o.applyFromCharCode(T)}(f=o.transformTo(l.uint8array?"uint8array":"array",f))},o.inherits(u,c),u.prototype.processChunk=function(f){var v=o.transformTo(l.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var h=v;(v=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),v.set(h,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var m=function(E,k){var T;for((k=k||E.length)>E.length&&(k=E.length),T=k-1;0<=T&&(192&E[T])==128;)T--;return T<0||T===0?k:T+d[E[T]]>k?T:k}(v),g=v;m!==v.length&&(l.uint8array?(g=v.subarray(0,m),this.leftOver=v.subarray(m,v.length)):(g=v.slice(0,m),this.leftOver=v.slice(m,v.length))),this.push({data:s.utf8decode(g),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=u,o.inherits(p,c),p.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,a,s){var o=n("./support"),l=n("./base64"),i=n("./nodejsUtils"),c=n("./external");function d(h){return h}function _(h,m){for(var g=0;g<h.length;++g)m[g]=255&h.charCodeAt(g);return m}n("setimmediate"),s.newBlob=function(h,m){s.checkSupport("blob");try{return new Blob([h],{type:m})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(h),g.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(h,m,g){var E=[],k=0,T=h.length;if(T<=g)return String.fromCharCode.apply(null,h);for(;k<T;)m==="array"||m==="nodebuffer"?E.push(String.fromCharCode.apply(null,h.slice(k,Math.min(k+g,T)))):E.push(String.fromCharCode.apply(null,h.subarray(k,Math.min(k+g,T)))),k+=g;return E.join("")},stringifyByChar:function(h){for(var m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);return m},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function p(h){var m=65536,g=s.getTypeOf(h),E=!0;if(g==="uint8array"?E=u.applyCanBeUsed.uint8array:g==="nodebuffer"&&(E=u.applyCanBeUsed.nodebuffer),E)for(;1<m;)try{return u.stringifyByChunk(h,g,m)}catch{m=Math.floor(m/2)}return u.stringifyByChar(h)}function f(h,m){for(var g=0;g<h.length;g++)m[g]=h[g];return m}s.applyFromCharCode=p;var v={};v.string={string:d,array:function(h){return _(h,new Array(h.length))},arraybuffer:function(h){return v.string.uint8array(h).buffer},uint8array:function(h){return _(h,new Uint8Array(h.length))},nodebuffer:function(h){return _(h,i.allocBuffer(h.length))}},v.array={string:p,array:d,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return i.newBufferFrom(h)}},v.arraybuffer={string:function(h){return p(new Uint8Array(h))},array:function(h){return f(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:d,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return i.newBufferFrom(new Uint8Array(h))}},v.uint8array={string:p,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:d,nodebuffer:function(h){return i.newBufferFrom(h)}},v.nodebuffer={string:p,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return v.nodebuffer.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:d},s.transformTo=function(h,m){if(m=m||"",!h)return m;s.checkSupport(h);var g=s.getTypeOf(m);return v[g][h](m)},s.resolve=function(h){for(var m=h.split("/"),g=[],E=0;E<m.length;E++){var k=m[E];k==="."||k===""&&E!==0&&E!==m.length-1||(k===".."?g.pop():g.push(k))}return g.join("/")},s.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":o.nodebuffer&&i.isBuffer(h)?"nodebuffer":o.uint8array&&h instanceof Uint8Array?"uint8array":o.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(h){if(!o[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(h){var m,g,E="";for(g=0;g<(h||"").length;g++)E+="\\x"+((m=h.charCodeAt(g))<16?"0":"")+m.toString(16).toUpperCase();return E},s.delay=function(h,m,g){setImmediate(function(){h.apply(g||null,m||[])})},s.inherits=function(h,m){function g(){}g.prototype=m.prototype,h.prototype=new g},s.extend=function(){var h,m,g={};for(h=0;h<arguments.length;h++)for(m in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],m)&&g[m]===void 0&&(g[m]=arguments[h][m]);return g},s.prepareContent=function(h,m,g,E,k){return c.Promise.resolve(m).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(w,O){var A=new FileReader;A.onload=function(L){w(L.target.result)},A.onerror=function(L){O(L.target.error)},A.readAsArrayBuffer(T)}):T}).then(function(T){var w=s.getTypeOf(T);return w?(w==="arraybuffer"?T=s.transformTo("uint8array",T):w==="string"&&(k?T=l.decode(T):g&&E!==!0&&(T=function(O){return _(O,o.uint8array?new Uint8Array(O.length):new Array(O.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,a,s){var o=n("./reader/readerFor"),l=n("./utils"),i=n("./signature"),c=n("./zipEntry"),d=n("./support");function _(u){this.files=[],this.loadOptions=u}_.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(p)+", expected "+l.pretty(u)+")")}},isSignature:function(u,p){var f=this.reader.index;this.reader.setIndex(u);var v=this.reader.readString(4)===p;return this.reader.setIndex(f),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),p=d.uint8array?"uint8array":"array",f=l.transformTo(p,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,p,f,v=this.zip64EndOfCentralSize-44;0<v;)u=this.reader.readInt(2),p=this.reader.readInt(4),f=this.reader.readData(p),this.zip64ExtensibleData[u]={id:u,length:p,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,p;for(u=0;u<this.files.length;u++)p=this.files[u],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(u=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var p=u;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var v=p-f;if(0<v)this.isSignature(p,i.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(u){this.reader=o(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,a,s){var o=n("./reader/readerFor"),l=n("./utils"),i=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),_=n("./compressions"),u=n("./support");function p(f,v){this.options=f,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var v,h;if(f.skip(22),this.fileNameLength=f.readInt(2),h=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(m){for(var g in _)if(Object.prototype.hasOwnProperty.call(_,g)&&_[g].magic===m)return _[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,v,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var v=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(v),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var v,h,m,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)v=f.readInt(2),h=f.readInt(2),m=f.readData(h),this.extraFields[v]={id:v,length:h,value:m};f.setIndex(g)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var h=l.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var g=l.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var v=o(f.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:d.utf8decode(v.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var v=o(f.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:d.utf8decode(v.readData(f.length-5))}return null}},a.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,a,s){function o(v,h,m){this.name=v,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=h,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var l=n("./stream/StreamHelper"),i=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),_=n("./stream/GenericWorker");o.prototype={internalStream:function(v){var h=null,m="string";try{if(!v)throw new Error("No output type specified.");var g=(m=v.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),h=this._decompressWorker();var E=!this._dataBinary;E&&!g&&(h=h.pipe(new c.Utf8EncodeWorker)),!E&&g&&(h=h.pipe(new c.Utf8DecodeWorker))}catch(k){(h=new _("error")).error(k)}return new l(h,m,"")},async:function(v,h){return this.internalStream(v).accumulate(h)},nodeStream:function(v,h){return this.internalStream(v||"nodebuffer").toNodejsStream(h)},_compressWorker:function(v,h){if(this._data instanceof d&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(m,v,h)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof _?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)o.prototype[u[f]]=p;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,a,s){(function(o){var l,i,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var d=0,_=new c(v),u=o.document.createTextNode("");_.observe(u,{characterData:!0}),l=function(){u.data=d=++d%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var h=o.document.createElement("script");h.onreadystatechange=function(){v(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},o.document.documentElement.appendChild(h)}:function(){setTimeout(v,0)};else{var p=new o.MessageChannel;p.port1.onmessage=v,l=function(){p.port2.postMessage(0)}}var f=[];function v(){var h,m;i=!0;for(var g=f.length;g;){for(m=f,f=[],h=-1;++h<g;)m[h]();g=f.length}i=!1}a.exports=function(h){f.push(h)!==1||i||l()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,a,s){var o=n("immediate");function l(){}var i={},c=["REJECTED"],d=["FULFILLED"],_=["PENDING"];function u(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,g!==l&&h(this,g)}function p(g,E,k){this.promise=g,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function f(g,E,k){o(function(){var T;try{T=E(k)}catch(w){return i.reject(g,w)}T===g?i.reject(g,new TypeError("Cannot resolve promise with itself")):i.resolve(g,T)})}function v(g){var E=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof E=="function")return function(){E.apply(g,arguments)}}function h(g,E){var k=!1;function T(A){k||(k=!0,i.reject(g,A))}function w(A){k||(k=!0,i.resolve(g,A))}var O=m(function(){E(w,T)});O.status==="error"&&T(O.value)}function m(g,E){var k={};try{k.value=g(E),k.status="success"}catch(T){k.status="error",k.value=T}return k}(a.exports=u).prototype.finally=function(g){if(typeof g!="function")return this;var E=this.constructor;return this.then(function(k){return E.resolve(g()).then(function(){return k})},function(k){return E.resolve(g()).then(function(){throw k})})},u.prototype.catch=function(g){return this.then(null,g)},u.prototype.then=function(g,E){if(typeof g!="function"&&this.state===d||typeof E!="function"&&this.state===c)return this;var k=new this.constructor(l);return this.state!==_?f(k,this.state===d?g:E,this.outcome):this.queue.push(new p(k,g,E)),k},p.prototype.callFulfilled=function(g){i.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){i.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},i.resolve=function(g,E){var k=m(v,E);if(k.status==="error")return i.reject(g,k.value);var T=k.value;if(T)h(g,T);else{g.state=d,g.outcome=E;for(var w=-1,O=g.queue.length;++w<O;)g.queue[w].callFulfilled(E)}return g},i.reject=function(g,E){g.state=c,g.outcome=E;for(var k=-1,T=g.queue.length;++k<T;)g.queue[k].callRejected(E);return g},u.resolve=function(g){return g instanceof this?g:i.resolve(new this(l),g)},u.reject=function(g){var E=new this(l);return i.reject(E,g)},u.all=function(g){var E=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=g.length,T=!1;if(!k)return this.resolve([]);for(var w=new Array(k),O=0,A=-1,L=new this(l);++A<k;)B(g[A],A);return L;function B(U,j){E.resolve(U).then(function(N){w[j]=N,++O!==k||T||(T=!0,i.resolve(L,w))},function(N){T||(T=!0,i.reject(L,N))})}},u.race=function(g){var E=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=g.length,T=!1;if(!k)return this.resolve([]);for(var w=-1,O=new this(l);++w<k;)A=g[w],E.resolve(A).then(function(L){T||(T=!0,i.resolve(O,L))},function(L){T||(T=!0,i.reject(O,L))});var A;return O}},{immediate:36}],38:[function(n,a,s){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,a,s){var o=n("./zlib/deflate"),l=n("./utils/common"),i=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),_=Object.prototype.toString,u=0,p=-1,f=0,v=8;function h(g){if(!(this instanceof h))return new h(g);this.options=l.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var k=o.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(k!==u)throw new Error(c[k]);if(E.header&&o.deflateSetHeader(this.strm,E.header),E.dictionary){var T;if(T=typeof E.dictionary=="string"?i.string2buf(E.dictionary):_.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(k=o.deflateSetDictionary(this.strm,T))!==u)throw new Error(c[k]);this._dict_set=!0}}function m(g,E){var k=new h(E);if(k.push(g,!0),k.err)throw k.msg||c[k.err];return k.result}h.prototype.push=function(g,E){var k,T,w=this.strm,O=this.options.chunkSize;if(this.ended)return!1;T=E===~~E?E:E===!0?4:0,typeof g=="string"?w.input=i.string2buf(g):_.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new l.Buf8(O),w.next_out=0,w.avail_out=O),(k=o.deflate(w,T))!==1&&k!==u)return this.onEnd(k),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(l.shrinkBuf(w.output,w.next_out))):this.onData(l.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&k!==1);return T===4?(k=o.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===u):T!==2||(this.onEnd(u),!(w.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=h,s.deflate=m,s.deflateRaw=function(g,E){return(E=E||{}).raw=!0,m(g,E)},s.gzip=function(g,E){return(E=E||{}).gzip=!0,m(g,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,a,s){var o=n("./zlib/inflate"),l=n("./utils/common"),i=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),_=n("./zlib/zstream"),u=n("./zlib/gzheader"),p=Object.prototype.toString;function f(h){if(!(this instanceof f))return new f(h);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||h&&h.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,m.windowBits);if(g!==c.Z_OK)throw new Error(d[g]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}function v(h,m){var g=new f(m);if(g.push(h,!0),g.err)throw g.msg||d[g.err];return g.result}f.prototype.push=function(h,m){var g,E,k,T,w,O,A=this.strm,L=this.options.chunkSize,B=this.options.dictionary,U=!1;if(this.ended)return!1;E=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof h=="string"?A.input=i.binstring2buf(h):p.call(h)==="[object ArrayBuffer]"?A.input=new Uint8Array(h):A.input=h,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(L),A.next_out=0,A.avail_out=L),(g=o.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&B&&(O=typeof B=="string"?i.string2buf(B):p.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,g=o.inflateSetDictionary(this.strm,O)),g===c.Z_BUF_ERROR&&U===!0&&(g=c.Z_OK,U=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&g!==c.Z_STREAM_END&&(A.avail_in!==0||E!==c.Z_FINISH&&E!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=i.utf8border(A.output,A.next_out),T=A.next_out-k,w=i.buf2string(A.output,k),A.next_out=T,A.avail_out=L-T,T&&l.arraySet(A.output,A.output,k,T,0),this.onData(w)):this.onData(l.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(U=!0)}while((0<A.avail_in||A.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(E=c.Z_FINISH),E===c.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):E!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},s.Inflate=f,s.inflate=v,s.inflateRaw=function(h,m){return(m=m||{}).raw=!0,v(h,m)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var _=d.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var u in _)_.hasOwnProperty(u)&&(c[u]=_[u])}}return c},s.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var l={arraySet:function(c,d,_,u,p){if(d.subarray&&c.subarray)c.set(d.subarray(_,_+u),p);else for(var f=0;f<u;f++)c[p+f]=d[_+f]},flattenChunks:function(c){var d,_,u,p,f,v;for(d=u=0,_=c.length;d<_;d++)u+=c[d].length;for(v=new Uint8Array(u),d=p=0,_=c.length;d<_;d++)f=c[d],v.set(f,p),p+=f.length;return v}},i={arraySet:function(c,d,_,u,p){for(var f=0;f<u;f++)c[p+f]=d[_+f]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,i))},s.setTyped(o)},{}],42:[function(n,a,s){var o=n("./common"),l=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var c=new o.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function _(u,p){if(p<65537&&(u.subarray&&i||!u.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(u,p));for(var f="",v=0;v<p;v++)f+=String.fromCharCode(u[v]);return f}c[254]=c[254]=1,s.string2buf=function(u){var p,f,v,h,m,g=u.length,E=0;for(h=0;h<g;h++)(64512&(f=u.charCodeAt(h)))==55296&&h+1<g&&(64512&(v=u.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),h++),E+=f<128?1:f<2048?2:f<65536?3:4;for(p=new o.Buf8(E),h=m=0;m<E;h++)(64512&(f=u.charCodeAt(h)))==55296&&h+1<g&&(64512&(v=u.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),h++),f<128?p[m++]=f:(f<2048?p[m++]=192|f>>>6:(f<65536?p[m++]=224|f>>>12:(p[m++]=240|f>>>18,p[m++]=128|f>>>12&63),p[m++]=128|f>>>6&63),p[m++]=128|63&f);return p},s.buf2binstring=function(u){return _(u,u.length)},s.binstring2buf=function(u){for(var p=new o.Buf8(u.length),f=0,v=p.length;f<v;f++)p[f]=u.charCodeAt(f);return p},s.buf2string=function(u,p){var f,v,h,m,g=p||u.length,E=new Array(2*g);for(f=v=0;f<g;)if((h=u[f++])<128)E[v++]=h;else if(4<(m=c[h]))E[v++]=65533,f+=m-1;else{for(h&=m===2?31:m===3?15:7;1<m&&f<g;)h=h<<6|63&u[f++],m--;1<m?E[v++]=65533:h<65536?E[v++]=h:(h-=65536,E[v++]=55296|h>>10&1023,E[v++]=56320|1023&h)}return _(E,v)},s.utf8border=function(u,p){var f;for((p=p||u.length)>u.length&&(p=u.length),f=p-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?p:f+c[u[f]]>p?f:p}},{"./common":41}],43:[function(n,a,s){a.exports=function(o,l,i,c){for(var d=65535&o|0,_=o>>>16&65535|0,u=0;i!==0;){for(i-=u=2e3<i?2e3:i;_=_+(d=d+l[c++]|0)|0,--u;);d%=65521,_%=65521}return d|_<<16|0}},{}],44:[function(n,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,a,s){var o=function(){for(var l,i=[],c=0;c<256;c++){l=c;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;i[c]=l}return i}();a.exports=function(l,i,c,d){var _=o,u=d+c;l^=-1;for(var p=d;p<u;p++)l=l>>>8^_[255&(l^i[p])];return-1^l}},{}],46:[function(n,a,s){var o,l=n("../utils/common"),i=n("./trees"),c=n("./adler32"),d=n("./crc32"),_=n("./messages"),u=0,p=4,f=0,v=-2,h=-1,m=4,g=2,E=8,k=9,T=286,w=30,O=19,A=2*T+1,L=15,B=3,U=258,j=U+B+1,N=42,F=113,S=1,q=2,ue=3,te=4;function ge(b,Z){return b.msg=_[Z],Z}function re(b){return(b<<1)-(4<b?9:0)}function me(b){for(var Z=b.length;0<=--Z;)b[Z]=0}function z(b){var Z=b.state,W=Z.pending;W>b.avail_out&&(W=b.avail_out),W!==0&&(l.arraySet(b.output,Z.pending_buf,Z.pending_out,W,b.next_out),b.next_out+=W,Z.pending_out+=W,b.total_out+=W,b.avail_out-=W,Z.pending-=W,Z.pending===0&&(Z.pending_out=0))}function Y(b,Z){i._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,Z),b.block_start=b.strstart,z(b.strm)}function he(b,Z){b.pending_buf[b.pending++]=Z}function _e(b,Z){b.pending_buf[b.pending++]=Z>>>8&255,b.pending_buf[b.pending++]=255&Z}function ce(b,Z){var W,C,R=b.max_chain_length,G=b.strstart,J=b.prev_length,ee=b.nice_match,V=b.strstart>b.w_size-j?b.strstart-(b.w_size-j):0,oe=b.window,de=b.w_mask,ie=b.prev,pe=b.strstart+U,Se=oe[G+J-1],ye=oe[G+J];b.prev_length>=b.good_match&&(R>>=2),ee>b.lookahead&&(ee=b.lookahead);do if(oe[(W=Z)+J]===ye&&oe[W+J-1]===Se&&oe[W]===oe[G]&&oe[++W]===oe[G+1]){G+=2,W++;do;while(oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&oe[++G]===oe[++W]&&G<pe);if(C=U-(pe-G),G=pe-U,J<C){if(b.match_start=Z,ee<=(J=C))break;Se=oe[G+J-1],ye=oe[G+J]}}while((Z=ie[Z&de])>V&&--R!=0);return J<=b.lookahead?J:b.lookahead}function Te(b){var Z,W,C,R,G,J,ee,V,oe,de,ie=b.w_size;do{if(R=b.window_size-b.lookahead-b.strstart,b.strstart>=ie+(ie-j)){for(l.arraySet(b.window,b.window,ie,ie,0),b.match_start-=ie,b.strstart-=ie,b.block_start-=ie,Z=W=b.hash_size;C=b.head[--Z],b.head[Z]=ie<=C?C-ie:0,--W;);for(Z=W=ie;C=b.prev[--Z],b.prev[Z]=ie<=C?C-ie:0,--W;);R+=ie}if(b.strm.avail_in===0)break;if(J=b.strm,ee=b.window,V=b.strstart+b.lookahead,oe=R,de=void 0,de=J.avail_in,oe<de&&(de=oe),W=de===0?0:(J.avail_in-=de,l.arraySet(ee,J.input,J.next_in,de,V),J.state.wrap===1?J.adler=c(J.adler,ee,de,V):J.state.wrap===2&&(J.adler=d(J.adler,ee,de,V)),J.next_in+=de,J.total_in+=de,de),b.lookahead+=W,b.lookahead+b.insert>=B)for(G=b.strstart-b.insert,b.ins_h=b.window[G],b.ins_h=(b.ins_h<<b.hash_shift^b.window[G+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[G+B-1])&b.hash_mask,b.prev[G&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=G,G++,b.insert--,!(b.lookahead+b.insert<B)););}while(b.lookahead<j&&b.strm.avail_in!==0)}function Ne(b,Z){for(var W,C;;){if(b.lookahead<j){if(Te(b),b.lookahead<j&&Z===u)return S;if(b.lookahead===0)break}if(W=0,b.lookahead>=B&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+B-1])&b.hash_mask,W=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),W!==0&&b.strstart-W<=b.w_size-j&&(b.match_length=ce(b,W)),b.match_length>=B)if(C=i._tr_tally(b,b.strstart-b.match_start,b.match_length-B),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=B){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+B-1])&b.hash_mask,W=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else C=i._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(C&&(Y(b,!1),b.strm.avail_out===0))return S}return b.insert=b.strstart<B-1?b.strstart:B-1,Z===p?(Y(b,!0),b.strm.avail_out===0?ue:te):b.last_lit&&(Y(b,!1),b.strm.avail_out===0)?S:q}function Ee(b,Z){for(var W,C,R;;){if(b.lookahead<j){if(Te(b),b.lookahead<j&&Z===u)return S;if(b.lookahead===0)break}if(W=0,b.lookahead>=B&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+B-1])&b.hash_mask,W=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=B-1,W!==0&&b.prev_length<b.max_lazy_match&&b.strstart-W<=b.w_size-j&&(b.match_length=ce(b,W),b.match_length<=5&&(b.strategy===1||b.match_length===B&&4096<b.strstart-b.match_start)&&(b.match_length=B-1)),b.prev_length>=B&&b.match_length<=b.prev_length){for(R=b.strstart+b.lookahead-B,C=i._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-B),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=R&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+B-1])&b.hash_mask,W=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=B-1,b.strstart++,C&&(Y(b,!1),b.strm.avail_out===0))return S}else if(b.match_available){if((C=i._tr_tally(b,0,b.window[b.strstart-1]))&&Y(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return S}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(C=i._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<B-1?b.strstart:B-1,Z===p?(Y(b,!0),b.strm.avail_out===0?ue:te):b.last_lit&&(Y(b,!1),b.strm.avail_out===0)?S:q}function be(b,Z,W,C,R){this.good_length=b,this.max_lazy=Z,this.nice_length=W,this.max_chain=C,this.func=R}function $e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*w+1)),this.bl_tree=new l.Buf16(2*(2*O+1)),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(L+1),this.heap=new l.Buf16(2*T+1),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*T+1),me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(b){var Z;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=g,(Z=b.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?N:F,b.adler=Z.wrap===2?0:1,Z.last_flush=u,i._tr_init(Z),f):ge(b,v)}function xe(b){var Z=Oe(b);return Z===f&&function(W){W.window_size=2*W.w_size,me(W.head),W.max_lazy_match=o[W.level].max_lazy,W.good_match=o[W.level].good_length,W.nice_match=o[W.level].nice_length,W.max_chain_length=o[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=B-1,W.match_available=0,W.ins_h=0}(b.state),Z}function Le(b,Z,W,C,R,G){if(!b)return v;var J=1;if(Z===h&&(Z=6),C<0?(J=0,C=-C):15<C&&(J=2,C-=16),R<1||k<R||W!==E||C<8||15<C||Z<0||9<Z||G<0||m<G)return ge(b,v);C===8&&(C=9);var ee=new $e;return(b.state=ee).strm=b,ee.wrap=J,ee.gzhead=null,ee.w_bits=C,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=R+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+B-1)/B),ee.window=new l.Buf8(2*ee.w_size),ee.head=new l.Buf16(ee.hash_size),ee.prev=new l.Buf16(ee.w_size),ee.lit_bufsize=1<<R+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new l.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=Z,ee.strategy=G,ee.method=W,xe(b)}o=[new be(0,0,0,0,function(b,Z){var W=65535;for(W>b.pending_buf_size-5&&(W=b.pending_buf_size-5);;){if(b.lookahead<=1){if(Te(b),b.lookahead===0&&Z===u)return S;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var C=b.block_start+W;if((b.strstart===0||b.strstart>=C)&&(b.lookahead=b.strstart-C,b.strstart=C,Y(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-j&&(Y(b,!1),b.strm.avail_out===0))return S}return b.insert=0,Z===p?(Y(b,!0),b.strm.avail_out===0?ue:te):(b.strstart>b.block_start&&(Y(b,!1),b.strm.avail_out),S)}),new be(4,4,8,4,Ne),new be(4,5,16,8,Ne),new be(4,6,32,32,Ne),new be(4,4,16,16,Ee),new be(8,16,32,32,Ee),new be(8,16,128,128,Ee),new be(8,32,128,256,Ee),new be(32,128,258,1024,Ee),new be(32,258,258,4096,Ee)],s.deflateInit=function(b,Z){return Le(b,Z,E,15,8,0)},s.deflateInit2=Le,s.deflateReset=xe,s.deflateResetKeep=Oe,s.deflateSetHeader=function(b,Z){return b&&b.state?b.state.wrap!==2?v:(b.state.gzhead=Z,f):v},s.deflate=function(b,Z){var W,C,R,G;if(!b||!b.state||5<Z||Z<0)return b?ge(b,v):v;if(C=b.state,!b.output||!b.input&&b.avail_in!==0||C.status===666&&Z!==p)return ge(b,b.avail_out===0?-5:v);if(C.strm=b,W=C.last_flush,C.last_flush=Z,C.status===N)if(C.wrap===2)b.adler=0,he(C,31),he(C,139),he(C,8),C.gzhead?(he(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),he(C,255&C.gzhead.time),he(C,C.gzhead.time>>8&255),he(C,C.gzhead.time>>16&255),he(C,C.gzhead.time>>24&255),he(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),he(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(he(C,255&C.gzhead.extra.length),he(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(b.adler=d(b.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(he(C,0),he(C,0),he(C,0),he(C,0),he(C,0),he(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),he(C,3),C.status=F);else{var J=E+(C.w_bits-8<<4)<<8;J|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(J|=32),J+=31-J%31,C.status=F,_e(C,J),C.strstart!==0&&(_e(C,b.adler>>>16),_e(C,65535&b.adler)),b.adler=1}if(C.status===69)if(C.gzhead.extra){for(R=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),z(b),R=C.pending,C.pending!==C.pending_buf_size));)he(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){R=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),z(b),R=C.pending,C.pending===C.pending_buf_size)){G=1;break}G=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,he(C,G)}while(G!==0);C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),G===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){R=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),z(b),R=C.pending,C.pending===C.pending_buf_size)){G=1;break}G=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,he(C,G)}while(G!==0);C.gzhead.hcrc&&C.pending>R&&(b.adler=d(b.adler,C.pending_buf,C.pending-R,R)),G===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&z(b),C.pending+2<=C.pending_buf_size&&(he(C,255&b.adler),he(C,b.adler>>8&255),b.adler=0,C.status=F)):C.status=F),C.pending!==0){if(z(b),b.avail_out===0)return C.last_flush=-1,f}else if(b.avail_in===0&&re(Z)<=re(W)&&Z!==p)return ge(b,-5);if(C.status===666&&b.avail_in!==0)return ge(b,-5);if(b.avail_in!==0||C.lookahead!==0||Z!==u&&C.status!==666){var ee=C.strategy===2?function(V,oe){for(var de;;){if(V.lookahead===0&&(Te(V),V.lookahead===0)){if(oe===u)return S;break}if(V.match_length=0,de=i._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,de&&(Y(V,!1),V.strm.avail_out===0))return S}return V.insert=0,oe===p?(Y(V,!0),V.strm.avail_out===0?ue:te):V.last_lit&&(Y(V,!1),V.strm.avail_out===0)?S:q}(C,Z):C.strategy===3?function(V,oe){for(var de,ie,pe,Se,ye=V.window;;){if(V.lookahead<=U){if(Te(V),V.lookahead<=U&&oe===u)return S;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=B&&0<V.strstart&&(ie=ye[pe=V.strstart-1])===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]){Se=V.strstart+U;do;while(ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&ie===ye[++pe]&&pe<Se);V.match_length=U-(Se-pe),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=B?(de=i._tr_tally(V,1,V.match_length-B),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(de=i._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),de&&(Y(V,!1),V.strm.avail_out===0))return S}return V.insert=0,oe===p?(Y(V,!0),V.strm.avail_out===0?ue:te):V.last_lit&&(Y(V,!1),V.strm.avail_out===0)?S:q}(C,Z):o[C.level].func(C,Z);if(ee!==ue&&ee!==te||(C.status=666),ee===S||ee===ue)return b.avail_out===0&&(C.last_flush=-1),f;if(ee===q&&(Z===1?i._tr_align(C):Z!==5&&(i._tr_stored_block(C,0,0,!1),Z===3&&(me(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),z(b),b.avail_out===0))return C.last_flush=-1,f}return Z!==p?f:C.wrap<=0?1:(C.wrap===2?(he(C,255&b.adler),he(C,b.adler>>8&255),he(C,b.adler>>16&255),he(C,b.adler>>24&255),he(C,255&b.total_in),he(C,b.total_in>>8&255),he(C,b.total_in>>16&255),he(C,b.total_in>>24&255)):(_e(C,b.adler>>>16),_e(C,65535&b.adler)),z(b),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?f:1)},s.deflateEnd=function(b){var Z;return b&&b.state?(Z=b.state.status)!==N&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==F&&Z!==666?ge(b,v):(b.state=null,Z===F?ge(b,-3):f):v},s.deflateSetDictionary=function(b,Z){var W,C,R,G,J,ee,V,oe,de=Z.length;if(!b||!b.state||(G=(W=b.state).wrap)===2||G===1&&W.status!==N||W.lookahead)return v;for(G===1&&(b.adler=c(b.adler,Z,de,0)),W.wrap=0,de>=W.w_size&&(G===0&&(me(W.head),W.strstart=0,W.block_start=0,W.insert=0),oe=new l.Buf8(W.w_size),l.arraySet(oe,Z,de-W.w_size,W.w_size,0),Z=oe,de=W.w_size),J=b.avail_in,ee=b.next_in,V=b.input,b.avail_in=de,b.next_in=0,b.input=Z,Te(W);W.lookahead>=B;){for(C=W.strstart,R=W.lookahead-(B-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[C+B-1])&W.hash_mask,W.prev[C&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=C,C++,--R;);W.strstart=C,W.lookahead=B-1,Te(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=B-1,W.match_available=0,b.next_in=ee,b.input=V,b.avail_in=J,W.wrap=G,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,a,s){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,a,s){a.exports=function(o,l){var i,c,d,_,u,p,f,v,h,m,g,E,k,T,w,O,A,L,B,U,j,N,F,S,q;i=o.state,c=o.next_in,S=o.input,d=c+(o.avail_in-5),_=o.next_out,q=o.output,u=_-(l-o.avail_out),p=_+(o.avail_out-257),f=i.dmax,v=i.wsize,h=i.whave,m=i.wnext,g=i.window,E=i.hold,k=i.bits,T=i.lencode,w=i.distcode,O=(1<<i.lenbits)-1,A=(1<<i.distbits)-1;e:do{k<15&&(E+=S[c++]<<k,k+=8,E+=S[c++]<<k,k+=8),L=T[E&O];t:for(;;){if(E>>>=B=L>>>24,k-=B,(B=L>>>16&255)===0)q[_++]=65535&L;else{if(!(16&B)){if(!(64&B)){L=T[(65535&L)+(E&(1<<B)-1)];continue t}if(32&B){i.mode=12;break e}o.msg="invalid literal/length code",i.mode=30;break e}U=65535&L,(B&=15)&&(k<B&&(E+=S[c++]<<k,k+=8),U+=E&(1<<B)-1,E>>>=B,k-=B),k<15&&(E+=S[c++]<<k,k+=8,E+=S[c++]<<k,k+=8),L=w[E&A];n:for(;;){if(E>>>=B=L>>>24,k-=B,!(16&(B=L>>>16&255))){if(!(64&B)){L=w[(65535&L)+(E&(1<<B)-1)];continue n}o.msg="invalid distance code",i.mode=30;break e}if(j=65535&L,k<(B&=15)&&(E+=S[c++]<<k,(k+=8)<B&&(E+=S[c++]<<k,k+=8)),f<(j+=E&(1<<B)-1)){o.msg="invalid distance too far back",i.mode=30;break e}if(E>>>=B,k-=B,(B=_-u)<j){if(h<(B=j-B)&&i.sane){o.msg="invalid distance too far back",i.mode=30;break e}if(F=g,(N=0)===m){if(N+=v-B,B<U){for(U-=B;q[_++]=g[N++],--B;);N=_-j,F=q}}else if(m<B){if(N+=v+m-B,(B-=m)<U){for(U-=B;q[_++]=g[N++],--B;);if(N=0,m<U){for(U-=B=m;q[_++]=g[N++],--B;);N=_-j,F=q}}}else if(N+=m-B,B<U){for(U-=B;q[_++]=g[N++],--B;);N=_-j,F=q}for(;2<U;)q[_++]=F[N++],q[_++]=F[N++],q[_++]=F[N++],U-=3;U&&(q[_++]=F[N++],1<U&&(q[_++]=F[N++]))}else{for(N=_-j;q[_++]=q[N++],q[_++]=q[N++],q[_++]=q[N++],2<(U-=3););U&&(q[_++]=q[N++],1<U&&(q[_++]=q[N++]))}break}}break}}while(c<d&&_<p);c-=U=k>>3,E&=(1<<(k-=U<<3))-1,o.next_in=c,o.next_out=_,o.avail_in=c<d?d-c+5:5-(c-d),o.avail_out=_<p?p-_+257:257-(_-p),i.hold=E,i.bits=k}},{}],49:[function(n,a,s){var o=n("../utils/common"),l=n("./adler32"),i=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),_=1,u=2,p=0,f=-2,v=1,h=852,m=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(N){var F;return N&&N.state?(F=N.state,N.total_in=N.total_out=F.total=0,N.msg="",F.wrap&&(N.adler=1&F.wrap),F.mode=v,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new o.Buf32(h),F.distcode=F.distdyn=new o.Buf32(m),F.sane=1,F.back=-1,p):f}function T(N){var F;return N&&N.state?((F=N.state).wsize=0,F.whave=0,F.wnext=0,k(N)):f}function w(N,F){var S,q;return N&&N.state?(q=N.state,F<0?(S=0,F=-F):(S=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?f:(q.window!==null&&q.wbits!==F&&(q.window=null),q.wrap=S,q.wbits=F,T(N))):f}function O(N,F){var S,q;return N?(q=new E,(N.state=q).window=null,(S=w(N,F))!==p&&(N.state=null),S):f}var A,L,B=!0;function U(N){if(B){var F;for(A=new o.Buf32(512),L=new o.Buf32(32),F=0;F<144;)N.lens[F++]=8;for(;F<256;)N.lens[F++]=9;for(;F<280;)N.lens[F++]=7;for(;F<288;)N.lens[F++]=8;for(d(_,N.lens,0,288,A,0,N.work,{bits:9}),F=0;F<32;)N.lens[F++]=5;d(u,N.lens,0,32,L,0,N.work,{bits:5}),B=!1}N.lencode=A,N.lenbits=9,N.distcode=L,N.distbits=5}function j(N,F,S,q){var ue,te=N.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new o.Buf8(te.wsize)),q>=te.wsize?(o.arraySet(te.window,F,S-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(q<(ue=te.wsize-te.wnext)&&(ue=q),o.arraySet(te.window,F,S-q,ue,te.wnext),(q-=ue)?(o.arraySet(te.window,F,S-q,q,0),te.wnext=q,te.whave=te.wsize):(te.wnext+=ue,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=ue))),0}s.inflateReset=T,s.inflateReset2=w,s.inflateResetKeep=k,s.inflateInit=function(N){return O(N,15)},s.inflateInit2=O,s.inflate=function(N,F){var S,q,ue,te,ge,re,me,z,Y,he,_e,ce,Te,Ne,Ee,be,$e,Oe,xe,Le,b,Z,W,C,R=0,G=new o.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return f;(S=N.state).mode===12&&(S.mode=13),ge=N.next_out,ue=N.output,me=N.avail_out,te=N.next_in,q=N.input,re=N.avail_in,z=S.hold,Y=S.bits,he=re,_e=me,Z=p;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=13;break}for(;Y<16;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(2&S.wrap&&z===35615){G[S.check=0]=255&z,G[1]=z>>>8&255,S.check=i(S.check,G,2,0),Y=z=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&z)<<8)+(z>>8))%31){N.msg="incorrect header check",S.mode=30;break}if((15&z)!=8){N.msg="unknown compression method",S.mode=30;break}if(Y-=4,b=8+(15&(z>>>=4)),S.wbits===0)S.wbits=b;else if(b>S.wbits){N.msg="invalid window size",S.mode=30;break}S.dmax=1<<b,N.adler=S.check=1,S.mode=512&z?10:12,Y=z=0;break;case 2:for(;Y<16;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(S.flags=z,(255&S.flags)!=8){N.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){N.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=z>>8&1),512&S.flags&&(G[0]=255&z,G[1]=z>>>8&255,S.check=i(S.check,G,2,0)),Y=z=0,S.mode=3;case 3:for(;Y<32;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.head&&(S.head.time=z),512&S.flags&&(G[0]=255&z,G[1]=z>>>8&255,G[2]=z>>>16&255,G[3]=z>>>24&255,S.check=i(S.check,G,4,0)),Y=z=0,S.mode=4;case 4:for(;Y<16;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.head&&(S.head.xflags=255&z,S.head.os=z>>8),512&S.flags&&(G[0]=255&z,G[1]=z>>>8&255,S.check=i(S.check,G,2,0)),Y=z=0,S.mode=5;case 5:if(1024&S.flags){for(;Y<16;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.length=z,S.head&&(S.head.extra_len=z),512&S.flags&&(G[0]=255&z,G[1]=z>>>8&255,S.check=i(S.check,G,2,0)),Y=z=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(re<(ce=S.length)&&(ce=re),ce&&(S.head&&(b=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,q,te,ce,b)),512&S.flags&&(S.check=i(S.check,q,ce,te)),re-=ce,te+=ce,S.length-=ce),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(re===0)break e;for(ce=0;b=q[te+ce++],S.head&&b&&S.length<65536&&(S.head.name+=String.fromCharCode(b)),b&&ce<re;);if(512&S.flags&&(S.check=i(S.check,q,ce,te)),re-=ce,te+=ce,b)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(re===0)break e;for(ce=0;b=q[te+ce++],S.head&&b&&S.length<65536&&(S.head.comment+=String.fromCharCode(b)),b&&ce<re;);if(512&S.flags&&(S.check=i(S.check,q,ce,te)),re-=ce,te+=ce,b)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;Y<16;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(z!==(65535&S.check)){N.msg="header crc mismatch",S.mode=30;break}Y=z=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),N.adler=S.check=0,S.mode=12;break;case 10:for(;Y<32;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}N.adler=S.check=g(z),Y=z=0,S.mode=11;case 11:if(S.havedict===0)return N.next_out=ge,N.avail_out=me,N.next_in=te,N.avail_in=re,S.hold=z,S.bits=Y,2;N.adler=S.check=1,S.mode=12;case 12:if(F===5||F===6)break e;case 13:if(S.last){z>>>=7&Y,Y-=7&Y,S.mode=27;break}for(;Y<3;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}switch(S.last=1&z,Y-=1,3&(z>>>=1)){case 0:S.mode=14;break;case 1:if(U(S),S.mode=20,F!==6)break;z>>>=2,Y-=2;break e;case 2:S.mode=17;break;case 3:N.msg="invalid block type",S.mode=30}z>>>=2,Y-=2;break;case 14:for(z>>>=7&Y,Y-=7&Y;Y<32;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if((65535&z)!=(z>>>16^65535)){N.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&z,Y=z=0,S.mode=15,F===6)break e;case 15:S.mode=16;case 16:if(ce=S.length){if(re<ce&&(ce=re),me<ce&&(ce=me),ce===0)break e;o.arraySet(ue,q,te,ce,ge),re-=ce,te+=ce,me-=ce,ge+=ce,S.length-=ce;break}S.mode=12;break;case 17:for(;Y<14;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(S.nlen=257+(31&z),z>>>=5,Y-=5,S.ndist=1+(31&z),z>>>=5,Y-=5,S.ncode=4+(15&z),z>>>=4,Y-=4,286<S.nlen||30<S.ndist){N.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;Y<3;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.lens[J[S.have++]]=7&z,z>>>=3,Y-=3}for(;S.have<19;)S.lens[J[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,W={bits:S.lenbits},Z=d(0,S.lens,0,19,S.lencode,0,S.work,W),S.lenbits=W.bits,Z){N.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;be=(R=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,$e=65535&R,!((Ee=R>>>24)<=Y);){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if($e<16)z>>>=Ee,Y-=Ee,S.lens[S.have++]=$e;else{if($e===16){for(C=Ee+2;Y<C;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(z>>>=Ee,Y-=Ee,S.have===0){N.msg="invalid bit length repeat",S.mode=30;break}b=S.lens[S.have-1],ce=3+(3&z),z>>>=2,Y-=2}else if($e===17){for(C=Ee+3;Y<C;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}Y-=Ee,b=0,ce=3+(7&(z>>>=Ee)),z>>>=3,Y-=3}else{for(C=Ee+7;Y<C;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}Y-=Ee,b=0,ce=11+(127&(z>>>=Ee)),z>>>=7,Y-=7}if(S.have+ce>S.nlen+S.ndist){N.msg="invalid bit length repeat",S.mode=30;break}for(;ce--;)S.lens[S.have++]=b}}if(S.mode===30)break;if(S.lens[256]===0){N.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,W={bits:S.lenbits},Z=d(_,S.lens,0,S.nlen,S.lencode,0,S.work,W),S.lenbits=W.bits,Z){N.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,W={bits:S.distbits},Z=d(u,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,W),S.distbits=W.bits,Z){N.msg="invalid distances set",S.mode=30;break}if(S.mode=20,F===6)break e;case 20:S.mode=21;case 21:if(6<=re&&258<=me){N.next_out=ge,N.avail_out=me,N.next_in=te,N.avail_in=re,S.hold=z,S.bits=Y,c(N,_e),ge=N.next_out,ue=N.output,me=N.avail_out,te=N.next_in,q=N.input,re=N.avail_in,z=S.hold,Y=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;be=(R=S.lencode[z&(1<<S.lenbits)-1])>>>16&255,$e=65535&R,!((Ee=R>>>24)<=Y);){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(be&&!(240&be)){for(Oe=Ee,xe=be,Le=$e;be=(R=S.lencode[Le+((z&(1<<Oe+xe)-1)>>Oe)])>>>16&255,$e=65535&R,!(Oe+(Ee=R>>>24)<=Y);){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}z>>>=Oe,Y-=Oe,S.back+=Oe}if(z>>>=Ee,Y-=Ee,S.back+=Ee,S.length=$e,be===0){S.mode=26;break}if(32&be){S.back=-1,S.mode=12;break}if(64&be){N.msg="invalid literal/length code",S.mode=30;break}S.extra=15&be,S.mode=22;case 22:if(S.extra){for(C=S.extra;Y<C;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.length+=z&(1<<S.extra)-1,z>>>=S.extra,Y-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;be=(R=S.distcode[z&(1<<S.distbits)-1])>>>16&255,$e=65535&R,!((Ee=R>>>24)<=Y);){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(!(240&be)){for(Oe=Ee,xe=be,Le=$e;be=(R=S.distcode[Le+((z&(1<<Oe+xe)-1)>>Oe)])>>>16&255,$e=65535&R,!(Oe+(Ee=R>>>24)<=Y);){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}z>>>=Oe,Y-=Oe,S.back+=Oe}if(z>>>=Ee,Y-=Ee,S.back+=Ee,64&be){N.msg="invalid distance code",S.mode=30;break}S.offset=$e,S.extra=15&be,S.mode=24;case 24:if(S.extra){for(C=S.extra;Y<C;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}S.offset+=z&(1<<S.extra)-1,z>>>=S.extra,Y-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){N.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(me===0)break e;if(ce=_e-me,S.offset>ce){if((ce=S.offset-ce)>S.whave&&S.sane){N.msg="invalid distance too far back",S.mode=30;break}Te=ce>S.wnext?(ce-=S.wnext,S.wsize-ce):S.wnext-ce,ce>S.length&&(ce=S.length),Ne=S.window}else Ne=ue,Te=ge-S.offset,ce=S.length;for(me<ce&&(ce=me),me-=ce,S.length-=ce;ue[ge++]=Ne[Te++],--ce;);S.length===0&&(S.mode=21);break;case 26:if(me===0)break e;ue[ge++]=S.length,me--,S.mode=21;break;case 27:if(S.wrap){for(;Y<32;){if(re===0)break e;re--,z|=q[te++]<<Y,Y+=8}if(_e-=me,N.total_out+=_e,S.total+=_e,_e&&(N.adler=S.check=S.flags?i(S.check,ue,_e,ge-_e):l(S.check,ue,_e,ge-_e)),_e=me,(S.flags?z:g(z))!==S.check){N.msg="incorrect data check",S.mode=30;break}Y=z=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;Y<32;){if(re===0)break e;re--,z+=q[te++]<<Y,Y+=8}if(z!==(4294967295&S.total)){N.msg="incorrect length check",S.mode=30;break}Y=z=0}S.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return f}return N.next_out=ge,N.avail_out=me,N.next_in=te,N.avail_in=re,S.hold=z,S.bits=Y,(S.wsize||_e!==N.avail_out&&S.mode<30&&(S.mode<27||F!==4))&&j(N,N.output,N.next_out,_e-N.avail_out)?(S.mode=31,-4):(he-=N.avail_in,_e-=N.avail_out,N.total_in+=he,N.total_out+=_e,S.total+=_e,S.wrap&&_e&&(N.adler=S.check=S.flags?i(S.check,ue,_e,N.next_out-_e):l(S.check,ue,_e,N.next_out-_e)),N.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(he==0&&_e===0||F===4)&&Z===p&&(Z=-5),Z)},s.inflateEnd=function(N){if(!N||!N.state)return f;var F=N.state;return F.window&&(F.window=null),N.state=null,p},s.inflateGetHeader=function(N,F){var S;return N&&N.state&&2&(S=N.state).wrap?((S.head=F).done=!1,p):f},s.inflateSetDictionary=function(N,F){var S,q=F.length;return N&&N.state?(S=N.state).wrap!==0&&S.mode!==11?f:S.mode===11&&l(1,F,q,0)!==S.check?-3:j(N,F,q,q)?(S.mode=31,-4):(S.havedict=1,p):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,a,s){var o=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(_,u,p,f,v,h,m,g){var E,k,T,w,O,A,L,B,U,j=g.bits,N=0,F=0,S=0,q=0,ue=0,te=0,ge=0,re=0,me=0,z=0,Y=null,he=0,_e=new o.Buf16(16),ce=new o.Buf16(16),Te=null,Ne=0;for(N=0;N<=15;N++)_e[N]=0;for(F=0;F<f;F++)_e[u[p+F]]++;for(ue=j,q=15;1<=q&&_e[q]===0;q--);if(q<ue&&(ue=q),q===0)return v[h++]=20971520,v[h++]=20971520,g.bits=1,0;for(S=1;S<q&&_e[S]===0;S++);for(ue<S&&(ue=S),N=re=1;N<=15;N++)if(re<<=1,(re-=_e[N])<0)return-1;if(0<re&&(_===0||q!==1))return-1;for(ce[1]=0,N=1;N<15;N++)ce[N+1]=ce[N]+_e[N];for(F=0;F<f;F++)u[p+F]!==0&&(m[ce[u[p+F]]++]=F);if(A=_===0?(Y=Te=m,19):_===1?(Y=l,he-=257,Te=i,Ne-=257,256):(Y=c,Te=d,-1),N=S,O=h,ge=F=z=0,T=-1,w=(me=1<<(te=ue))-1,_===1&&852<me||_===2&&592<me)return 1;for(;;){for(L=N-ge,U=m[F]<A?(B=0,m[F]):m[F]>A?(B=Te[Ne+m[F]],Y[he+m[F]]):(B=96,0),E=1<<N-ge,S=k=1<<te;v[O+(z>>ge)+(k-=E)]=L<<24|B<<16|U|0,k!==0;);for(E=1<<N-1;z&E;)E>>=1;if(E!==0?(z&=E-1,z+=E):z=0,F++,--_e[N]==0){if(N===q)break;N=u[p+m[F]]}if(ue<N&&(z&w)!==T){for(ge===0&&(ge=ue),O+=S,re=1<<(te=N-ge);te+ge<q&&!((re-=_e[te+ge])<=0);)te++,re<<=1;if(me+=1<<te,_===1&&852<me||_===2&&592<me)return 1;v[T=z&w]=ue<<24|te<<16|O-h|0}}return z!==0&&(v[O+z]=N-ge<<24|64<<16|0),g.bits=ue,0}},{"../utils/common":41}],51:[function(n,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,a,s){var o=n("../utils/common"),l=0,i=1;function c(R){for(var G=R.length;0<=--G;)R[G]=0}var d=0,_=29,u=256,p=u+1+_,f=30,v=19,h=2*p+1,m=15,g=16,E=7,k=256,T=16,w=17,O=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(p+2));c(j);var N=new Array(2*f);c(N);var F=new Array(512);c(F);var S=new Array(256);c(S);var q=new Array(_);c(q);var ue,te,ge,re=new Array(f);function me(R,G,J,ee,V){this.static_tree=R,this.extra_bits=G,this.extra_base=J,this.elems=ee,this.max_length=V,this.has_stree=R&&R.length}function z(R,G){this.dyn_tree=R,this.max_code=0,this.stat_desc=G}function Y(R){return R<256?F[R]:F[256+(R>>>7)]}function he(R,G){R.pending_buf[R.pending++]=255&G,R.pending_buf[R.pending++]=G>>>8&255}function _e(R,G,J){R.bi_valid>g-J?(R.bi_buf|=G<<R.bi_valid&65535,he(R,R.bi_buf),R.bi_buf=G>>g-R.bi_valid,R.bi_valid+=J-g):(R.bi_buf|=G<<R.bi_valid&65535,R.bi_valid+=J)}function ce(R,G,J){_e(R,J[2*G],J[2*G+1])}function Te(R,G){for(var J=0;J|=1&R,R>>>=1,J<<=1,0<--G;);return J>>>1}function Ne(R,G,J){var ee,V,oe=new Array(m+1),de=0;for(ee=1;ee<=m;ee++)oe[ee]=de=de+J[ee-1]<<1;for(V=0;V<=G;V++){var ie=R[2*V+1];ie!==0&&(R[2*V]=Te(oe[ie]++,ie))}}function Ee(R){var G;for(G=0;G<p;G++)R.dyn_ltree[2*G]=0;for(G=0;G<f;G++)R.dyn_dtree[2*G]=0;for(G=0;G<v;G++)R.bl_tree[2*G]=0;R.dyn_ltree[2*k]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function be(R){8<R.bi_valid?he(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function $e(R,G,J,ee){var V=2*G,oe=2*J;return R[V]<R[oe]||R[V]===R[oe]&&ee[G]<=ee[J]}function Oe(R,G,J){for(var ee=R.heap[J],V=J<<1;V<=R.heap_len&&(V<R.heap_len&&$e(G,R.heap[V+1],R.heap[V],R.depth)&&V++,!$e(G,ee,R.heap[V],R.depth));)R.heap[J]=R.heap[V],J=V,V<<=1;R.heap[J]=ee}function xe(R,G,J){var ee,V,oe,de,ie=0;if(R.last_lit!==0)for(;ee=R.pending_buf[R.d_buf+2*ie]<<8|R.pending_buf[R.d_buf+2*ie+1],V=R.pending_buf[R.l_buf+ie],ie++,ee===0?ce(R,V,G):(ce(R,(oe=S[V])+u+1,G),(de=A[oe])!==0&&_e(R,V-=q[oe],de),ce(R,oe=Y(--ee),J),(de=L[oe])!==0&&_e(R,ee-=re[oe],de)),ie<R.last_lit;);ce(R,k,G)}function Le(R,G){var J,ee,V,oe=G.dyn_tree,de=G.stat_desc.static_tree,ie=G.stat_desc.has_stree,pe=G.stat_desc.elems,Se=-1;for(R.heap_len=0,R.heap_max=h,J=0;J<pe;J++)oe[2*J]!==0?(R.heap[++R.heap_len]=Se=J,R.depth[J]=0):oe[2*J+1]=0;for(;R.heap_len<2;)oe[2*(V=R.heap[++R.heap_len]=Se<2?++Se:0)]=1,R.depth[V]=0,R.opt_len--,ie&&(R.static_len-=de[2*V+1]);for(G.max_code=Se,J=R.heap_len>>1;1<=J;J--)Oe(R,oe,J);for(V=pe;J=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Oe(R,oe,1),ee=R.heap[1],R.heap[--R.heap_max]=J,R.heap[--R.heap_max]=ee,oe[2*V]=oe[2*J]+oe[2*ee],R.depth[V]=(R.depth[J]>=R.depth[ee]?R.depth[J]:R.depth[ee])+1,oe[2*J+1]=oe[2*ee+1]=V,R.heap[1]=V++,Oe(R,oe,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(ye,Ce){var He,Be,Ge,Ie,Ke,ze,De=Ce.dyn_tree,Ye=Ce.max_code,We=Ce.stat_desc.static_tree,Qe=Ce.stat_desc.has_stree,Me=Ce.stat_desc.extra_bits,Ze=Ce.stat_desc.extra_base,Ue=Ce.stat_desc.max_length,Ve=0;for(Ie=0;Ie<=m;Ie++)ye.bl_count[Ie]=0;for(De[2*ye.heap[ye.heap_max]+1]=0,He=ye.heap_max+1;He<h;He++)Ue<(Ie=De[2*De[2*(Be=ye.heap[He])+1]+1]+1)&&(Ie=Ue,Ve++),De[2*Be+1]=Ie,Ye<Be||(ye.bl_count[Ie]++,Ke=0,Ze<=Be&&(Ke=Me[Be-Ze]),ze=De[2*Be],ye.opt_len+=ze*(Ie+Ke),Qe&&(ye.static_len+=ze*(We[2*Be+1]+Ke)));if(Ve!==0){do{for(Ie=Ue-1;ye.bl_count[Ie]===0;)Ie--;ye.bl_count[Ie]--,ye.bl_count[Ie+1]+=2,ye.bl_count[Ue]--,Ve-=2}while(0<Ve);for(Ie=Ue;Ie!==0;Ie--)for(Be=ye.bl_count[Ie];Be!==0;)Ye<(Ge=ye.heap[--He])||(De[2*Ge+1]!==Ie&&(ye.opt_len+=(Ie-De[2*Ge+1])*De[2*Ge],De[2*Ge+1]=Ie),Be--)}}(R,G),Ne(oe,Se,R.bl_count)}function b(R,G,J){var ee,V,oe=-1,de=G[1],ie=0,pe=7,Se=4;for(de===0&&(pe=138,Se=3),G[2*(J+1)+1]=65535,ee=0;ee<=J;ee++)V=de,de=G[2*(ee+1)+1],++ie<pe&&V===de||(ie<Se?R.bl_tree[2*V]+=ie:V!==0?(V!==oe&&R.bl_tree[2*V]++,R.bl_tree[2*T]++):ie<=10?R.bl_tree[2*w]++:R.bl_tree[2*O]++,oe=V,Se=(ie=0)===de?(pe=138,3):V===de?(pe=6,3):(pe=7,4))}function Z(R,G,J){var ee,V,oe=-1,de=G[1],ie=0,pe=7,Se=4;for(de===0&&(pe=138,Se=3),ee=0;ee<=J;ee++)if(V=de,de=G[2*(ee+1)+1],!(++ie<pe&&V===de)){if(ie<Se)for(;ce(R,V,R.bl_tree),--ie!=0;);else V!==0?(V!==oe&&(ce(R,V,R.bl_tree),ie--),ce(R,T,R.bl_tree),_e(R,ie-3,2)):ie<=10?(ce(R,w,R.bl_tree),_e(R,ie-3,3)):(ce(R,O,R.bl_tree),_e(R,ie-11,7));oe=V,Se=(ie=0)===de?(pe=138,3):V===de?(pe=6,3):(pe=7,4)}}c(re);var W=!1;function C(R,G,J,ee){_e(R,(d<<1)+(ee?1:0),3),function(V,oe,de,ie){be(V),ie&&(he(V,de),he(V,~de)),o.arraySet(V.pending_buf,V.window,oe,de,V.pending),V.pending+=de}(R,G,J,!0)}s._tr_init=function(R){W||(function(){var G,J,ee,V,oe,de=new Array(m+1);for(V=ee=0;V<_-1;V++)for(q[V]=ee,G=0;G<1<<A[V];G++)S[ee++]=V;for(S[ee-1]=V,V=oe=0;V<16;V++)for(re[V]=oe,G=0;G<1<<L[V];G++)F[oe++]=V;for(oe>>=7;V<f;V++)for(re[V]=oe<<7,G=0;G<1<<L[V]-7;G++)F[256+oe++]=V;for(J=0;J<=m;J++)de[J]=0;for(G=0;G<=143;)j[2*G+1]=8,G++,de[8]++;for(;G<=255;)j[2*G+1]=9,G++,de[9]++;for(;G<=279;)j[2*G+1]=7,G++,de[7]++;for(;G<=287;)j[2*G+1]=8,G++,de[8]++;for(Ne(j,p+1,de),G=0;G<f;G++)N[2*G+1]=5,N[2*G]=Te(G,5);ue=new me(j,A,u+1,p,m),te=new me(N,L,0,f,m),ge=new me(new Array(0),B,0,v,E)}(),W=!0),R.l_desc=new z(R.dyn_ltree,ue),R.d_desc=new z(R.dyn_dtree,te),R.bl_desc=new z(R.bl_tree,ge),R.bi_buf=0,R.bi_valid=0,Ee(R)},s._tr_stored_block=C,s._tr_flush_block=function(R,G,J,ee){var V,oe,de=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(ie){var pe,Se=4093624447;for(pe=0;pe<=31;pe++,Se>>>=1)if(1&Se&&ie.dyn_ltree[2*pe]!==0)return l;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return i;for(pe=32;pe<u;pe++)if(ie.dyn_ltree[2*pe]!==0)return i;return l}(R)),Le(R,R.l_desc),Le(R,R.d_desc),de=function(ie){var pe;for(b(ie,ie.dyn_ltree,ie.l_desc.max_code),b(ie,ie.dyn_dtree,ie.d_desc.max_code),Le(ie,ie.bl_desc),pe=v-1;3<=pe&&ie.bl_tree[2*U[pe]+1]===0;pe--);return ie.opt_len+=3*(pe+1)+5+5+4,pe}(R),V=R.opt_len+3+7>>>3,(oe=R.static_len+3+7>>>3)<=V&&(V=oe)):V=oe=J+5,J+4<=V&&G!==-1?C(R,G,J,ee):R.strategy===4||oe===V?(_e(R,2+(ee?1:0),3),xe(R,j,N)):(_e(R,4+(ee?1:0),3),function(ie,pe,Se,ye){var Ce;for(_e(ie,pe-257,5),_e(ie,Se-1,5),_e(ie,ye-4,4),Ce=0;Ce<ye;Ce++)_e(ie,ie.bl_tree[2*U[Ce]+1],3);Z(ie,ie.dyn_ltree,pe-1),Z(ie,ie.dyn_dtree,Se-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,de+1),xe(R,R.dyn_ltree,R.dyn_dtree)),Ee(R),ee&&be(R)},s._tr_tally=function(R,G,J){return R.pending_buf[R.d_buf+2*R.last_lit]=G>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&G,R.pending_buf[R.l_buf+R.last_lit]=255&J,R.last_lit++,G===0?R.dyn_ltree[2*J]++:(R.matches++,G--,R.dyn_ltree[2*(S[J]+u+1)]++,R.dyn_dtree[2*Y(G)]++),R.last_lit===R.lit_bufsize-1},s._tr_align=function(R){_e(R,2,3),ce(R,k,j),function(G){G.bi_valid===16?(he(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,a,s){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,a,s){(function(o){(function(l,i){if(!l.setImmediate){var c,d,_,u,p=1,f={},v=!1,h=l.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(l);m=m&&m.setTimeout?m:l,c={}.toString.call(l.process)==="[object process]"?function(T){process.nextTick(function(){E(T)})}:function(){if(l.postMessage&&!l.importScripts){var T=!0,w=l.onmessage;return l.onmessage=function(){T=!1},l.postMessage("","*"),l.onmessage=w,T}}()?(u="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",k,!1):l.attachEvent("onmessage",k),function(T){l.postMessage(u+T,"*")}):l.MessageChannel?((_=new MessageChannel).port1.onmessage=function(T){E(T.data)},function(T){_.port2.postMessage(T)}):h&&"onreadystatechange"in h.createElement("script")?(d=h.documentElement,function(T){var w=h.createElement("script");w.onreadystatechange=function(){E(T),w.onreadystatechange=null,d.removeChild(w),w=null},d.appendChild(w)}):function(T){setTimeout(E,0,T)},m.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var w=new Array(arguments.length-1),O=0;O<w.length;O++)w[O]=arguments[O+1];var A={callback:T,args:w};return f[p]=A,c(p),p++},m.clearImmediate=g}function g(T){delete f[T]}function E(T){if(v)setTimeout(E,0,T);else{var w=f[T];if(w){v=!0;try{(function(O){var A=O.callback,L=O.args;switch(L.length){case 0:A();break;case 1:A(L[0]);break;case 2:A(L[0],L[1]);break;case 3:A(L[0],L[1],L[2]);break;default:A.apply(i,L)}})(w)}finally{g(T),v=!1}}}}function k(T){T.source===l&&typeof T.data=="string"&&T.data.indexOf(u)===0&&E(+T.data.slice(u.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports),_selectAvatarCompress=(e,r)=>{let n;if(e instanceof Event?n=e.target.files[0]:n=e,!!n){if(![".png",".jpg",".jpeg"].some(a=>n.name.endsWith(a))){$message(MESSAGE_TIP.a2k3,"error");return}_imageOptimizer({file:n,width:200,ratio:.75,maxSize:100,success:(...a)=>{r(a[2])},fail(){$message(MESSAGE_TIP.a2k3,"error")}})}},_encryption=e=>gBase64.encode(JSON.stringify(e)).split("").reverse().join(""),_decryption=e=>{const r=e.split("").reverse().join(""),n=gBase64.decode(r);return _mergeConfig(JSON.parse(n),userInfoDefault())},_exportCard=e=>{_saveFiles(_encryption(e),`召唤师卡-${e.username}.wzry`)},_getExpLevel=e=>e>=UPGRADE_RANGE[0]&&e<UPGRADE_RANGE[1]?1:e>=UPGRADE_RANGE[1]&&e<UPGRADE_RANGE[2]?2:e>=UPGRADE_RANGE[2]&&e<UPGRADE_RANGE[3]?3:e>=UPGRADE_RANGE[3]&&e<UPGRADE_RANGE[4]?4:5,_getSupplyColor=e=>e<10*60?"green":e>=10*60&&e<1*60*60?"blue":e>=1*60*60&&e<=3*60*60?"orange":"red",_downloadZip=(e,r,n,a)=>{const o={};let l;const i={size:"正在计算...",downloaded_size:"0KB",download_progress:"0%",decompression_progress:"0%",download_finish:!1,decompression_finish:!1};return["IMAGE_ACTIVITY_BANNER","IMAGE_BLUR","IMAGE_HERO_AVATAR","IMAGE_MINECRAFT","IMAGE_MISC","IMAGE_PROPS","IMAGE_MINI_HERO"].includes(n)?l=/\.(jpg|png)$/i:n==="AUDIO"?l=/\.(mp3)$/i:n==="VIDEO_HOME"&&(l=/\.(mp4)$/i),new Promise((c,d)=>{r(e,_=>{const u=_.loaded/1024,p=_.total/1024;i.size=p.toFixed(0)+"KB",i.downloaded_size=u.toFixed(0)+"KB",i.download_progress=Math.round(_.loaded*100/_.total)+"%",a(i)}).then(async _=>{i.download_finish=!0,i.decompression_progress="0%";let u=0;const p=await JSZip.loadAsync(_.data),f=Object.keys(p.files);for(const v of f){const h=async()=>{if(!p.files[v].dir&&v.match(l)){const g=v.replace(l,""),E=await p.files[v].async("blob"),k=URL.createObjectURL(E);o[g]=k,u++,i.decompression_progress=Math.round(u/f.length*100)+"%",a(i)}};await _promiseTimeout(["IMAGE_MINECRAFT","IMAGE_BLUR"].includes(n)?1:25,async()=>{await h()})}i.decompression_finish=!0,i.size="正在计算...",i.downloaded_size="0KB",i.download_progress="0%",i.download_finish=!1,a(i),c(o)}).catch(d)})},AuthStore=defineStore("auth",()=>{const e=RouterStore(),r=SettingStore(),n=KnapsackStore(),a=LotteryStore(),s=MarkerStore(),o=SupplyStore(),l=TimeStore(),i=MailStore(),c=TaskStore(),d=YibaoStore(),_=EpigraphCollocationStore();let u=!1,p=!1;const f={user_status:ref(!1),user_data:ref(userInfoDefault())},{user_status:v,user_data:h}=f,m=()=>{u=!0,v.value=!0,i.useUserMail(h.value.mail,h.value.mallMark),c.useUserTask(h.value.taskFinish,h.value.taskStatus),o.useUserSupply(h.value.supply),a.useUserLottery(h.value.lottery),n.useUserKnapsack(h.value.knapsack),s.useUserMarker(h.value.behaviorMarker),r.useUserSetting(h.value.settingConfig),_.useUserEpigraphSuit(h.value.epigraphSuit),d.useUserYiBao(h.value.yibao),i.getAllMail().then(()=>{l.enableTime(),E.updateUserData({lastLoginTime:dayjs().valueOf()})}),g(),useUserConfigFinish.readyDataResolve(),router.push(BASE_CONFIG.HOME_URL)},g=()=>{if(u){if(!localStorage.getItem(LOCAL_KEY.USER_DATA)){$tip({text:CUSTOM_TIP.vu90,btnText:"立刻刷新"}).then(()=>{location.reload()});return}setTimeout(g,1e3*5)}},E={login(k){h.value=k,e.addRoutes(k.role),localStorage.setItem(LOCAL_KEY.USER_DATA,_encryption(k)),m()},autoLogin(){const k=localStorage.getItem(LOCAL_KEY.USER_DATA);h.value=_decryption(k),$message(`${_timeGreet}，${h.value.username}`),m()},updateUserData(k){h.value=_mergeConfig(k,h.value),localStorage.setItem(LOCAL_KEY.USER_DATA,_encryption(h.value))},setSecondaryPassword(){const k=this;return new Promise(T=>{if(p){T();return}$input({title:"二级密码验证",placeholder:"请输入二级密码",confirm(w,O){h.value.secondaryPassword===w?(T(),O(),$message(MESSAGE_TIP.s24z),p=!0):$message(MESSAGE_TIP.rh43,"error")}}),h.value.secondaryPassword||($message(MESSAGE_TIP.n32v),$input({title:"设置二级密码",placeholder:"请设置二级密码",confirm(w,O){if(h.value.password===w){$message(MESSAGE_TIP.w89h,"error");return}k.updateUserData({secondaryPassword:w}),T(),O(),$message(MESSAGE_TIP.km30)}}))})},exitCard(){u=!1,v.value=!1,p=!1,h.value=userInfoDefault(),e.removeRoutes(),a.resetStatus(),o.interruptCountdown(),l.interrupt(),i.clearMail(),c.resetTask(),d.resetDefaultPart(),localStorage.removeItem(LOCAL_KEY.USER_DATA),resetPromise(),$message(MESSAGE_TIP.y2l2),router.replace("/login")}};return{...f,...E}}),EpigraphStore=defineStore("epigraph",()=>{const e=EpigraphCollocationStore(),r={status:ref("LIST"),type:ref("全部"),color:ref(),epigraph_list:ref([]),filter_list:ref([])},{epigraph_list:n,filter_list:a,type:s,color:o,status:l}=r,i=_=>{n.value=_,d.setFilter("全部")},c=()=>{const _=()=>{s.value==="全部"?a.value=n.value:a.value=n.value.filter(p=>p.type.includes(s.value))},u=()=>{if(!o.value)return;const p={BLUE:[],GREEN:[],RED:[]};a.value.forEach(f=>{p[f.color].push(f)}),a.value=p[o.value]};_(),u()},d={setStatus(_){l.value=_},async getEpigraph(){const _=await getEpigraph();i(_),e.setEpigraphListInventory(_)},setFilter(_){s.value=_,c()},filterColor(_){o.value!==_&&(o.value=_,c())},searchEpigraph(_){s.value="全部",o.value=void 0,_&&(a.value=_search(_cloneDeep(n.value),_,["name"]))}};return{...r,...d}}),num=e=>Number(e.toString().slice(2)),top=(e,r)=>num(e)<num(r)?(num(e)-1)*100/16+"rem":(num(r)-1)*100/16+"rem",height=(e,r,n)=>{const a=num(e),s=num(r),o=num(n);let l=Math.abs(s-o);return a<s&&(l=Math.abs(a-o)),a>s&&(l=Math.abs(s-o)),a>o&&(l=Math.abs(a-s)),l*100/16+"rem"},EquipStore=defineStore("equip",()=>{let e=[],r=[];const n={攻击:[[],[],[]],法术:[[],[],[]],防御:[[],[],[]],移动:[[],[],[]],打野:[[],[],[]],游走:[[],[],[]]},a={攻击:1,法术:2,防御:3,移动:4,打野:5,游走:6},s=reactive([]),o={category:ref(""),active_id:ref(0),show_details:ref(!1),active_data:ref(),synthetic:ref({id:0,name:""}),synthetic_id:ref([[],[],[]]),equip_list_column:ref([[],[],[]]),vertical_line:ref([{},{top:"0",height:"0"},{top:"0",height:"0"}])},{category:l,active_id:i,show_details:c,active_data:d,synthetic:_,synthetic_id:u,equip_list_column:p,vertical_line:f}=o,v=async g=>{var E,k,T,w;if(e[1]==="1"){if(u.value[0][0]=g,u.value[1]=[],g.to)for(let O=0;O<g.to.length;O++){const A=g.to[O],L=(await getEquipSyntheticKvp())[A.id];u.value[1].push(L)}u.value[1].sort((O,A)=>O.id-A.id),u.value[2]=[];for(let O=0;O<u.value[1].length;O++){const A=u.value[1][O],L=(await getEquipSyntheticKvp())[A.id];L!=null&&L.to&&u.value[2].push(...L.to.map(B=>({id:B.id,name:B.value}))),u.value[2].sort((B,U)=>B.id-U.id)}u.value[1][0]&&(f.value[1]={top:top(i.value,u.value[1][0].id),height:height(i.value,u.value[1][0].id,u.value[1].at(-1).id)}),u.value[2][0]&&(f.value[2]={top:top(u.value[1][0].id,u.value[2][0].id),height:height(u.value[1][0].id,u.value[2][0].id,((E=u.value[2].at(-1))==null?void 0:E.id)||0)})}if(e[1]==="2"){if(u.value[1][0]=g,u.value[0]=[],g.need)for(let O=0;O<g.need.length;O++){const A=g.need[O],L=(await getEquipSyntheticKvp())[A.id];u.value[0].push(L)}u.value[0].sort(function(O,A){return O.id-A.id}),u.value[2]=[],u.value[2]=((k=g.to)==null?void 0:k.map(O=>({id:O.id,name:O.value})))||[],u.value[0][0]&&(f.value[1]={top:top(u.value[0][0].id,u.value[1][0].id),height:height(u.value[1][0].id,u.value[0][0].id,u.value[0].at(-1).id)}),u.value[2][0]&&(f.value[2]={top:top(u.value[1][0].id,u.value[2][0].id),height:height(u.value[1][0].id,u.value[2][0].id,((T=u.value[2].at(-1))==null?void 0:T.id)||0)})}if(e[1]==="3"){u.value[2][0]=g,u.value[1]=[];for(let O=0;O<g.need.length;O++){const A=g.need[O],L=(await getEquipSyntheticKvp())[A.id];u.value[1].push(L)}u.value[1].sort(function(O,A){return O.id-A.id}),u.value[0]=[];for(let O=0;O<u.value[1].length;O++){const A=u.value[1][O].need;if(A)for(let L=0;L<(A==null?void 0:A.length);L++){const B=(await getEquipSyntheticKvp())[A[L].id];u.value[0].push(B)}}u.value[0].sort(function(O,A){return O.id-A.id}),f.value[1]={top:top(u.value[0][0].id,u.value[1][0].id),height:height(u.value[1].at(-1).id,u.value[0][0].id,u.value[0].at(-1).id)},u.value[2][0]&&(f.value[2]={top:top(u.value[1][0].id,u.value[2][0].id),height:height(((w=u.value[2].at(-1))==null?void 0:w.id)||0,u.value[1][0].id,u.value[1].at(-1).id)})}},h=()=>{f.value=[{},{top:"0",height:"0"},{top:"0",height:"0"}],u.value=[[],[],[]]},m={async getEquipList(){r=await getEquip(),r.forEach(g=>{n[g.type][g.level-1].push(g)}),m.setType("攻击")},setEquipElement(g){s.push(g)},async setType(g){l.value!==g&&(h(),p.value=n[g],await _promiseTimeout(200),l.value=g,c.value=!1,await _promiseTimeout(500),this.setEquipActive(+(a[g]+"11")))},async setEquipActive(g=0){if(h(),i.value===g){i.value=0;return}i.value=g,c.value=!0,d.value=r.find(k=>k.id===g);const E=(await getEquipSyntheticKvp())[g];E&&(e=E.id.toString().split("")||[],_.value=E,v(E))}};return{...o,...m}}),HeroDetailStore=defineStore("heroDetail",()=>{const e={hero_info:ref(heroDefault()),scrollFns:reactive([]),skill_index:ref(0),page_name:ref("英雄资料"),skillSelectFn:ref(()=>{}),skinToggleFns:ref([]),skin_voice:ref([]),relation_info:ref({reply:"？",replyRelation:"？",desc:"？",replyGender:"",relation:"？",id:0,heroName:"？",avatar:_getMiscLink("unknown")})},{hero_info:r,scrollFns:n,skill_index:a,page_name:s,skillSelectFn:o,skinToggleFns:l,skin_voice:i,relation_info:c}=e;return{...e,...{setHeroInfo(_){r.value=_},setPageName(_){s.value=_,n.forEach(u=>{u.fn(_)})},setScrollFn(_,u){n.push({name:_,fn:u})},removeScrollFn(_){const u=n.findIndex(p=>p.name===_);n.splice(u,1)},setSkillIndex(_){setTimeout(()=>{a.value=_},500)},setSkillSelectFn(_){o.value=_},setSkinToggleFn(_){l.value.push(_)},skinToggle(_,u){l.value.forEach(p=>{p(_,u)})},async setRelationInfo(_){const u=await getHeroRelationshipDesc(_.id,r.value.id);c.value={..._,reply:u.desc||"？",replyGender:u.gender==="男"?"nan":"nv",replyRelation:u.relation||"？"}},async setSkinVoice(_,u){i.value=(await getSkinVoice(_,u)).voice||[]},skillToggler(_){o.value(_)},resetStatus(){i.value=[],l.value=[],c.value={reply:"？",replyRelation:"？",desc:"？",replyGender:"",relation:"？",id:0,heroName:"？",avatar:_getMiscLink("unknown")}}}}}),MESSAGE_TIP={cg09:"内容不能为空",j5l7:"已重置所有配置项",l23d:"保存成功",kc58:"修改成功",s24z:"验证成功",rh43:"密码错误",n32v:"你还没有设置二级密码",w89h:"二级密码不能与卡片密码相同，请重新输入",f1q2:"登录密码不能与二级密码相同，请重新输入",km30:"设置成功",y2l2:"退卡成功",a2k3:"请选择png、jpg、jpeg格式的图片文件",by88:"卡片已损坏！！！",kq89:"开发者身份已确认",mj67:"请输入完整",fh97:"注册成功，默认密码123456",iy70:"正在检查更新",uf04:"检测到你之前有通过修改系统时间的操作，此卡已作废！",mg14:"此卡片为{v}环境卡片，与当前环境不互通，请重新注册",wa83:"{v}不足",dl57:"购买成功",pt07:"升级成功",y9k8:"你还没有选择{v}",vf38:"自选宝箱库存不足，剩余{v}",nw29:"低于最短时间，无法获取奖励",ds85:"复制成功",xv24:"今日{v}已用完，请明日再来！如需获取更多夺宝石，可前往道具商城",xu03:"新的一天！去看看邮箱里都有什么吧？",yz00:"补给中，请耐心等待...",fo08:"开卡成功",ep96:"续费成功",rc53:"【{v}】请求下载失败，如果你开启了VPN，请关闭，或尝试刷新浏览器，如果仍未解决，请联系作者",z0r7:"检测到有作弊嫌疑，已强制退出竞猜",g3h9:"由于未开始竞猜，本次非正常退出不会扣除竞猜券",kq91:"{type}竞猜出题需要预留{num}个英雄，目前已到临界值，请等待网站上架新{goods}",m21j:"请先处理你的乂宝部件订单",yk98:"请手动点击右侧菜单选择竞猜",ai11:"",da62:""},$msgTipText=(e,r)=>{let n=MESSAGE_TIP[e];return Object.entries(r).forEach(([a,s])=>{n=n.replaceAll(`{${a}}`,s.toString())}),n},MusicStore=defineStore("music",()=>{let e=0,r,n,a=new Audio;const s={bgmIndex:ref(0),progress:ref(0),status:ref(!1),show_list:ref(!1),musics:ref([])},{musics:o,bgmIndex:l,progress:i,status:c,show_list:d}=s;return _retryRequest({promiseFn:Music}).then(u=>{o.value=_shuffleArray(u.data),a.setAttribute("crossOrigin","anonymous")}).catch(()=>{$message($msgTipText("rc53",{v:"音乐列表"}),"error")}),{...s,...{async play(u=!0){const p=_getMusicLink(o.value[l.value].url);(u||!a.src)&&await _loadAndRetryAudio(p).then(()=>{a.src=p}).catch(()=>{$message("音乐加载失败，已切换下一首","error"),this.next()}),a.readyState===4&&(c.value=!0,a.play()),a.oncanplaythrough=async()=>{c.value=!0,a.volume=e;try{await a.play(),r==null||r.play(),SettingStore().config.music||a.pause(),n=setInterval(()=>{i.value=_potEoPct(a.currentTime/a.duration)},500),a.onended=this.next}catch{setTimeout(()=>{this.play(!1)},1e3)}}},last(){l.value===0&&(l.value=o.value.length),this.playIndex(l.value-1)},pause(){c.value=!1,a.pause(),clearInterval(n)},next(){l.value+=1,l.value===o.value.length&&(l.value=0),this.playIndex(l.value)},setCurrentTime(u){a.currentTime=a.duration*u},list(){d.value=!d.value},playIndex(u){i.value=0,l.value=u,this.play()},setVolume(u){e=u/100*.25,a.volume=e},stop(){a.pause(),a.currentTime=0},initAudioVisual(u){r=new _AudioVisual(a,u)},resetAudio(){a=new Audio,a.setAttribute("crossOrigin","anonymous")}}}}),SkinStore=defineStore("skin",()=>{const e=KnapsackStore(),r=usePagingLoad(),n={loading:r.loading,scroll:r.scroll,finish:r.finish,filter_list:r.filter_list,show_list:r.show_list,profession:ref("全部"),price_type:ref("全部价格"),skin_type:ref("全部类型"),same_name:ref("全部同名"),have_type:ref("全部皮肤"),gender_type:ref(0),same_name_list:ref([]),skin_type_list:ref([])},{filter_list:a,gender_type:s,profession:o,price_type:l,skin_type:i,same_name:c,same_name_list:d,skin_type_list:_,have_type:u}=n,p=m=>{const g={};m.forEach(E=>{var k;g[k=E.name]??(g[k]=0),g[E.name]++});for(const E in g)g[E]<3&&delete g[E];d.value=Object.keys(g),d.value.unshift("全部同名")},f=m=>{_.value=[...new Set(m.map(g=>g.alias))],_typeSort(_.value,"label"),_.value.unshift("全部类型")},v=()=>{r.setScroll(0);const m=()=>{const{all_data:O}=r;if(o.value==="全部")r.setFilterData([...O.value]);else{const A=O.value.filter(L=>L.profession.includes(o.value));r.setFilterData([...A])}},g=()=>{const O=[],A=[];a.value.forEach(L=>{L.gender==="男"?O.push(L):A.push(L)}),s.value===1?r.setFilterData(O):s.value===2&&r.setFilterData(A)},E=()=>{if(i.value==="全部类型")return;const O=a.value.filter(A=>A.alias===i.value);r.setFilterData(O)},k=()=>{if(c.value==="全部同名")return;const O=a.value.filter(A=>A.name===c.value);r.setFilterData(O)},T=()=>{if(l.value==="全部价格")return;const O={免费:A=>{const L=["积分夺宝","星会员15级","贵族专属","荣耀战令获取","会员限定","限时兑换"],B=A.filter(U=>!L.includes(U.price.toString())&&isNaN(Number(U.price)));return _typeSort(B,"price")},由低到高:A=>A.filter(B=>!isNaN(Number(B.price))).sort((B,U)=>Number(B.price)-Number(U.price)),由高到低:A=>{const L=A.filter(U=>!isNaN(Number(U.price)));return[...A.filter(U=>U.type.toString().indexOf("26.png")!==-1),...L].sort((U,j)=>Number(j.price)-Number(U.price))}};r.setFilterData(O[l.value](a.value))},w=()=>{let O=[];u.value!=="全部皮肤"&&(u.value==="未拥有"&&(O=a.value.filter(A=>!e.skin_list.includes(A.id))),u.value==="已拥有"&&(O=a.value.filter(A=>e.skin_list.includes(A.id))),r.setFilterData(O))};m(),g(),E(),k(),r.reverseFilterData(),T(),w(),h.resetPage()},h={setScroll:r.setScroll,resetPage:r.resetPage,loadMore:r.loadMore,async getSkin(){const m=await getSkinList();r.all_data.value=m,v(),p(m),f(m)},setProfessional(m){o.value!==m&&(o.value=m,v())},filterGender(m){s.value!==m&&(s.value=m,v())},filterSkinType(m){i.value!==m&&(i.value=m,c.value="全部同名",v())},filterSameName(m){c.value!==m&&(c.value=m,i.value="全部类型",l.value="全部价格",v())},sortPrice(m){l.value!==m&&(l.value=m,c.value="全部同名",v())},haveType(m){u.value!==m&&(u.value=m,v())},searchSkin(m){if(o.value="全部",l.value="全部价格",i.value="全部类型",c.value="全部同名",u.value="全部皮肤",s.value=0,m){const g=_search(_cloneDeep(r.all_data.value),m,["name","heroName","category"],!0);r.setFilterData(g)}else v();h.resetPage()}};return{...n,...h}}),VersionStore=defineStore("version",()=>{const{BaseData:e,VoiceData:r}=useIndexedDB();let n;const a={local_data_version:ref(""),remote_data_version:ref(""),local_dist_version:ref(""),remote_dist_version:ref(""),show_update:ref(!1),data_status:ref(!1),dist_status:ref(!1),update_log:ref({time:"",dataKey:[],voiceKey:[],distLog:{surface:{new:[],function:[],style:[],bug:[]},substrate:[]}})},{local_data_version:s,remote_data_version:o,local_dist_version:l,remote_dist_version:i,show_update:c,data_status:d,dist_status:_,update_log:u}=a,p=(m,g)=>{g==="DATA"?(localStorage.setItem(LOCAL_KEY.VERSION_DATA,m),s.value=m):(localStorage.setItem(LOCAL_KEY.VERSION_DIST,m),l.value=m)},f=async(m,g)=>{if(g==="BASE")for(const E of m)await e.removeItem(E);if(g==="VOICE")for(const E of m)await r.removeItem(E)},v={setShowLog(m){c.value=m},watchVersion(){clearTimeout(n),n=setTimeout(()=>{h()},1e3*60),_retryRequest({promiseFn:Version}).then(async m=>{const{dataVersion:g,distVersion:E}=m.data;if(o.value=g,i.value=E,!s.value)p(g,"DATA");else{const k=Number(s.value.replaceAll(".",""));Number(g.replaceAll(".",""))-k>0&&_retryRequest({promiseFn:UpdateLog}).then(async O=>{const{dataKey:A,voiceKey:L,distLog:B,time:U}=O.data;d.value=!0,u.value={time:U,dataKey:A,distLog:B,voiceKey:L},clearTimeout(n),await f(A,"BASE"),await f(L,"VOICE"),useGetData().getData().then(()=>{c.value=!0})})}if(!l.value)p(E,"DIST");else{const k=Number(l.value.replaceAll(".",""));Number(E.replaceAll(".",""))-k>0&&(clearTimeout(n),c.value=!0,_.value=!0)}}).catch(()=>{$message($msgTipText("rc53",{v:"版本文件"}),"error")})},updateAll(){p(o.value,"DATA"),p(i.value,"DIST"),localStorage.setItem(LOCAL_KEY.AUTO_UPDATE_STATUS,"0"),location.reload()}},{watchVersion:h}=v;return s.value=localStorage.getItem(LOCAL_KEY.VERSION_DATA)||"",l.value=localStorage.getItem(LOCAL_KEY.VERSION_DIST)||"",_retryRequest({promiseFn:UpdateLog}).then(m=>{u.value=m.data}).catch(()=>{$message($msgTipText("rc53",{v:"更新日志"}),"error")}),h(),{...a,...v}}),setupStore=e=>{const r=createPinia();e.use(r)},zh={语言:"语言",冷弋白:"冷弋白",王者图鉴:"王者图鉴",英雄:"英雄",皮肤:"皮肤",图集:"图集",装备:"装备",铭文:"铭文",夺宝:"夺宝",英雄夺宝:"英雄夺宝",皮肤夺宝:"皮肤夺宝",背包:"背包",乂宝:"乂宝",任务:"任务",商城:"商城",碎片商店:"碎片商店",道具商店:"道具商店",水晶商店:"水晶商店",王者水晶:"王者水晶",荣耀水晶:"荣耀水晶",系统管理:"系统管理",添加:"添加",本地数据管理:"本地数据管理",帧率:"帧率",屏幕尺寸:"屏幕尺寸",内核:"内核",数据:"数据",网页:"网页",登录后更新:"登录后更新",全部:"全部",坦克:"坦克",战士:"战士",刺客:"刺客",法师:"法师",射手:"射手",辅助:"辅助",攻击:"攻击",法术:"法术",防御:"防御",移动:"移动",打野:"打野",游走:"游走",生命:"生命",功能:"功能",吸血:"吸血",音效:"音效",音乐:"音乐",弹幕语音:"弹幕语音",音乐进度控制:"音乐进度控制",元素发光:"元素发光",粒子特效:"粒子特效",视频背景:"视频背景",小贴士:"场景小贴士",重置配置:"重置配置",开启:"开启",恢复:"恢复",恢复所有小贴士:"恢复所有小贴士",设置:"设置",午夜好:"午夜好",早上好:"早上好",上午好:"上午好",中午好:"中午好",下午好:"下午好",晚上好:"晚上好"},en={语言:"language",冷弋白:"lengyibai",王者图鉴:"King Book",英雄:"Hero",皮肤:"Skin",图集:"Atlas",装备:"Equip",铭文:" Epigraph",夺宝:" Lottery",英雄夺宝:"HeroLottery",皮肤夺宝:"SkinLottery",背包:"Knapsack",乂宝:"YiBao",任务:"Task",商城:"Shop",碎片商店:"DebrisShop",道具商店:"PropShop",水晶商店:"CrystalShop",王者水晶:"KingCrystal",荣耀水晶:"HonorCrystal",系统管理:"System",添加:"Add",本地数据管理:"Local Data",帧率:"Fps",屏幕尺寸:"Screen Size",内核:" Kernel",数据:"Data Version",网页:"Web Version",登录后更新:"After Logging In To Update",全部:"All",坦克:"Tank",战士:"Soldier",刺客:"Assassin",法师:"Mage",射手:"Shooter",辅助:"Auxiliary",攻击:"Attack",法术:"Magic",防御:"Defense",移动:"Move",打野:"Jungle",游走:"Wander",生命:"Life",功能:"Function",吸血:"Bloodsucking",音效:"Sound",音乐:"Music",弹幕语音:"Barrage Voice",音乐进度控制:"Music Schedule",元素发光:"Element Shine",粒子特效:"Particle Effects",视频背景:"Background Video",小贴士:"Scene Tips",重置配置:"Reset",开启:"Enable",恢复:"Restore",恢复所有小贴士:"All Tips Has Been Restored",设置:"Setting",午夜好:"Good Midnight",早上好:"Good Morning",上午好:"Good Morning",中午好:"Good Afternoon",下午好:"Good Afternoon",晚上好:"Good Evening"},messages$1={zh,en},lang=localStorage.getItem(LOCAL_KEY.LANGUAGE),i18n=vueI18n_cjs.createI18n({locale:lang||"zh",legacy:!1,globalInjection:!0,messages:messages$1}),{setLocaleMessage,locale,t}=i18n.global,setLanguage=e=>{const n=["zh","en"][e];setLocaleMessage(n,messages$1[n]),locale.value=n,localStorage.setItem(LOCAL_KEY.LANGUAGE,n)},setupLanguage=e=>{e.use(i18n)};class BarragesGenerate{constructor(r,n,a){Q(this,"parent");Q(this,"data");Q(this,"clickCallback");Q(this,"endCallback");Q(this,"init");Q(this,"gaps",["0em","1.5em","3em","4.5em","6em","7.5em","9em","10.5em","12em","13.5em","15em"]);Q(this,"usedGaps",[]);Q(this,"enable",!0);Q(this,"readyTimer");Q(this,"generateTimer");Q(this,"customTimer");this.parent=r,this.data=n,this.clickCallback=a.click,this.endCallback=a.finish,this.init=()=>{if(clearInterval(this.customTimer),clearTimeout(this.readyTimer),document.visibilityState=="hidden"){this.enable=!1;return}this.createLybBarrage(`冷弋白：弹幕已装填完毕，剩余${this.data.length}条`),this.readyTimer=setTimeout(()=>{this.enable=!0,this.generateBarrage()},5e3),this.customTimer=setInterval(()=>{this.createLybBarrage(`冷弋白：还剩${this.data.length}条弹幕`)},2e4)},window.addEventListener("visibilitychange",this.init),this.init()}generateBarrage(){if(!this.enable)return;if(this.data.length===0){clearTimeout(this.generateTimer),clearInterval(this.customTimer),this.endCallback();return}const r=_random(1,2);this.data.slice(0,r).forEach(s=>{this.createBarrage(s)}),this.data=this.data.slice(r);const a=_random(4,6,1)*1e3;this.generateTimer=setTimeout(()=>{this.generateBarrage()},a)}createBarrage(r){const n=document.createElement("div");let a=this.gaps.filter(d=>!this.usedGaps.includes(d));const s=10*(r.text.length/10);a.length===0&&(this.usedGaps=[],a=this.gaps);const o=_random(0,a.length-1),l=a[o];this.usedGaps.push(l);const i=s>20?20:s<15?15:s,c=15/i/2+.5;n.style.top=l,n.style.zIndex=(c*100).toFixed(0),n.style.filter=`brightness(${c>=1?1:c})`,n.style.transform=`translateX(100%) translateZ(0) scale(${15/i})`,n.style.animationDuration=i+"s",n.classList.add("barrage-animate"),n.innerHTML=r.text,n.setAttribute("data-text",r.text),r.gender==="女"?n.classList.add("nv"):n.classList.add("nan"),this.parent.appendChild(n),this.bindEvent(n,r),setTimeout(()=>{const d=this.usedGaps.indexOf(l);d!==-1&&this.usedGaps.splice(d,1)},s*1e3)}createLybBarrage(r){const n=document.createElement("div");let a=this.gaps.filter(i=>!this.usedGaps.includes(i));const s=10*(r.length/10);a.length===0&&(this.usedGaps=[],a=this.gaps);const o=_random(0,a.length-1),l=a[o];this.usedGaps.push(l),n.style.top=l,n.style.zIndex="101",n.style.transform="translateX(100%) translateZ(0)",n.style.animationDuration=(s>20?20:s<15?15:s)+"s",n.classList.add("barrage-animate"),n.innerHTML=r,n.setAttribute("data-text",r),n.classList.add("lyb"),this.parent.appendChild(n),this.bindEvent(n,{self:!0,heroId:0,skinName:"",gender:"男",name:"冷弋白",desc:"独立开发者",text:"点击下面的图片可以查看大图，图中文件：src/components/business/Global/Control/components/K-HeroDetail/index.vue",avatar:_getImgLink("lyb"),link:_getAudioLink("ji"),link_big:_getImgLink("code_bg_big","1","jpg"),link_small:_getImgLink("code_bg_small","1","jpg"),link_blur:_getImgLink("code_bg_blur","1","jpg")}),setTimeout(()=>{const i=this.usedGaps.indexOf(l);i!==-1&&this.usedGaps.splice(i,1)},s*1e3)}bindEvent(r,n){r.addEventListener("mouseenter",async()=>{const a=await getHeroNameKvp();$mouseTip.show({text:`点击查看${a[n.heroId]||n.name}的弹幕卡片`})}),r.addEventListener("mouseleave",$mouseTip.close),r.addEventListener("click",a=>{this.clickCallback(n,a)}),r.addEventListener("animationend",function(){this.remove()})}restart(r){this.data=r,this.createLybBarrage(`冷弋白：弹幕已重新装填完毕，剩余${this.data.length}条`),setTimeout(()=>{this.generateBarrage()},5e3)}destruction(){clearTimeout(this.generateTimer),this.enable=!1,window.removeEventListener("visibilitychange",this.init)}}const status=ref(!1),barrages=ref([]),useBarrages=()=>{const e=new _AudioPlayer({volume:.35});let r;const n={status,barrages,show_card:ref(!1),barrage_info:ref()},{show_card:a,barrage_info:s}=n,o={setBarrage(l){status.value=l},init(l,i,c){const d=this;if(r){r.restart(l);return}r=new BarragesGenerate(i,l,{async click(_,u){const{skinName:p,heroId:f,link:v,text:h,self:m,name:g,desc:E,avatar:k,link_big:T,link_small:w,link_blur:O}=_;if(s.value=void 0,a.value=!0,e.play(v),m)s.value={voiceText:h,heroName:g,avatar:k,skinName:E,skinBlurPoster:O,skinPoster:w,skinBigPoster:T};else{const A=await getHeroDetail(f),L=await getSkinDetail(f,p);s.value={voiceText:h,heroName:A.name,avatar:A.avatar,skinName:p,skinBlurPoster:(L==null?void 0:L.posterBlur)||A.posterBlur,skinPoster:(L==null?void 0:L.cover)||A.poster,skinBigPoster:(L==null?void 0:L.posterBig)||A.posterBig}}new Image().src=s.value.skinBlurPoster,c&&(c.style.left=`calc(${u.clientX}px - ${c.offsetWidth/2}px)`,c.style.top=`calc(${u.clientY}px + 1.5rem)`,setTimeout(()=>{c.offsetLeft<0&&(c.style.left="0"),c.offsetLeft+c.offsetWidth>window.innerWidth&&(c.style.left=`${window.innerWidth-c.offsetWidth}px`)},250))},finish(){d.getBarrages()}})},async getBarrages(){const l=await getHeroNameList(),i=await getHeroGenderKvp(),c=await getSkinVoiceListKvp(),d=[];l.forEach(_=>{["梦奇","盾山"].includes(_.value)||c[_.id].forEach(u=>{const p=_random(0,u.voice.length-1);d.push({heroId:_.id,skinName:u.name,text:u.voice[p].text,link:u.voice[p].link,gender:i[_.id]})})}),barrages.value=d}};return onScopeDispose(()=>{r==null||r.destruction()}),{...n,...o}},SettingStore=defineStore("setting",()=>{const e=AuthStore(),r=MusicStore(),{setShine:n}=useCssClassToggle(),{setBarrage:a}=useBarrages(),{setAudioVolume:s,setAudioSwitch:o}=usePlayAudio(),l={config:ref(configDefault())},{config:i}=l,c=()=>{e.updateUserData({settingConfig:i.value})};return{...l,...{useUserSetting(_){i.value=_,this.takeEffect()},takeEffect(){setLanguage(i.value.language),o(i.value.audio),s(i.value.audioVolume),r.setVolume(i.value.musicVolume),n(i.value.shine),a(i.value.barrage)},setNoTip(_){i.value.noTips[_]=!0,c()},restoreTip(){for(const _ in i.value.noTips)i.value.noTips[_]=!1;c()},resetConfig(){i.value={...configDefault(),noTips:i.value.noTips},this.takeEffect(),setTimeout(()=>{r.play(!1)},1e3)},saveConfig(_){i.value={...i.value,..._},c()}}}}),{playAudio:playAudio$3}=usePlayAudio();let queue=!1,next,noTipName,btnFn,done;const list=[],ExposeData$f={is_once:ref(!1),disabled:ref(!0),show_tip:ref(!1),show_mask:ref(!1),content:ref(""),align:ref("right-bottom"),btn_text:ref(""),need_mask_color:ref(!1)},{is_once,btn_text,content:content$2,disabled:disabled$1,show_tip:show_tip$1,show_mask,align,need_mask_color}=ExposeData$f,useTip=()=>{const e=SettingStore(),r=async a=>{a?(show_mask.value=a,setTimeout(()=>{show_tip$1.value=a})):(show_tip$1.value=a,setTimeout(()=>{show_mask.value=!1},500))},n={async openTip(a){var f;if(!e.config.tip)return Promise.resolve();if(queue){list.push(a);return}queue=!0;const{text:s,btnText:o="确定",createFn:l,align:i="right-bottom",btnFn:c=()=>{},done:d=()=>{},color:_=!0}=a,u=(f=Object.entries(SCENE_TIP).find(v=>v[1]===s))==null?void 0:f[0];return e.config.noTips[u]?(queue=!1,Promise.resolve()):(need_mask_color.value=_,is_once.value=!!u,noTipName=u||"",btnFn=c,done=d,align.value=i,btn_text.value=o,content$2.value=s,r(!0),playAudio$3("rt25"),setTimeout(()=>{l&&l()}),new Promise(v=>{next=v}))},handleSetAllowClick(){disabled$1.value=!1,done()},handleConfirm(){disabled$1.value||(queue=!1,r(!1),playAudio$3("ba09"),noTipName&&e.setNoTip(noTipName),setTimeout(()=>{disabled$1.value=!0,next&&next(),btnFn&&btnFn();const a=list.shift();a&&n.openTip(a)},500))}};return{...ExposeData$f,...n}},ExposeData$e={show:ref(!1),config:ref()},{show:show$a,config:config$2}=ExposeData$e,useBuyProp=()=>({...ExposeData$e,...{openBuyProp(r){show$a.value=!0,config$2.value=r}}}),ExposeData$d={show:ref(!1),mode:ref("HERO")},{show:show$9,mode}=ExposeData$d,useOptional=()=>({...ExposeData$d,...{openOptional(r){mode.value=r,show$9.value=!0},closeOptional(){show$9.value=!1}}}),ExposeData$c={show:ref(!1),prop_key:ref("BLESSING_BAG")},{show:show$8,prop_key}=ExposeData$c,useBatchProp=()=>({...ExposeData$c,...{openBatchProp(r){show$8.value=!0,prop_key.value=r}}}),{playAudio:playAudio$2}=usePlayAudio(),audioPlayer=new _AudioPlayer({volume:.25}),ExposeData$b={show:ref(!1),hero_data:ref(),show_progress:ref(!1),show_close:ref(!1)},{show:show$7,show_progress,show_close,hero_data}=ExposeData$b,useHeroDetail=()=>{const e=HeroDetailStore();return{...ExposeData$b,...{async openHeroDetail(n){if(!n){show$7.value=!1;return}const a=(await getSkinVoice(n,"原版皮肤")).voice;a&&audioPlayer.play(a[0].link);const s=await getHeroDetail(n);e.setHeroInfo(s),hero_data.value=s,show$7.value=!0,playAudio$2("u4c5"),setTimeout(()=>{var o;show_progress.value=!0,show_close.value=!0,(o=hero_data.value.skins)==null||o.forEach(l=>{new Image().src=l.poster})},1500)}}}},ExposeData$a={show:ref(!1),content:ref(""),config:ref({value:"",title:"",placeholder:"",confirm(){},close(){}})},{show:show$6,content:content$1,config:config$1}=ExposeData$a,useInput=()=>({...ExposeData$a,...{openInput(r){show$6.value=!0,config$1.value=r,content$1.value=r.value||""}}}),ExposeData$9={show:ref(!1),title:ref(""),content:ref("")},{show:show$5,title,content}=ExposeData$9,useHelp=()=>({...ExposeData$9,...{openHelp(r){show$5.value=!0,title.value=r.title,content.value=r.content}}}),ExposeData$8={show:ref(!1),prop_type:ref("HERO_EXP_ONE")},{show:show$4,prop_type}=ExposeData$8,useUpgrade=()=>({...ExposeData$8,...{openUpgrade(r){show$4.value=!0,prop_type.value=r}}}),{playAudio:playAudio$1}=usePlayAudio();let onClose;const ExposeData$7={show:ref(!1),show_bg:ref(!1),prop_list:ref()},{show:show$3,show_bg,prop_list}=ExposeData$7,useObtain=()=>{const e=KnapsackStore();return{...ExposeData$7,...{openObtain(n,a){onClose=a,playAudio$1("jo36"),show$3.value=!0,_isArray(n)?prop_list.value=n:prop_list.value=[n],prop_list.value.forEach(s=>{s.key&&e.setGamePropNum(s.key,s.num||1,"ADD")}),setTimeout(()=>{show_bg.value=!0},100)},closeObtain(){show$3.value=!1,show_bg.value=!1,prop_list.value=void 0,playAudio$1("pj83"),onClose==null||onClose()}}}},ExposeData$6={show:ref(!1),config:ref({text:"",close:!0,confirm(){},cancel(){}})},{show:show$2,config}=ExposeData$6,useConfirm=()=>({...ExposeData$6,...{openConfirm(r){show$2.value=!0,config.value=r,usePlayAudio().playAudio("cy87"),config.value.close=r.close===void 0?!0:r.close}}}),{playAudio}=usePlayAudio(),ExposeData$5={messages:reactive([])},{messages}=ExposeData$5,useMessage=()=>({...ExposeData$5,...{openMsg(r="未设置提示",n="info"){const a=r.split("").length/3,s=a>3?a:a+1;playAudio({info:"n74s",warning:"p6q3",error:"vw31"}[n]);const l={id:dayjs().valueOf(),text:r,type:n,duration:s};messages.unshift(l),setTimeout(()=>{messages.pop()},s*1e3)}}});let timer;const ExposeData$4={show:ref(!0),tip:ref(""),downing:ref(!1),show_tip:ref(!1),disabled:ref(!1),is_click:ref(!1),type:ref("NORMAL")},{show:show$1,tip,type,downing,show_tip,disabled,is_click}=ExposeData$4,useMouseTip=()=>{const e={openMouseTip:_debounce(r=>{downing.value||(show$1.value=!1,show_tip.value=!1,is_click.value=!1,clearTimeout(timer),timer=setTimeout(()=>{show$1.value=!0,show_tip.value=r.show,tip.value=r.text||"",type.value=r.type||"NORMAL",disabled.value=!!r.disabled},100))},100)};return{...ExposeData$4,...e}},ExposeData$3={confirmCallback:ref(),show:ref(!1)},{show,confirmCallback}=ExposeData$3,useSelectAvatar=()=>({...ExposeData$3,...{openSelectAvatar(r){show.value=!0,confirmCallback.value=r}}}),$focus={show(e){$bus.emit("focus",e)},close(){$bus.emit("focus")}},$imageView=e=>$bus.emit("img-view",e),$tip=e=>useTip().openTip(e),$confirm=e=>useConfirm().openConfirm(e),$obtain=(e,r)=>useObtain().openObtain(e,r),$buyProp=e=>useBuyProp().openBuyProp(e),$optional=e=>useOptional().openOptional(e),$batchProp=e=>useBatchProp().openBatchProp(e),$heroDetail=e=>useHeroDetail().openHeroDetail(e),$input=e=>useInput().openInput(e),$help=e=>useHelp().openHelp(e),$selectAvatar=e=>useSelectAvatar().openSelectAvatar(e),$upgrade=e=>useUpgrade().openUpgrade(e),$message=(e,r)=>useMessage().openMsg(e,r),$mouseTip={show(e){useMouseTip().openMouseTip({...e,show:!0})},close(){useMouseTip().openMouseTip({show:!1})}},useGetData=()=>{const{BaseData:e,VoiceData:r}=useIndexedDB(),n=ref(0),a=ref(0),s={type:ref(""),finish:ref(!1)},{type:o,finish:l}=s,i={progress:computed(()=>((a.value/n.value||0)*100).toFixed(0)+"%")},c=async(v,h,m)=>{await(m==="BASE"?e.setItem:r.setItem)(v,h)},d=async(v,h)=>!!await(h==="BASE"?e.getItem:r.getItem)(v),_=async()=>{const v=[];for(let m=0;m<REQUEST.length;m++){const g=REQUEST[m];await d(g[0],"BASE")||v.push([g[0],g[1]])}const h=v.map(async m=>{await _retryRequest({promiseFn:m[1]}).then(async g=>{o.value=`正在下载${m[0]}`,await c(m[0],g.data,"BASE")}).catch(()=>{$message($msgTipText("rc53",{v:m[0]}),"error")}).finally(()=>{a.value++})});return{data_lacks:v,data_requests:h}},u=async()=>{const v=[],h=await getHeroNameList();for(let g=0;g<h.length;g++){const E=h[g];if(!await d(E.value,"VOICE")&&!["梦奇","盾山"].includes(E.value)){const T=(await getHeroPinyinKvp())[E.id];v.push([E.value,()=>Voice(T)])}}const m=v.map(async g=>{await _retryRequest({promiseFn:g[1]}).then(async E=>{o.value=`正在下载${g[0]}语音`,await c(g[0],E.data,"VOICE")}).catch(()=>{$message($msgTipText("rc53",{v:g[0]+"语音"}),"error")}).finally(()=>{a.value++})});return{voice_lacks:v,voice_requests:m}},p=(v,h,m)=>{if(v&&(h.length||m.length)){if(h.length){const g=h.join("、");$tip({text:$tipText("zd98",{t:"数据",v:g})})}if(m.length){const g=m.join("、");$tip({text:$tipText("zd98",{t:"语音",v:g})})}}};return{...s,...i,...{async getData(v=!1){a.value=0,o.value="准备下载基础数据";const h=await _();n.value=h.data_lacks.length,await Promise.all(h.data_requests),o.value="准备下载语音包",a.value=0;const m=await u();n.value=m.voice_lacks.length,await Promise.all(m.voice_requests),l.value=!0,o.value="加载完毕，祝你体验愉快。",a.value=1,n.value=1;const g=h.data_lacks.map(k=>k[0]),E=m.voice_lacks.map(k=>k[0]);p(v,g,E)}}}},useGetFps=()=>{let e=0,r=0;const n={fps:ref(0)},{fps:a}=n;return function s(){r++;const o=performance.now();e===void 0&&(e=o),o-e>=500&&(a.value=r,e=o,r=0),window.requestAnimationFrame(s)}(),n},usePagingLoad=()=>{let e=1,r=0;const n={page_count:25,scroll:ref(0),loading:ref(!1),finish:ref(!1),all_data:ref([]),filter_list:ref([]),show_list:ref([])},{all_data:a,scroll:s,loading:o,finish:l,filter_list:i,show_list:c,page_count:d}=n;return{...n,...{setScroll(u){s.value=u},pushAllData(u){a.value=u},setFilterData(u){i.value=u},reverseFilterData(){i.value.reverse()},resetPage(){e=1,l.value=!1,c.value=[],nextTick(()=>{c.value=i.value.slice(0,e*d),r=Math.ceil(i.value.length/d)})},loadMore(){o.value||l.value||(o.value=!0,setTimeout(()=>{if(r>e){const u=i.value.slice(e*d,(e+1)*d);c.value.push(...u),e+=1,l.value=u.length<d}else l.value=!0;o.value=!1},500))}}}},ExposeData$2={under_960:ref(!1),under_1200:ref(!1)},{under_960,under_1200}=ExposeData$2,change=()=>{const e=window.innerWidth;under_960.value=e<960,under_1200.value=e<1200};change();window.addEventListener("resize",change);const useResponsive=()=>({...ExposeData$2}),ExposeData$1={finish:ref(!1),audio_version:ref(""),image_activity_banner_version:ref(""),image_blur_version:ref(""),image_hero_avatar_version:ref(""),image_minecraft_version:ref(""),image_misc_version:ref(""),image_props_version:ref(""),image_mini_hero_version:ref(""),video_home_version:ref("")},{finish,audio_version,image_activity_banner_version,image_blur_version,image_hero_avatar_version,image_minecraft_version,image_misc_version,image_props_version,image_mini_hero_version,video_home_version}=ExposeData$1,useStaticResourceVersion=()=>({...ExposeData$1,...{async load(){try{const r=await _retryRequest({promiseFn:StaticVersion}),{audioVersion:n,imageActivityBannerVersion:a,imageBlurVersion:s,imageHeroAvatarVersion:o,imageMinecraftVersion:l,imageMiscVersion:i,imagePropsVersion:c,imageMiniHeroVersion:d,videoHomeVersion:_}=r.data;return audio_version.value=n,image_activity_banner_version.value=a,image_blur_version.value=s,image_hero_avatar_version.value=o,image_minecraft_version.value=l,image_misc_version.value=i,image_props_version.value=c,image_mini_hero_version.value=d,video_home_version.value=_,finish.value=!0,ExposeData$1}catch(r){throw $message($msgTipText("rc53",{v:"静态资源版本文件"}),"error"),r}}}}),useHaveHeroSkin=(e,r="HERO")=>{const n=KnapsackStore();return r==="HERO"&&!n.hero_list[e]?($confirm({text:$confirmText("eb14",{v:"英雄"}),confirm:()=>{router.push(ROUTE_PATH.HERO_DEBRIS),$heroDetail()}}),!1):r==="SKIN"&&!n.skin_list.includes(e)?($confirm({text:$confirmText("eb14",{v:"皮肤"}),confirm:()=>{router.push(ROUTE_PATH.SKIN_DEBRIS),$heroDetail()}}),!1):!0};let readyDataResolve;const readPromise=new Promise(e=>{readyDataResolve=e}),useUserConfigFinish={readPromise,readyDataResolve},resetPromise=()=>{useUserConfigFinish.readPromise=new Promise(e=>{useUserConfigFinish.readyDataResolve=e})},MARKER_LABEL={mc93:"累计在线时长-秒",tg73:"累计访问天数",d24r:"累计英雄夺宝次数",y8b2:"累计皮肤夺宝次数",h3t4:"累计消耗金币数量",cq65:"累计消耗钻石数量",vu33:"累计消耗英雄碎片数量",i0k4:"累计消耗皮肤碎片数量",iu48:"累计消耗英雄一级经验宝箱数量",nn05:"累计消耗英雄二级经验宝箱数量",ku27:"累计消耗英雄夺宝石数量",i87h:"累计消耗皮肤夺宝石数量",g45c:"累计消耗英雄夺宝币数量",al38:"累计消耗皮肤夺宝币数量",rj89:"累计消耗王者水晶数量",q9y1:"累计消耗荣耀水晶数量",er27:"累计消耗英雄夺宝周卡数量",ml55:"累计消耗皮肤夺宝周卡数量",e13s:"累计消耗双倍经验卡数量",c8k7:"累计消耗双倍金币卡数量",mh01:"累计消耗伴生皮肤卡数量",kj05:"累计消耗英雄秘宝数量",aw51:"累计消耗勇者皮肤秘宝数量",ez16:"累计消耗史诗皮肤秘宝数量",cz62:"累计消耗传说皮肤秘宝数量",cs01:"累计消耗限定皮肤秘宝数量",er08:"累计消耗随机英雄宝箱数量",q65b:"累计消耗自选英雄宝箱数量",k4f6:"累计消耗自选勇者皮肤宝箱数量",yq53:"累计消耗自选史诗皮肤宝箱数量",ag35:"累计消耗自选传说皮肤宝箱数量",cj13:"累计消耗自选限定皮肤宝箱数量",pa16:"累计消耗竞猜币数量",j7m4:"累计消耗竞猜券数量",my02:"累计消耗跳跳币数量",ks52:"累计海报竞猜次数",v87u:"累计海报竞猜答错次数",ht88:"累计技能竞猜次数",ff88:"累计技能竞猜答错次数"},MARKER_STATUS_KEY={ONLINE_TIME:"mc93",VISIT_DAY:"tg73",HERO_LOTTERY_COUNT:"d24r",SKIN_LOTTERY_COUNT:"y8b2",POSTER_GUESS_COUNT:"ks52",POSTER_GUESS_WRONG_COUNT:"v87u",SKILL_GUESS_COUNT:"ht88",SKILL_GUESS_WRONG_COUNT:"ff88"},MARKER_PROP_KEY_SUB={GOLD:"h3t4",DIAMOND:"cq65",HERO_DEBRIS:"vu33",SKIN_DEBRIS:"i0k4",HERO_EXP_ONE:"iu48",HERO_EXP_TWO:"nn05",HERO_LOTTERY_STONE:"ku27",SKIN_LOTTERY_STONE:"i87h",HERO_LOTTERY_COIN:"g45c",SKIN_LOTTERY_COIN:"al38",KING_CRYSTAL:"rj89",HONOR_CRYSTAL:"q9y1",HERO_LOTTERY_WEEK:"er27",SKIN_LOTTERY_WEEK:"ml55",DOUBLE_EXP:"e13s",DOUBLE_GOLD:"c8k7",SKIN_CARD_INITIAL:"mh01",HERO_TREASURE:"kj05",SKIN_BRAVE_TREASURE:"aw51",SKIN_EPIC_TREASURE:"ez16",SKIN_LEGEND_TREASURE:"cz62",SKIN_LIMIT_TREASURE:"cs01",HERO_CHEST_RANDOM:"er08",HERO_CHEST_OPTIONAL:"q65b",SKIN_CHEST_BRAVE_OPTIONAL:"k4f6",SKIN_CHEST_EPIC_OPTIONAL:"yq53",SKIN_CHEST_LEGEND_OPTIONAL:"ag35",SKIN_CHEST_LIMIT_OPTIONAL:"cj13",GUESS_COIN:"pa16",GUESS_CARD:"j7m4",JUMP_COIN:"my02"},useSetMarker=()=>{const e=MarkerStore();return{...{addPropMarkerNum(n,a=1){const s=MARKER_PROP_KEY_SUB[n];s&&e.addMarkerNum(s,a)},addStatusMarkerNum(n,a=1){const s=MARKER_STATUS_KEY[n];s&&e.addMarkerNum(s,a)}}}},EXP_NAME={坦克:["见习坦克","资深坦克","精英坦克","宗师坦克","不灭的霸者"],战士:["见习战士","资深战士","精英战士","宗师战士","传说的剑圣"],法师:["见习法师","资深法师","精英法师","宗师法师","魔道的传奇"],刺客:["见习刺客","资深刺客","精英刺客","宗师刺客","天诛的影刃"],射手:["见习射手","资深射手","精英射手","宗师射手","鹰眼的神射"],辅助:["见习辅助","资深辅助","精英辅助","宗师辅助","至圣的贤者"]},UPGRADE_EXP={HERO_EXP_ONE:25,HERO_EXP_TWO:50},UPGRADE_RANGE=[0,100,300,1e3,2e3],UPGRADE_GIFT={100:{key:"SKIN_DEBRIS",count:1},300:{key:"SKIN_DEBRIS",count:2},1e3:{key:"SKIN_DEBRIS",count:3},2e3:{key:"SKIN_CARD_INITIAL",count:1}},LOTTERY_AWARD={HERO:[{id:1,type:"KING_CRYSTAL"},{id:4,type:"HERO_DEBRIS",num:2},{id:7,type:"HERO_EXP_ONE",num:1},{id:2,type:"HERO_CHEST_RANDOM"},{id:5,type:"HERO_DEBRIS",num:1},{id:8,type:"GOLD",num:20},{id:3,type:"HERO_TREASURE"},{id:9,type:"GOLD",num:40},{id:6,type:"HERO_EXP_TWO",num:1},{id:10,type:"GOLD",num:60}],SKIN:[{id:1,type:"HONOR_CRYSTAL"},{id:2,type:"SKIN_BRAVE_TREASURE"},{id:6,type:"SKIN_DEBRIS",num:3},{id:9,type:"DIAMOND",num:40},{id:3,type:"SKIN_EPIC_TREASURE"},{id:7,type:"SKIN_DEBRIS",num:2},{id:10,type:"DIAMOND",num:30},{id:4,type:"SKIN_LEGEND_TREASURE"},{id:8,type:"SKIN_DEBRIS",num:1},{id:11,type:"DIAMOND",num:20},{id:5,type:"SKIN_LIMIT_TREASURE"},{id:12,type:"DIAMOND",num:10}]},LOTTERY_CRYSTAL_INTERVAL={hero:[150,200],skin:[150,200]},LOTTERY_SUPPLY_MODE=[{label:"30秒/1个",seconds:30,count:1},{label:"1分钟/2个",seconds:60,count:2},{label:"3分钟/5个",seconds:3*60,count:5},{label:"5分钟/7个",seconds:5*60,count:7},{label:"10分钟/15个",seconds:10*60,count:15},{label:"20分钟/30个",seconds:20*60,count:30},{label:"30分钟/40个",seconds:30*60,count:40},{label:"1小时/50个",seconds:1*60*60,count:50},{label:"2小时/75个",seconds:3*60*60,count:75},{label:"3小时/100个",seconds:3*60*60,count:100},{label:"5小时/125个",seconds:5*60*60,count:125},{label:"7小时/150个",seconds:7*60*60,count:150},{label:"9小时/200个",seconds:9*60*60,count:200}],LOTTERY_SUPPLY_LIMIT=5,LOTTERY_STONE_WEEK_CARD_GRANT={HERO:{STONE:25,COIN:25},SKIN:{STONE:25,COIN:25}},TASK_LIST=()=>[{id:"de89",type:"DAILY",label:"在线奖励",desc:"在线时间超过10分钟",receive:!1,props:[{key:"GOLD",num:100},{key:"DIAMOND",num:50}],schedule:[{label:"今日已在线",unit:"(分钟)",value:0,total:10}]},{id:"qw27",type:"DAILY",label:"每日消费",desc:"去商城使用金币和钻石购买一次道具",receive:!1,path:ROUTE_PATH.PROP_SHOP,props:[{key:"GOLD",num:100},{key:"DIAMOND",num:50}],schedule:[{label:"今日已消费金币",unit:"(次)",value:0,total:1},{label:"今日已消费钻石",unit:"(次)",value:0,total:1}]},{id:"mx25",type:"DAILY",label:"每日夺宝",desc:"完成5次英雄夺宝和皮肤夺宝",receive:!1,props:[{key:"HERO_LOTTERY_STONE",num:5},{key:"SKIN_LOTTERY_STONE",num:5}],schedule:[{label:"今日英雄夺宝",unit:"(次)",value:0,total:5},{label:"今日皮肤夺宝",unit:"(次)",value:0,total:5}]},{id:"r88v",type:"DAILY",label:"双倍的诱惑",desc:"使用一次双倍金币卡和双倍经验卡",receive:!1,props:[{key:"GOLD",num:100},{key:"DIAMOND",num:50}],schedule:[{label:"今日已使用双倍金币卡",unit:"(次)",value:0,total:1},{label:"今日已使用双倍经验卡",unit:"(次)",value:0,total:1}]},{id:"sp37",type:"DAILY",label:"每日补给",desc:"领取一次英雄夺宝补给和皮肤夺宝补给",receive:!1,props:[{key:"HERO_LOTTERY_COIN",num:5},{key:"SKIN_LOTTERY_COIN",num:5}],schedule:[{label:"今日英雄夺宝补给领取",unit:"(次)",value:0,total:1},{label:"今日皮肤夺宝补给领取",unit:"(次)",value:0,total:1}]},{id:"d1b7",type:"DAILY",label:"英雄夺宝达人",desc:"消耗完今日赠送的英雄夺宝币和夺宝石",receive:!1,path:ROUTE_PATH.HERO_LOTTERY,props:[{key:"HERO_LOTTERY_COIN",num:5},{key:"HERO_LOTTERY_STONE",num:5}],schedule:[{label:"今日已消耗夺宝币",unit:"(枚)",value:0,total:25},{label:"今日已消耗夺宝石",unit:"(个)",value:0,total:25}]},{id:"q35i",type:"DAILY",label:"皮肤夺宝达人",desc:"消耗完今日赠送的皮肤夺宝币和夺宝石",receive:!1,path:ROUTE_PATH.SKIN_LOTTERY,props:[{key:"SKIN_LOTTERY_COIN",num:5},{key:"SKIN_LOTTERY_STONE",num:5}],schedule:[{label:"今日已消耗夺宝币",unit:"(枚)",value:0,total:25},{label:"今日已消耗夺宝石",unit:"(个)",value:0,total:25}]},{id:"o1u8",type:"DAILY",label:"免费英雄夺宝石",desc:"通过英雄夺宝补给站获取25个英雄夺宝石",receive:!1,path:ROUTE_PATH.HERO_LOTTERY,props:[{key:"HERO_LOTTERY_COIN",num:5},{key:"HERO_LOTTERY_STONE",num:5}],schedule:[{label:"今日已获取夺宝石",unit:"(个)",value:0,total:25}]},{id:"vk13",type:"DAILY",label:"免费皮肤夺宝石",desc:"通过皮肤夺宝补给站获取25个皮肤夺宝石",receive:!1,path:ROUTE_PATH.SKIN_LOTTERY,props:[{key:"SKIN_LOTTERY_COIN",num:5},{key:"SKIN_LOTTERY_STONE",num:5}],schedule:[{label:"今日已获取夺宝石",unit:"(个)",value:0,total:25}]},{id:"q20y",type:"WEEKLY",label:"闲暇时光",desc:"在线时长累计两小时",receive:!1,props:[{key:"HERO_DEBRIS",num:5},{key:"SKIN_DEBRIS",num:10}],schedule:[{label:"本周已在线",unit:"(分钟)",value:0,total:120}]},{id:"a21l",type:"WEEKLY",label:"常往の客",desc:"连续七天登录",receive:!1,props:[{key:"HERO_TREASURE",num:7},{key:"SKIN_BRAVE_TREASURE",num:7},{key:"SKIN_EPIC_TREASURE",num:7},{key:"SKIN_LEGEND_TREASURE",num:7},{key:"SKIN_LIMIT_TREASURE",num:7}],schedule:[{label:"本周已登录",unit:"(天)",value:0,total:7}]},{id:"a6b9",type:"WEEKLY",label:"天天领取夺宝石",desc:"使用一次英雄夺宝石周卡和皮肤夺宝石周卡",receive:!1,path:ROUTE_PATH.PROP_SHOP,props:[{key:"GUESS_CARD",num:10}],schedule:[{label:"本周英雄夺宝石周卡",unit:"(次)",value:0,total:1},{label:"本周皮肤夺宝石周卡",unit:"(次)",value:0,total:1}]},{id:"pc22",type:"WEEKLY",label:"一块都没有了",desc:"两次用完所有英雄或皮肤夺宝石补给站的额度",receive:!1,props:[{key:"HERO_LOTTERY_STONE",num:200},{key:"SKIN_LOTTERY_STONE",num:200}],schedule:[{label:"本周用完某日英雄或皮肤夺宝石补给站额度",unit:"(次)",value:0,total:2}]},{id:"om70",type:"WEEKLY",label:"夺宝狂魔",desc:"连续一周消耗完每日赠送的夺宝币",receive:!1,props:[{key:"HERO_DEBRIS",num:10},{key:"SKIN_DEBRIS",num:20}],schedule:[{label:"本周消耗英雄夺宝币",unit:"(枚)",value:0,total:25*7},{label:"本周消耗皮肤夺宝币",unit:"(枚)",value:0,total:25*7}]}],GUESS_COUNT_LIMIT=25,GAME_CONFIG=Object.freeze(Object.defineProperty({__proto__:null,EXP_NAME,GUESS_COUNT_LIMIT,LOTTERY_AWARD,LOTTERY_CRYSTAL_INTERVAL,LOTTERY_STONE_WEEK_CARD_GRANT,LOTTERY_SUPPLY_LIMIT,LOTTERY_SUPPLY_MODE,TASK_LIST,UPGRADE_EXP,UPGRADE_GIFT,UPGRADE_RANGE},Symbol.toStringTag,{value:"Module"})),useWeekCard=()=>{const e=AuthStore(),r=MailStore(),n=e.user_data.heroLotteryStoneWeekCardExpireTime,a=e.user_data.skinLotteryStoneWeekCardExpireTime,s=(o,l,i,c,d)=>{r.sendGiftMail({title:o,desc:"别忘了明天0点之前也来领取哦！",props:[{key:l,num:c},{key:i,num:d}]})};n!==0&&n>dayjs().valueOf()&&s("英雄夺宝石周卡发放","HERO_LOTTERY_STONE","HERO_LOTTERY_COIN",LOTTERY_STONE_WEEK_CARD_GRANT.HERO.STONE,LOTTERY_STONE_WEEK_CARD_GRANT.HERO.COIN),a!==0&&a>dayjs().valueOf()&&s("皮肤夺宝石周卡发放","SKIN_LOTTERY_STONE","SKIN_LOTTERY_COIN",LOTTERY_STONE_WEEK_CARD_GRANT.SKIN.STONE,LOTTERY_STONE_WEEK_CARD_GRANT.SKIN.COIN),n!==0&&n<=dayjs().valueOf()&&(e.updateUserData({heroLotteryStoneWeekCardExpireTime:0}),r.sendMsgMail({title:"周卡过期提醒",desc:"你的英雄夺宝石周卡已过期，快去开卡吧！"})),a!==0&&a<=dayjs().valueOf()&&(e.updateUserData({skinLotteryStoneWeekCardExpireTime:0}),r.sendMsgMail({title:"周卡过期提醒",desc:"你的皮肤夺宝石周卡已过期，快去开卡吧！"}))},useCssClassToggle=()=>{const e=document.documentElement.classList;return{...{setShine(n){e.remove("soft-light"),n?e.add("soft-light"):e.remove("soft-light")}}}},ExposeData={collapse:ref(!1)},{collapse}=ExposeData,ExposeMethods={toggleCollapse(){collapse.value=!collapse.value},setCollapse(e){collapse.value=e}};collapse.value=window.innerWidth<960;const useCollapse=()=>({...ExposeData,...ExposeMethods});watch(collapse,()=>{$bus.emit("update-waterfall")});const zip_key_name={AUDIO:"音效包",IMAGE_ACTIVITY_BANNER:"活动Banner图包",IMAGE_BLUR:"模糊海报图包",IMAGE_HERO_AVATAR:"英雄大头贴",IMAGE_MINECRAFT:"Minecraft贴图包",IMAGE_MISC:"杂图包",IMAGE_PROPS:"道具图包",IMAGE_MINI_HERO:"迷你英雄图包",VIDEO_HOME:"主页视频"},audio_links=ref({}),image_activity_banner_links=ref({}),image_blur_links=ref({}),image_hero_avatar_links=ref({}),image_minecraft_links=ref({}),image_mini_hero_links=ref({}),image_misc_links=ref({}),image_props_links=ref({}),video_home_links=ref({}),useGetZip=()=>{const{audio_version:e,image_activity_banner_version:r,image_blur_version:n,image_hero_avatar_version:a,image_minecraft_version:s,image_misc_version:o,image_props_version:l,image_mini_hero_version:i,video_home_version:c,load:d}=useStaticResourceVersion(),_={audio_links,image_activity_banner_links,image_blur_links,image_hero_avatar_links,image_minecraft_links,image_misc_links,image_props_links,image_mini_hero_links,video_home_links,zip_name:ref(""),zip_size:ref("正在计算..."),zip_downloaded_size:ref("0KB"),zip_download_progress:ref("0%"),zip_download_finish:ref(!1),zip_decompression_progress:ref("0%"),zip_decompression_finish:ref(!1)},{zip_name:u,zip_size:p,zip_downloaded_size:f,zip_download_progress:v,zip_download_finish:h,zip_decompression_progress:m,zip_decompression_finish:g}=_,E=(T,w,O)=>(u.value=zip_key_name[O],new Promise(A=>{if(Object.keys(T.value).length){A();return}_downloadZip(w,ZipResource,O,L=>{const{size:B,downloaded_size:U,download_progress:j,download_finish:N,decompression_progress:F,decompression_finish:S}=L;h.value&&g.value||(p.value=B,f.value=U,v.value=j,h.value=N,m.value=F,g.value=S)}).then(L=>{T.value=L,A()}).catch(()=>{$msgTipText("rc53",{v:zip_key_name[O]})})}));return{..._,...{async getZipList(){await d(),await E(audio_links,`${RESOURCE_NAME.ZIP_AUDIO}?t=${e.value}`,"AUDIO"),await E(image_activity_banner_links,`${RESOURCE_NAME.ZIP_IMAGE_ACTIVITY_BANNER}?t=${r.value}`,"IMAGE_ACTIVITY_BANNER"),await E(image_blur_links,`${RESOURCE_NAME.ZIP_IMAGE_BLUR}?t=${n.value}`,"IMAGE_BLUR"),await E(image_hero_avatar_links,`${RESOURCE_NAME.ZIP_IMAGE_HERO_AVATAR}?t=${a.value}`,"IMAGE_HERO_AVATAR"),await E(image_minecraft_links,`${RESOURCE_NAME.ZIP_IMAGE_MINECRAFT}?t=${s.value}`,"IMAGE_MINECRAFT"),await E(image_misc_links,`${RESOURCE_NAME.ZIP_IMAGE_MISC}?t=${o.value}`,"IMAGE_MISC"),await E(image_props_links,`${RESOURCE_NAME.ZIP_IMAGE_PROPS}?t=${l.value}`,"IMAGE_PROPS"),await E(image_mini_hero_links,`${RESOURCE_NAME.ZIP_IMAGE_MINI_HERO}?t=${i.value}`,"IMAGE_MINI_HERO"),await E(video_home_links,`${RESOURCE_NAME.ZIP_VIDEO_HOME}?t=${c.value}`,"VIDEO_HOME"),h.value=!0,g.value=!0}}}},get=async(e,r="BASE")=>{const{BaseData:n,VoiceData:a}=useIndexedDB();return r==="BASE"?await n.getItem(e):await a.getItem(e)},getEpigraphList=async()=>await get(LOCAL_KEY.EPIGRAPH),getEpigraphColorList=async()=>await get(LOCAL_KEY.EPIGRAPH_COLOR),getEpigraphEffectList=async()=>await get(LOCAL_KEY.EPIGRAPH_EFFECT),getEpigraphImageList=async()=>await get(LOCAL_KEY.EPIGRAPH_IMAGE),getEpigraphNameList=async()=>await get(LOCAL_KEY.EPIGRAPH_NAME),getEpigraphTypeList=async()=>await get(LOCAL_KEY.EPIGRAPH_TYPE),getEquipList=async()=>await get(LOCAL_KEY.EQUIP),getEquipDescList=async()=>await get(LOCAL_KEY.EQUIP_DESC),getEquipEffectList=async()=>await get(LOCAL_KEY.EQUIP_EFFECT),getEquipImageList=async()=>await get(LOCAL_KEY.EQUIP_IMAGE),getEquipLevelList=async()=>await get(LOCAL_KEY.EQUIP_LEVEL),getEquipMotivationList=async()=>await get(LOCAL_KEY.EQUIP_MOTIVATION),getEquipNameList=async()=>await get(LOCAL_KEY.EQUIP_NAME),getEquipNOteList=async()=>await get(LOCAL_KEY.EQUIP_NOTE),getEquipPriceList=async()=>await get(LOCAL_KEY.EQUIP_PRICE),getEquipSyntheticList=async()=>await get(LOCAL_KEY.EQUIP_SYNTHETIC),getEquipTypeList=async()=>await get(LOCAL_KEY.EQUIP_TYPE),getHeroList=async()=>await get(LOCAL_KEY.HERO),getHeroPriceList=async()=>await get(LOCAL_KEY.HERO_PRICE),getHeroAttrList=async()=>await get(LOCAL_KEY.HERO_ATTR),getHeroCampList=async()=>await get(LOCAL_KEY.HERO_CAMP),getHeroGenderList=async()=>await get(LOCAL_KEY.HERO_GENDER),getHeroAvatarList=async()=>await get(LOCAL_KEY.HERO_AVATAR),getHeroHeightList=async()=>await get(LOCAL_KEY.HERO_HEIGHT),getHeroResumeList=async()=>await get(LOCAL_KEY.HERO_RESUME),getHeroIdentityList=async()=>await get(LOCAL_KEY.HERO_IDENTITY),getHeroImageList=async()=>await get(LOCAL_KEY.HERO_IMAGE),getHeroLocationList=async()=>await get(LOCAL_KEY.HERO_LOCATION),getHeroMarkList=async()=>await get(LOCAL_KEY.HERO_MARK),getHeroNameList=async()=>await get(LOCAL_KEY.HERO_NAME),getHeroPeriodList=async()=>await get(LOCAL_KEY.HERO_PERIOD),getHeroPinyinList=async()=>await get(LOCAL_KEY.HERO_PINYIN),getHeroProfessionList=async()=>await get(LOCAL_KEY.HERO_PROFESSION),getHeroRaceList=async()=>await get(LOCAL_KEY.HERO_RACE),getHeroRelationshipList=async()=>await get(LOCAL_KEY.HERO_RELATIONSHIP),getHeroSkillUnitList=async()=>await get(LOCAL_KEY.HERO_SKILL_UNIT),getHeroSkinList=async()=>await get(LOCAL_KEY.HERO_SKIN),getHeroSpecialtyList=async()=>await get(LOCAL_KEY.HERO_SPECIALTY),getSkillList=async()=>await get(LOCAL_KEY.HERO_SKILL),getSkinList$1=async()=>await get(LOCAL_KEY.SKIN),getSkinHeroList=async()=>await get(LOCAL_KEY.SKIN_HERO),getSkinImageList=async()=>await get(LOCAL_KEY.SKIN_IMAGE),getSkinNameList=async()=>await get(LOCAL_KEY.SKIN_NAME),getSkinPriceList=async()=>await get(LOCAL_KEY.SKIN_PRICE),getSkinTypeList=async()=>await get(LOCAL_KEY.SKIN_TYPE),getVoiceList=async e=>await get(e,"VOICE"),getTypeCampList=async()=>await get(LOCAL_KEY.TYPE_CAMP),getTypeEpigraphList=async()=>await get(LOCAL_KEY.TYPE_EPIGRAPH),getTypeEpigraphEffectList=async()=>await get(LOCAL_KEY.TYPE_EPIGRAPH_EFFECT),getTypeEquipList=async()=>await get(LOCAL_KEY.TYPE_EQUIP),getTypeEquipEffectList=async()=>await get(LOCAL_KEY.TYPE_EQUIP_EFFECT),getTypePeriodList=async()=>await get(LOCAL_KEY.TYPE_PERIOD),getTypeProfessionList=async()=>await get(LOCAL_KEY.TYPE_PROFESSION),getTypeSkinList=async()=>await get(LOCAL_KEY.TYPE_SKIN),getHeroPriceKvp=async()=>{const e=await getHeroPriceList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroAttrKvp=async()=>{const e=await getHeroAttrList(),r={};return e.forEach(n=>{r[n.id]={id:n.id,attack:n.attack,difficulty:n.difficulty,effect:n.effect,survival:n.survival}}),r},getHeroPinyinKvp=async()=>{const e=await getHeroPinyinList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroCampKvp=async()=>{const e=await getHeroCampList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroAvatarKvp=async()=>{const e=await getHeroAvatarList(),r={};return e.forEach(n=>{r[n.id]=BASE_CONFIG.IMGBED+n.value}),r},getHeroImageKvp=async()=>{const e=await getHeroImageList(),r={};return e.forEach(n=>{r[n.id]={cover:BASE_CONFIG.IMGBED+n.cover,coverBlur:_getBlurImgLink(n.coverBlur),poster:BASE_CONFIG.IMGBED+n.poster,posterBlur:_getBlurImgLink(n.posterBlur),posterBig:BASE_CONFIG.IMGBED+n.posterBig}}),r},getHeroHeightKvp=async()=>{const e=await getHeroHeightList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroResumeKvp=async()=>{const e=await getHeroResumeList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroIdentityKvp=async()=>{const e=await getHeroIdentityList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroLocationKvp=async()=>{const e=await getHeroLocationList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroMarkKvp=async()=>{const e=await getHeroMarkList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroNameKvp=async()=>{const e=await getHeroNameList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroPeriodKvp=async()=>{const e=await getHeroPeriodList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroRaceKvp=async()=>{const e=await getHeroRaceList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroSkillUnitKvp=async()=>{const e=await getHeroSkillUnitList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroGenderKvp=async()=>{const e=await getHeroGenderList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroProfessionListKvp=async()=>{const e=await getHeroProfessionList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroSpecialtyListKvp=async()=>{const e=await getHeroSpecialtyList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroSkillListKvp=async()=>{const e=await getSkillList(),r={};return e.forEach(n=>{r[n.id]=n.skills.map(a=>a.map(s=>({...s,img:BASE_CONFIG.IMGBED+s.img,desc:_setSkillHighlight(s.desc)})))}),r},getHeroSkinListKvp$1=async()=>{const e=await getHeroSkinList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getHeroRelationshipListKvp=async()=>{const e=await getHeroRelationshipList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getSkinHeroKvp=async()=>{const e=await getSkinHeroList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getSkinImageKvp=async()=>{const e=await getSkinImageList(),r={};return e.forEach(n=>{r[n.id]={avatar:BASE_CONFIG.IMGBED+n.avatar,cover:BASE_CONFIG.IMGBED+n.cover,poster:BASE_CONFIG.IMGBED+n.poster,posterBig:BASE_CONFIG.IMGBED+n.posterBig,posterBlur:_getBlurImgLink(n.posterBlur)}}),r},getSkinNameKvp=async()=>{const e=await getSkinNameList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getSkinPriceKvp=async()=>{const e=await getSkinPriceList(),r={};return e.forEach(n=>{r[n.id]={price:n.value,debris:n.debris||""}}),r},getSkinTypeKvp=async()=>{const e=await getSkinTypeList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getSkinVoiceListKvp=async()=>{const e=await getHeroNameList(),r={};for(let n=0;n<e.length;n++){const a=e[n];r[a.id]=await getVoiceList(a.value)}return r},getEquipDescKvp=async()=>{const e=await getEquipDescList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipEffectKvp$1=async()=>{const e=await getEquipEffectList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipImageKvp=async()=>{const e=await getEquipImageList(),r={};return e.forEach(n=>{r[n.id]={icon:BASE_CONFIG.IMGBED+n.icon,iconBlur:BASE_CONFIG.IMGBED+n.iconBlur}}),r},getEquipLevelKvp=async()=>{const e=await getEquipLevelList(),r={};return e.forEach(n=>{r[n.id]=n}),r},getEquipMotivationKvp=async()=>{const e=await getEquipMotivationList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipNameKvp=async()=>{const e=await getEquipNameList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipNoteKvp=async()=>{const e=await getEquipNOteList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipPriceKvp=async()=>{const e=await getEquipPriceList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipSyntheticKvp=async()=>{const e=await getEquipSyntheticList(),r={};return e.forEach(n=>{r[n.id]=n}),r},getEquipTypeKvp=async()=>{const e=await getEquipTypeList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphColorKvp=async()=>{const e=await getEpigraphColorList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphEffectKvp$1=async()=>{const e=await getEpigraphEffectList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphImageKvp=async()=>{const e=await getEpigraphImageList(),r={};return e.forEach(n=>{r[n.id]={img:BASE_CONFIG.IMGBED+n.img,imgBlur:_getBlurImgLink(n.imgBlur)}}),r},getEpigraphNameKvp=async()=>{const e=await getEpigraphNameList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphTypeKvp=async()=>{const e=await getEpigraphTypeList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getCampKvp=async()=>{const e=await getTypeCampList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphKvp=async()=>{const e=await getTypeEpigraphList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEpigraphEffectKvp=async()=>{const e=await getTypeEpigraphEffectList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipKvp=async()=>{const e=await getTypeEquipList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getEquipEffectKvp=async()=>{const e=await getTypeEquipEffectList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getPeriodKvp=async()=>{const e=await getTypePeriodList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getProfessionKvp=async()=>{const e=await getTypeProfessionList(),r={};return e.forEach(n=>{r[n.id]=n.value}),r},getSkinKvp$1=async()=>{const e=await getTypeSkinList(),r={};return e.forEach(n=>{r[n.id]=n}),r},getHeroAtlas=async()=>{const e=await getHeroList(),r=await getHeroNameKvp(),n=await getHeroGenderKvp(),a=await getHeroImageKvp(),s=await getHeroProfessionListKvp(),o=await getHeroSkinListKvp$1(),l=await getSkinImageKvp(),i=await getSkinNameKvp(),c=await getProfessionKvp(),d=[];for(let _=0;_<e.length;_++){const u=e[_],{cover:p,coverBlur:f,poster:v,posterBlur:h,posterBig:m}=a[u],g=s[u].map(k=>c[k]),E=o[u].map(k=>{const{cover:T,poster:w,posterBlur:O,posterBig:A}=l[k];return{id:k,name:i[k],poster:w,cover:T,posterBlur:O,posterBig:A}});d[_]={id:u,name:r[u],gender:n[u],poster:v,cover:p,posterBlur:h,posterBig:m,coverBlur:f,profession:g,skins:E}}return d},getHeroDataList=async()=>{var B;const e=await getHeroList(),r=await getHeroPriceKvp(),n=await getHeroAttrKvp(),a=await getHeroCampKvp(),s=await getHeroAvatarKvp(),o=await getHeroImageKvp(),l=await getHeroHeightKvp(),i=await getHeroResumeKvp(),c=await getHeroIdentityKvp(),d=await getHeroLocationKvp(),_=await getHeroMarkKvp(),u=await getHeroNameKvp(),p=await getHeroPeriodKvp(),f=await getHeroRaceKvp(),v=await getHeroSkillUnitKvp(),h=await getHeroGenderKvp(),m=await getHeroProfessionListKvp(),g=await getHeroSpecialtyListKvp(),E=await getHeroSkillListKvp(),k=await getHeroRelationshipListKvp(),T=await getHeroSkinListKvp$1(),w=await getCampKvp(),O=await getPeriodKvp(),A=await getProfessionKvp(),L=[];for(let U=0;U<e.length;U++){const j=e[U],{attack:N,difficulty:F,effect:S,survival:q}=n[j],{cover:ue,coverBlur:te,poster:ge,posterBlur:re,posterBig:me}=o[j],z=m[j].map(Y=>A[Y]);L[U]={id:j,attack:N,difficulty:F,effect:S,survival:q,cover:ue,coverBlur:te,poster:ge,posterBlur:re,posterBig:me,price:r[j],camp:w[a[j]],avatar:s[j],height:l[j],resume:i[j],identity:c[j],location:d[j],mark:_[j],name:u[j],period:O[p[j]],race:f[j],skillUnit:v[j],gender:h[j],profession:z,specialty:g[j],skills:E[j],skinCount:T[j].length,relationCount:((B=k[j])==null?void 0:B.length)||0}}return L},getHeroKvp=async()=>{const e=await getHeroDataList(),r={};return e.forEach(n=>{r[n.id]=n}),r},getHeroDetail=async e=>{var E;const r=await getHeroDataList(),n=await getHeroNameKvp(),a=await getHeroAvatarKvp(),s=await getHeroSkinListKvp(),o=await getHeroRelationshipListKvp(),l=r.find(k=>k.id===e),i=(E=o[e])==null?void 0:E.map(k=>({...k,avatar:a[k.id],heroName:n[k.id]})),c={...l,skins:s[e],relationships:i||[]},{cover:d,gender:_,avatar:u,id:p,name:f,poster:v,posterBig:h,posterBlur:m,profession:g}=l;return c.skins.unshift({id:0,category:"",link:"",alias:"",name:"原版皮肤",price:"",debris:"",type:0,cover:d,gender:_,avatar:u,hero:p,heroName:f,poster:v,posterBig:h,posterBlur:m,profession:g}),c},getSkinVoice=async(e,r)=>{const n=await getSkinVoiceListKvp(),a=await getHeroNameKvp();if(["梦奇","盾山"].includes(a[e]))return[];{const s=n[e].find(o=>o.name===r);return s||n[e].find(o=>o.name==="原皮")}},getHeroRelationshipDesc=async(e,r)=>{const n=await getHeroRelationshipListKvp(),a=await getHeroDetail(r),s=n[e].find(o=>o.id===r);return{relation:s.relation,desc:s.desc,gender:a.gender}},getSkinList=async()=>{const e=await getSkinList$1(),r=await getHeroNameKvp(),n=await getHeroGenderKvp(),a=await getHeroProfessionListKvp(),s=await getSkinNameKvp(),o=await getSkinHeroKvp(),l=await getSkinPriceKvp(),i=await getSkinTypeKvp(),c=await getSkinImageKvp(),d=await getSkinKvp$1(),_=await getProfessionKvp(),u=[];for(let p=0;p<e.length;p++){const f=e[p],{poster:v,posterBlur:h,posterBig:m,cover:g,avatar:E}=c[f];u[p]={id:f,hero:o[f],price:l[f].price,debris:l[f].debris,type:i[f],link:d[i[f]].link&&BASE_CONFIG.IMGBED+d[i[f]].link,category:d[i[f]].name,alias:d[i[f]].alias,gender:n[o[f]],name:s[f],poster:v,posterBlur:h,posterBig:m,cover:g,avatar:E,heroName:r[o[f]],profession:a[o[f]].map(k=>_[k])}}return u},getSkinDetail=async(e,r)=>(await getSkinList()).find(s=>s.hero===e&&s.name===r),getSkinKvp=async()=>{const e=await getSkinList(),r={};return e.forEach(n=>{r[n.id]=n}),r},getHeroSkinListKvp=async()=>{const e=await getHeroSkinList(),r=await getSkinKvp(),n={};return e.forEach(a=>{n[a.id]=a.value.map(s=>r[s])}),n},getEquip=async()=>{const e=await getEquipList(),r=await getEquipDescKvp(),n=await getEquipEffectKvp$1(),a=await getEquipImageKvp(),s=await getEquipLevelKvp(),o=await getEquipMotivationKvp(),l=await getEquipNameKvp(),i=await getEquipNoteKvp(),c=await getEquipPriceKvp(),d=await getEquipTypeKvp(),_=await getEquipKvp(),u=await getEquipEffectKvp(),p=[];for(let f=0;f<e.length;f++){const v=e[f],{icon:h,iconBlur:m}=a[v],g=n[v].map(E=>({name:u[E.name],num:E.num}));p[f]={id:v,desc:r[v],effect:g,icon:h,iconBlur:_getBlurImgLink(m),level:s[v].value,motivation:o[v],name:l[v],note:i[v],price:c[v],type:_[d[v]]}}return p},getEpigraph=async()=>{const e=await getEpigraphList(),r=await getEpigraphColorKvp(),n=await getEpigraphEffectKvp$1(),a=await getEpigraphImageKvp(),s=await getEpigraphNameKvp(),o=await getEpigraphTypeKvp(),l=await getEpigraphKvp(),i=await getEpigraphEffectKvp(),c=[];for(let d=0;d<e.length;d++){const _=e[d],{img:u,imgBlur:p}=a[_],f=o[_].map(h=>l[h]),v=n[_].map(h=>({num:h.num,type:i[h.type]}));c[d]={id:_,color:r[_],type:f,effect:v,img:u,imgBlur:p,name:s[_]}}return c},REQUEST=[[LOCAL_KEY.EPIGRAPH,Epigraph],[LOCAL_KEY.EPIGRAPH_COLOR,EpigraphColor],[LOCAL_KEY.EPIGRAPH_EFFECT,EpigraphEffect],[LOCAL_KEY.EPIGRAPH_IMAGE,EpigraphImage],[LOCAL_KEY.EPIGRAPH_NAME,EpigraphName],[LOCAL_KEY.EPIGRAPH_TYPE,EpigraphType],[LOCAL_KEY.EQUIP,Equip],[LOCAL_KEY.EQUIP_DESC,EquipDesc],[LOCAL_KEY.EQUIP_EFFECT,EquipEffect],[LOCAL_KEY.EQUIP_IMAGE,EquipImage],[LOCAL_KEY.EQUIP_LEVEL,EquipLevel],[LOCAL_KEY.EQUIP_MOTIVATION,EquipMotivation],[LOCAL_KEY.EQUIP_NAME,EquipName],[LOCAL_KEY.EQUIP_NOTE,EquipNote],[LOCAL_KEY.EQUIP_PRICE,EquipPrice],[LOCAL_KEY.EQUIP_SYNTHETIC,EquipSynthetic],[LOCAL_KEY.EQUIP_TYPE,EquipType],[LOCAL_KEY.HERO,Hero],[LOCAL_KEY.HERO_PRICE,HeroPrice],[LOCAL_KEY.HERO_ATTR,HeroAttr],[LOCAL_KEY.HERO_CAMP,HeroCamp],[LOCAL_KEY.HERO_GENDER,HeroGender],[LOCAL_KEY.HERO_AVATAR,HeroAvatar],[LOCAL_KEY.HERO_HEIGHT,HeroHeight],[LOCAL_KEY.HERO_RESUME,HeroResume$1],[LOCAL_KEY.HERO_IDENTITY,HeroIdentity],[LOCAL_KEY.HERO_IMAGE,HeroImage],[LOCAL_KEY.HERO_LOCATION,HeroLocation],[LOCAL_KEY.HERO_MARK,HeroMark],[LOCAL_KEY.HERO_NAME,HeroName],[LOCAL_KEY.HERO_PERIOD,HeroPeriod],[LOCAL_KEY.HERO_PINYIN,HeroPinyin],[LOCAL_KEY.HERO_PROFESSION,HeroProfession],[LOCAL_KEY.HERO_RACE,HeroRace],[LOCAL_KEY.HERO_RELATIONSHIP,HeroRelationship$1],[LOCAL_KEY.HERO_SKILL_UNIT,HeroSkillUnit],[LOCAL_KEY.HERO_SKIN,HeroSkin$1],[LOCAL_KEY.HERO_SPECIALTY,HeroSpecialty],[LOCAL_KEY.HERO_SKILL,Skill],[LOCAL_KEY.SKIN,Skin],[LOCAL_KEY.SKIN_HERO,SkinHero],[LOCAL_KEY.SKIN_IMAGE,SkinImage],[LOCAL_KEY.SKIN_NAME,SkinName],[LOCAL_KEY.SKIN_PRICE,SkinPrice],[LOCAL_KEY.SKIN_TYPE,SkinType],[LOCAL_KEY.TYPE_CAMP,TypeCamp],[LOCAL_KEY.TYPE_EPIGRAPH,TypeEpigraph],[LOCAL_KEY.TYPE_EPIGRAPH_EFFECT,TypeEpigraphEffect],[LOCAL_KEY.TYPE_EQUIP,TypeEquip],[LOCAL_KEY.TYPE_EQUIP_EFFECT,TypeEquipEffect],[LOCAL_KEY.TYPE_LOCATION,TypeLocation],[LOCAL_KEY.TYPE_PERIOD,TypePeriod],[LOCAL_KEY.TYPE_PROFESSION,TypeProfession],[LOCAL_KEY.TYPE_RACE,TypeRace],[LOCAL_KEY.TYPE_SKIN,TypeSkin],[LOCAL_KEY.TYPE_SPECIALTY,TypeSpecialty]],MOUSE_TIP={ak79:"临时静音当前页视频背景的声音",b6v2:"你知道我为什么要写这个网站吗？",br37:"快去访问代码仓库吧！",c1g6:"作为一个王者玩家，怎么能少了秀战绩",c3x1:"免费改名改头像~",er37:"设置",i6u1:"折叠/展开侧边栏",iv65:"过滤{gender}性",jx58:"我全都看",kb43:"还支持拼音简写搜索",kr17:"点击头像可查看英雄详情",kz53:"点击切换{v}",mi32:"滚动到当前页",mk66:"关闭当前页面",ns41:"点击切换铭文颜色",qu12:"点击右边库存的铭文进行填充",vz42:"点击铭文，定位库存中的铭文",ty38:"保存资料",xv00:"显示全部铭文颜色",wt86:"使用这个方案",sg22:"点击播放",sb17:"点击替换当前的槽位中的铭文",fe59:"点击填充空槽位",mc72:"点击切换显示类型",vz77:"访问我的Github主页",zq77:"点击查看大图，支持鼠标拖动及滚轮缩放",o12u:"点击查看大图及语音，支持鼠标拖动及滚轮缩放",mv02:"点击文字查看大图及语音，支持鼠标拖动及滚轮缩放",n1w6:"{v}图片，电脑直接鼠标滚轮滚动放大就行了",pd85:"开启后，点击底部导航栏就可以调整播放进度",ph01:"开启后，在一些地方悬浮、选中元素会有发光效果",i7w1:"开启后，点击弹幕可查看弹幕信息",ph48:"开启后，底部音乐播放器会有粒子效果",po14:"开启后，在某些场景会触发小贴士，在左上、右上、左下、右下角弹出",q3k7:"上一首",q7a3:"下一首",qf48:"播放/暂停",r4r3:"播放列表",sj91:"关闭弹窗",sq28:"啥也没改，保存个寂寞",uc74:"选择的图片没有上传到服务器，只是转成base64存在本地使用",v41b:"没有完全支持多语言，只是为了配置而配置",vs71:"每一张原图可是经过“深度卷积神经网络”修复成4K的，官方的可没那么清晰",wk12:"没想到吧，我还做了多套技能的切换",yf23:"找不到好看的素材图，就拿个小蜘蛛来凑合凑合吧",zx48:"休想直接跳过",x5a6:"可以点了",jb12:"开启场景小贴士才能点击",k5j1:"恢复会自动刷新浏览器，确定要点吗？",wj32:"按下可拖拽",wc91:"回到铭文列表",qr58:"再次点击，删除铭文",w0h6:"当前槽位对应的铭文",ir00:"如果槽位全部为空，则不会显示关闭按钮",ph66:"正在使用这个方案",wi76:"修改铭文方案名称",ak96:"删除这个方案",g5l7:"填充铭文后才能点击",dz56:"向卡片写入新数据并导出卡片",wk98:"开发者拥有所有资源",cl81:"注册会下载用于登录的召唤师卡文件",zk84:"夺宝币用完了，快去补给站或道具商店获取夺宝石吧！",c2y9:"剩余次数不够5次了",d7i9:"你还没有获取该{v}，所以无法切换",a20t:"你还没有获取该{v}，所以无法查看",lq42:"升级成功后自动领取对应奖励",lq48:"奖励在这儿发放",nz58:"任务",g9u9:"快来参加竞猜活动吧！",g9x6:"选择上次在站内退卡的召唤师卡片文件",xj79:"卡片初始密码123456，但也别忘了去修改密码哦！",q1s7:"你可以先阅读邮件再一键领取",kq36:"看看你在本站有多活跃吧！",lr80:"通过ID发放邮箱奖励的功能被砍掉了...",ix29:"选择的图片会自动压缩，请放心选择头像",lb97:"头像素材来自花瓣网",i73w:"将所有部件还原至上次修改",jt87:"重新选择英雄",pa66:"请选择后再领取",e8p6:"点击滚动到“{v}”",fr70:"",d21q:"",hq27:"",xw29:"",fc15:"",l1c4:"",xo74:""},$mouseTipText=(e,r)=>{let n=MOUSE_TIP[e];return Object.entries(r).forEach(([a,s])=>{n=n.replaceAll(`{${a}}`,s.toString())}),n},CONFIRM_TIP={i8p8:"确定[重置]所有配置项？",wd31:"退卡会[销毁]当前插入的卡片，请确保你已经[下载]了最新卡片文件，否则你的数据将[永久丢失]，如果已下载,请点击确定。",wi59:"确认[换卡]登录吗？",q7h5:"确定[拆卸]铭文吗？",va64:"确定删除[{name}]这个方案吗？",ao63:"即将从远程下载当前数据进行覆盖。",p89n:"[{prop}]不足，是否[前往获取]？",r36m:"确定花费[{count}]个[{prop}]兑换[{name}]吗？",eb14:"你还没有获取该{v}，是否[前往购买]？",yb85:"夺宝币[用完了]，快去[补给站]或[道具商店]获取夺宝石吧！",wr91:"夺宝币[不足5个]，先[夺宝一次]吧！",qv90:"夺宝石[不足5个]，先[夺宝一次]吧！",ah95:"资料[已修改]，确定[关闭]吗？",jn63:"终止后[只能领取]当前倒计时过去时间的[上一个补给模式奖励]，确定[终止补给]吗？",ob55:"今日剩余夺宝石补给数量[{v}]个，当前模式[已超出]剩余补给数量，确定让系统[自动选择]模式吗？",m2x2:"确定使用一张[{v}]吗？",jt83:"已有[{v}]生效中，是否继续使用一张延续时间？",vj93:"即将进入[全屏模式]，此时浏览器尺寸一旦与屏幕尺寸不匹配，将判定有[作弊嫌疑]并[退出竞猜]，下次参与竞猜将[自动扣除竞猜券]，确定开始吗？",ee02:"由于上一次未正常[退出竞猜]，已[扣除]一张竞猜券。",yn45:"由于你的[竞猜券]扣除为[0]，请前往[道具商店]购买[竞猜券]。",vk62:"确定花费[{price}]个[{name}]购买[{part}]吗？",vt39:"确定删除[{order}]订单吗？",nl88:"确定清空购物车吗？",uv41:"",wl74:"",nh44:"",qh65:"",fx84:"",a99u:"",rh92:""},$confirmText=(e,r)=>{let n=CONFIRM_TIP[e];return Object.entries(r).forEach(([a,s])=>{n=n.replaceAll(`{${a}}`,s.toString())}),n},ANNULUS_COLOR=[{id:"dd09",color:"var(--white)"},{id:"ou51",color:"#e74c3c"},{id:"wr44",color:"#e67e22"},{id:"i4k2",color:"#f1c40f"},{id:"yi92",color:"#2ecc71"},{id:"x4k2",color:"#12cbc4"},{id:"d6h3",color:"#0078bd"},{id:"dn92",color:"#be2edd"}],ANNULUS_IMG=[{id:"tp44",img:"annulus_apple_small"},{id:"hq05",img:"annulus_bamboo_small"},{id:"e2n3",img:"annulus_blaze_powder_small"},{id:"n9p2",img:"annulus_bone_small"},{id:"zo60",img:"annulus_bucket_lava_small"},{id:"vc25",img:"annulus_bucket_water_small"},{id:"qt21",img:"annulus_cake_small"},{id:"gz88",img:"annulus_carrot_small"},{id:"hs43",img:"annulus_chicken_cooked_small"},{id:"zl95",img:"annulus_clock_item_small"},{id:"w52z",img:"annulus_coal_small"},{id:"xt20",img:"annulus_compass_item_small"},{id:"uq54",img:"annulus_cookie_small"},{id:"la77",img:"annulus_diamond_small"},{id:"lr11",img:"annulus_diamond_pickaxe_small"},{id:"kk81",img:"annulus_diamond_axe_small"},{id:"e9k8",img:"annulus_diamond_shovel_small"},{id:"b4n8",img:"annulus_diamond_hoe_small"},{id:"og09",img:"annulus_diamond_sword_small"},{id:"jh83",img:"annulus_dragons_breath_small"},{id:"c3c7",img:"annulus_dye_powder_blue_small"},{id:"v4r8",img:"annulus_emerald_small"},{id:"li63",img:"annulus_ender_eye_small"},{id:"k1x0",img:"annulus_ender_pearl_small"},{id:"mb84",img:"annulus_experience_bottle_small"},{id:"ra82",img:"annulus_fireball_small"},{id:"t3g5",img:"annulus_fireworks_small"},{id:"cw30",img:"annulus_fish_clownfish_raw_small"},{id:"fg95",img:"annulus_fish_pufferfish_raw_small"},{id:"f7x7",img:"annulus_fish_salmon_raw_small"},{id:"k87g",img:"annulus_flower_dandelion_small"},{id:"bb70",img:"annulus_flower_rose_small"},{id:"tv90",img:"annulus_gold_ingot_small"},{id:"g9v9",img:"annulus_melon_small"},{id:"ml06",img:"annulus_nether_star_small"},{id:"jt50",img:"annulus_record_13_small"},{id:"a5w0",img:"annulus_record_blocks_small"},{id:"df69",img:"annulus_record_cat_small"},{id:"l9g3",img:"annulus_record_chirp_small"},{id:"w3a1",img:"annulus_record_far_small"},{id:"mo53",img:"annulus_record_mellohi_small"},{id:"ss35",img:"annulus_record_stal_small"},{id:"qd12",img:"annulus_record_strad_small"},{id:"iv15",img:"annulus_record_wait_small"},{id:"w9j7",img:"annulus_record_ward_small"},{id:"zp43",img:"annulus_redstone_dust_small"},{id:"su32",img:"annulus_slimeball_small"},{id:"g81a",img:"annulus_snowball_small"},{id:"mb22",img:"annulus_totem_small"},{id:"o6o3",img:"annulus_trident_small"}],ANTENNA_COLOR=[{id:"sa20",colors:["var(--white-25)","var(--black-50)"]},{id:"hq73",colors:["rgba(231, 76, 60,0.25)","#e74c3c"]},{id:"wh10",colors:["rgba(230, 126, 34,0.25)","#e67e22"]},{id:"qk29",colors:["rgba(241, 196, 15,0.25)","#f1c40f"]},{id:"x90w",colors:["rgba(46, 204, 113,0.25)","#2ecc71"]},{id:"wi00",colors:["rgba(18, 203, 196,0.25)","#12cbc4"]},{id:"v4j2",colors:["rgba(52, 152, 219,0.25)","#3498db"]},{id:"ev89",colors:["rgba(190, 46, 221,0.25)","#be2edd"]}],ANTENNA_IMG=[{id:"cx34",img:"side_dirt_small"},{id:"v58o",img:"side_cobblestone_small"},{id:"mq32",img:"side_netherrack_small"},{id:"wl36",img:"side_soul_sand_small"},{id:"ts02",img:"side_bedrock_small"},{id:"tc30",img:"side_log_oak_small"},{id:"ad16",img:"side_log_spruce_small"},{id:"xb12",img:"side_log_big_oak_small"},{id:"ec53",img:"side_log_birch_small"},{id:"jo73",img:"side_log_acacia_small"},{id:"h0j8",img:"side_log_jungle_small"},{id:"ec25",img:"side_jukebox_side_small"},{id:"sh59",img:"side_tnt_side_small"},{id:"v7v4",img:"side_iron_block_small"},{id:"qc57",img:"side_gold_block_small"},{id:"cu19",img:"side_lapis_block_small"},{id:"yf31",img:"side_emerald_block_small"},{id:"i04j",img:"side_redstone_block_small"},{id:"b40h",img:"side_slime_small"},{id:"c4l3",img:"side_hay_block_side_small"},{id:"vp00",img:"side_brick_small"},{id:"ic29",img:"side_melon_side_small"},{id:"yd41",img:"side_redstone_lamp_off_small"}],BLUSH_COLOR=[{id:"nu37",color:"var(--white)"},{id:"b3r6",color:"#e74c3c"},{id:"w7x1",color:"#e67e22"},{id:"y5g2",color:"#f1c40f"},{id:"o00r",color:"#2ecc71"},{id:"e0d7",color:"#12cbc4"},{id:"nr35",color:"#0078bd"},{id:"os17",color:"#be2edd"}],EYE_COLOR=[{id:"wt02",colors:["var(--black)","var(--black-50)"]},{id:"tj88",colors:["rgb(64, 21, 17)","#e74c3c"]},{id:"lc39",colors:["rgb(64, 35, 9)","#e67e22"]},{id:"lq72",colors:["rgb(64, 52, 4)","#f1c40f"]},{id:"b61b",colors:["rgb(14, 64, 35)","#2ecc71"]},{id:"ar02",colors:["rgb(6, 64, 62)","#12cbc4"]},{id:"mc24",colors:["rgb(0, 40, 64)","#0078bd"]},{id:"bt67",colors:["rgb(55, 13, 64)","#be2edd"]}],MOUTH_COLOR=[{id:"ay75",colors:["var(--black)","var(--white-50)"]},{id:"qs82",colors:["rgb(64, 21, 17)","#e74c3c"]},{id:"v46e",colors:["rgb(64, 35, 9)","#e67e22"]},{id:"t7y7",colors:["rgb(64, 52, 4)","#f1c40f"]},{id:"at06",colors:["rgb(14, 64, 35)","#2ecc71"]},{id:"rr93",colors:["rgb(6, 64, 62)","#12cbc4"]},{id:"uu32",colors:["rgb(0, 40, 64)","#0078bd"]},{id:"v2i1",colors:["rgb(55, 13, 64)","#be2edd"]}],SIDE_COLOR=[{id:"nw39",colors:["var(--white-25)","var(--black)"]},{id:"et63",colors:["rgba(231, 76, 60,0.25)","#e74c3c"]},{id:"ok10",colors:["rgba(230, 126, 34,0.25)","#e67e22"]},{id:"ed38",colors:["rgba(241, 196, 15,0.25)","#f1c40f"]},{id:"mk09",colors:["rgba(46, 204, 113,0.25)","#2ecc71"]},{id:"kz18",colors:["rgba(18, 203, 196,0.25)","#12cbc4"]},{id:"es19",colors:["rgba(52, 152, 219,0.25)","#3498db"]},{id:"z31m",colors:["rgba(190, 46, 221,0.25)","#be2edd"]}],SIDE_IMG=[{id:"y8d9",front:"side_dirt_small",back:"side_dirt_small",top:"side_dirt_small",bottom:"side_dirt_small",left:"side_dirt_small",right:"side_dirt_small",shadow:"1"},{id:"yw29",front:"side_grass_side_carried_small",back:"side_grass_side_carried_small",top:"side_grass_carried_small",bottom:"side_coarse_dirt_small",left:"side_grass_side_carried_small",right:"side_grass_side_carried_small",shadow:"1"},{id:"a7f8",front:"side_cobblestone_small",back:"side_cobblestone_small",top:"side_cobblestone_small",bottom:"side_cobblestone_small",left:"side_cobblestone_small",right:"side_cobblestone_small",shadow:"1"},{id:"uu92",front:"side_netherrack_small",back:"side_netherrack_small",top:"side_netherrack_small",bottom:"side_netherrack_small",left:"side_netherrack_small",right:"side_netherrack_small",shadow:"1"},{id:"w9p0",front:"side_soul_sand_small",back:"side_soul_sand_small",top:"side_soul_sand_small",bottom:"side_soul_sand_small",left:"side_soul_sand_small",right:"side_soul_sand_small",shadow:"1"},{id:"qk97",front:"side_bedrock_small",back:"side_bedrock_small",top:"side_bedrock_small",bottom:"side_bedrock_small",left:"side_bedrock_small",right:"side_bedrock_small",shadow:"1"},{id:"vp82",front:"side_log_oak_small",back:"side_log_oak_small",top:"side_log_oak_top_small",bottom:"side_log_oak_top_small",left:"side_log_oak_small",right:"side_log_oak_small",shadow:"1"},{id:"xs30",front:"side_log_spruce_small",back:"side_log_spruce_small",top:"side_log_spruce_top_small",bottom:"side_log_spruce_top_small",left:"side_log_spruce_small",right:"side_log_spruce_small",shadow:"1"},{id:"y93u",front:"side_log_big_oak_small",back:"side_log_big_oak_small",top:"side_log_big_oak_top_small",bottom:"side_log_big_oak_top_small",left:"side_log_big_oak_small",right:"side_log_big_oak_small",shadow:"1"},{id:"zg30",front:"side_log_birch_small",back:"side_log_birch_small",top:"side_log_birch_top_small",bottom:"side_log_birch_top_small",left:"side_log_birch_small",right:"side_log_birch_small",shadow:"1"},{id:"gk79",front:"side_log_acacia_small",back:"side_log_acacia_small",top:"side_log_acacia_top_small",bottom:"side_log_acacia_top_small",left:"side_log_acacia_small",right:"side_log_acacia_small",shadow:"1"},{id:"o4s2",front:"side_log_jungle_small",back:"side_log_jungle_small",top:"side_log_jungle_top_small",bottom:"side_log_jungle_top_small",left:"side_log_jungle_small",right:"side_log_jungle_small",shadow:"1"},{id:"kv31",front:"side_crafting_table_front_small",back:"side_crafting_table_front_small",top:"side_crafting_table_top_small",bottom:"side_planks_oak_small",left:"side_crafting_table_side_small",right:"side_crafting_table_side_small",shadow:"1"},{id:"ow91",front:"side_diamond_block_small",back:"side_diamond_block_small",top:"side_diamond_block_small",bottom:"side_diamond_block_small",left:"side_diamond_block_small",right:"side_diamond_block_small",shadow:"1"},{id:"ot83",front:"side_jukebox_side_small",back:"side_jukebox_side_small",top:"side_jukebox_top_small",bottom:"side_itemframe_background_small",left:"side_jukebox_side_small",right:"side_jukebox_side_small",shadow:"1"},{id:"z4m7",front:"side_tnt_side_small",back:"side_tnt_side_small",top:"side_tnt_top_small",bottom:"side_tnt_bottom_small",left:"side_tnt_side_small",right:"side_tnt_side_small",shadow:"1"},{id:"em59",front:"side_iron_block_small",back:"side_iron_block_small",top:"side_iron_block_small",bottom:"side_iron_block_small",left:"side_iron_block_small",right:"side_iron_block_small",shadow:"0"},{id:"dc25",front:"side_gold_block_small",back:"side_gold_block_small",top:"side_gold_block_small",bottom:"side_gold_block_small",left:"side_gold_block_small",right:"side_gold_block_small",shadow:"0"},{id:"co87",front:"side_lapis_block_small",back:"side_lapis_block_small",top:"side_lapis_block_small",bottom:"side_lapis_block_small",left:"side_lapis_block_small",right:"side_lapis_block_small",shadow:"0"},{id:"nr42",front:"side_emerald_block_small",back:"side_emerald_block_small",top:"side_emerald_block_small",bottom:"side_emerald_block_small",left:"side_emerald_block_small",right:"side_emerald_block_small",shadow:"0"},{id:"bd85",front:"side_redstone_block_small",back:"side_redstone_block_small",top:"side_redstone_block_small",bottom:"side_redstone_block_small",left:"side_redstone_block_small",right:"side_redstone_block_small",shadow:"0"},{id:"ot89",front:"side_slime_small",back:"side_slime_small",top:"side_slime_small",bottom:"side_slime_small",left:"side_slime_small",right:"side_slime_small",shadow:"0"},{id:"jl19",front:"side_hay_block_side_small",back:"side_hay_block_side_small",top:"side_hay_block_top_small",bottom:"side_hay_block_top_small",left:"side_hay_block_side_small",right:"side_hay_block_side_small",shadow:"1"},{id:"a7y6",front:"side_brick_small",back:"side_brick_small",top:"side_brick_small",bottom:"side_brick_small",left:"side_brick_small",right:"side_brick_small",shadow:"1"},{id:"cq42",front:"side_melon_side_small",back:"side_melon_side_small",top:"side_melon_top_small",bottom:"side_melon_top_small",left:"side_melon_side_small",right:"side_melon_side_small",shadow:"1"},{id:"vo99",front:"side_redstone_lamp_off_small",back:"side_redstone_lamp_off_small",top:"side_redstone_lamp_off_small",bottom:"side_redstone_lamp_off_small",left:"side_redstone_lamp_off_small",right:"side_redstone_lamp_off_small",shadow:"1"}],WING_COLOR=[{id:"d55c",color:"var(--white-75)"},{id:"di67",color:"rgba(231, 76, 60,0.75)"},{id:"oa91",color:"rgba(230, 126, 34,0.75)"},{id:"zf30",color:"rgba(241, 196, 15,0.75)"},{id:"fk07",color:"rgba(46, 204, 113,0.75)"},{id:"j0u8",color:"rgba(18, 203, 196,0.75)"},{id:"k79t",color:"rgba(52, 152, 219,0.75)"},{id:"it00",color:"rgba(190, 46, 221,0.75)"}],WING_IMG=[{id:"g30x",img:"wing_coral_fan_blue_small"},{id:"d5r4",img:"wing_coral_fan_pink_small"},{id:"g2z7",img:"wing_coral_fan_purple_small"},{id:"x6e7",img:"wing_coral_fan_red_small"},{id:"nd12",img:"wing_coral_fan_yellow_small"},{id:"h7q5",img:"wing_coral_plant_blue_small"},{id:"hv67",img:"wing_coral_plant_pink_small"},{id:"sa93",img:"wing_coral_plant_purple_small"},{id:"o8g3",img:"wing_coral_plant_red_small"},{id:"u54k",img:"wing_coral_plant_yellow_small"}],PART_KEY_INFO={dd09:{type:"COLOR",name:"经典",price:"0"},ou51:{type:"COLOR",name:"红环",price:"100"},wr44:{type:"COLOR",name:"橙环",price:"100"},i4k2:{type:"COLOR",name:"黄环",price:"100"},yi92:{type:"COLOR",name:"绿环",price:"100"},x4k2:{type:"COLOR",name:"青环",price:"100"},d6h3:{type:"COLOR",name:"蓝环",price:"100"},dn92:{type:"COLOR",name:"紫环",price:"100"},tp44:{type:"IMG",name:"苹果",price:"100"},hq05:{type:"IMG",name:"竹子",price:"100"},e2n3:{type:"IMG",name:"烈焰粉",price:"100"},n9p2:{type:"IMG",name:"骨头",price:"100"},zo60:{type:"IMG",name:"岩浆桶",price:"100"},vc25:{type:"IMG",name:"水桶",price:"100"},qt21:{type:"IMG",name:"蛋糕",price:"100"},gz88:{type:"IMG",name:"胡萝卜",price:"100"},hs43:{type:"IMG",name:"熟鸡肉",price:"100"},zl95:{type:"IMG",name:"时钟",price:"100"},w52z:{type:"IMG",name:"煤炭",price:"100"},xt20:{type:"IMG",name:"指南针",price:"100"},uq54:{type:"IMG",name:"曲奇",price:"100"},la77:{type:"IMG",name:"钻石",price:"100"},lr11:{type:"IMG",name:"钻石镐",price:"100"},kk81:{type:"IMG",name:"钻石斧",price:"100"},e9k8:{type:"IMG",name:"钻石铲",price:"100"},b4n8:{type:"IMG",name:"钻石锄",price:"100"},og09:{type:"IMG",name:"钻石剑",price:"100"},jh83:{type:"IMG",name:"龙息",price:"100"},c3c7:{type:"IMG",name:"青金石",price:"100"},v4r8:{type:"IMG",name:"绿宝石",price:"100"},li63:{type:"IMG",name:"末影之眼",price:"100"},k1x0:{type:"IMG",name:"末影珍珠",price:"100"},mb84:{type:"IMG",name:"附魔之瓶",price:"100"},ra82:{type:"IMG",name:"火焰弹",price:"100"},t3g5:{type:"IMG",name:"焰火",price:"100"},cw30:{type:"IMG",name:"小丑鱼",price:"100"},fg95:{type:"IMG",name:"河豚",price:"100"},f7x7:{type:"IMG",name:"鲑鱼",price:"100"},k87g:{type:"IMG",name:"蒲公英",price:"100"},bb70:{type:"IMG",name:"玫瑰",price:"100"},tv90:{type:"IMG",name:"金锭",price:"100"},g9v9:{type:"IMG",name:"西瓜",price:"100"},ml06:{type:"IMG",name:"下界之星",price:"100"},jt50:{type:"IMG",name:"13",price:"100"},a5w0:{type:"IMG",name:"blocks",price:"100"},df69:{type:"IMG",name:"cat",price:"100"},l9g3:{type:"IMG",name:"chirp",price:"100"},w3a1:{type:"IMG",name:"far",price:"100"},mo53:{type:"IMG",name:"mellohi",price:"100"},ss35:{type:"IMG",name:"stal",price:"100"},qd12:{type:"IMG",name:"strad",price:"100"},iv15:{type:"IMG",name:"wait",price:"100"},w9j7:{type:"IMG",name:"ward",price:"100"},zp43:{type:"IMG",name:"红石粉",price:"100"},su32:{type:"IMG",name:"粘液球",price:"100"},g81a:{type:"IMG",name:"雪球",price:"100"},mb22:{type:"IMG",name:"不死图腾",price:"100"},o6o3:{type:"IMG",name:"三叉戟",price:"100"},sa20:{type:"COLOR",name:"经典",price:"0"},hq73:{type:"COLOR",name:"红线",price:"100"},wh10:{type:"COLOR",name:"橙线",price:"100"},qk29:{type:"COLOR",name:"黄线",price:"100"},x90w:{type:"COLOR",name:"绿线",price:"100"},wi00:{type:"COLOR",name:"青线",price:"100"},v4j2:{type:"COLOR",name:"蓝线",price:"100"},ev89:{type:"COLOR",name:"紫线",price:"100"},cx34:{type:"IMG",name:"泥土",price:"100"},v58o:{type:"IMG",name:"圆石",price:"100"},mq32:{type:"IMG",name:"下界岩",price:"100"},wl36:{type:"IMG",name:"灵魂沙",price:"100"},ts02:{type:"IMG",name:"基岩",price:"100"},tc30:{type:"IMG",name:"橡木",price:"100"},ad16:{type:"IMG",name:"云杉木",price:"100"},xb12:{type:"IMG",name:"深色橡木",price:"100"},ec53:{type:"IMG",name:"白桦木",price:"100"},jo73:{type:"IMG",name:"金合欢木",price:"100"},h0j8:{type:"IMG",name:"丛林木",price:"100"},ec25:{type:"IMG",name:"唱片机",price:"100"},sh59:{type:"IMG",name:"TNT",price:"100"},v7v4:{type:"IMG",name:"铁块",price:"100"},qc57:{type:"IMG",name:"金块",price:"100"},cu19:{type:"IMG",name:"青金石块",price:"100"},yf31:{type:"IMG",name:"绿宝石块",price:"100"},i04j:{type:"IMG",name:"红石块",price:"100"},b40h:{type:"IMG",name:"粘液块",price:"100"},c4l3:{type:"IMG",name:"干草块",price:"100"},vp00:{type:"IMG",name:"砖块",price:"100"},ic29:{type:"IMG",name:"西瓜",price:"100"},yd41:{type:"IMG",name:"红石灯",price:"100"},nu37:{type:"COLOR",name:"经典",price:"0"},b3r6:{type:"COLOR",name:"腮红",price:"100"},w7x1:{type:"COLOR",name:"腮橙",price:"100"},y5g2:{type:"COLOR",name:"腮黄",price:"100"},o00r:{type:"COLOR",name:"腮绿",price:"100"},e0d7:{type:"COLOR",name:"腮青",price:"100"},nr35:{type:"COLOR",name:"腮蓝",price:"100"},os17:{type:"COLOR",name:"腮紫",price:"100"},wt02:{type:"COLOR",name:"经典",price:"0"},tj88:{type:"COLOR",name:"赤瞳",price:"100"},lc39:{type:"COLOR",name:"橙瞳",price:"100"},lq72:{type:"COLOR",name:"黄瞳",price:"100"},b61b:{type:"COLOR",name:"绿瞳",price:"100"},ar02:{type:"COLOR",name:"青瞳",price:"100"},mc24:{type:"COLOR",name:"蓝瞳",price:"100"},bt67:{type:"COLOR",name:"紫瞳",price:"100"},ay75:{type:"COLOR",name:"经典",price:"0"},qs82:{type:"COLOR",name:"红嘴",price:"100"},v46e:{type:"COLOR",name:"橙嘴",price:"100"},t7y7:{type:"COLOR",name:"黄嘴",price:"100"},at06:{type:"COLOR",name:"绿嘴",price:"100"},rr93:{type:"COLOR",name:"青嘴",price:"100"},uu32:{type:"COLOR",name:"蓝嘴",price:"100"},v2i1:{type:"COLOR",name:"紫嘴",price:"100"},nw39:{type:"COLOR",name:"经典",price:"0"},et63:{type:"COLOR",name:"红面",price:"100"},ok10:{type:"COLOR",name:"橙面",price:"100"},ed38:{type:"COLOR",name:"黄面",price:"100"},mk09:{type:"COLOR",name:"绿面",price:"100"},kz18:{type:"COLOR",name:"青面",price:"100"},es19:{type:"COLOR",name:"蓝面",price:"100"},z31m:{type:"COLOR",name:"紫面",price:"100"},y8d9:{type:"IMG",name:"泥土",price:"100"},yw29:{type:"IMG",name:"草方块",price:"100"},a7f8:{type:"IMG",name:"圆石",price:"100"},uu92:{type:"IMG",name:"下界岩",price:"100"},w9p0:{type:"IMG",name:"灵魂沙",price:"100"},qk97:{type:"IMG",name:"基岩",price:"100"},vp82:{type:"IMG",name:"橡木",price:"100"},xs30:{type:"IMG",name:"云杉木",price:"100"},y93u:{type:"IMG",name:"深色橡木",price:"100"},zg30:{type:"IMG",name:"白桦木",price:"100"},gk79:{type:"IMG",name:"金合欢木",price:"100"},o4s2:{type:"IMG",name:"丛林木",price:"100"},kv31:{type:"IMG",name:"工作台",price:"100"},ow91:{type:"IMG",name:"钻石块",price:"100"},ot83:{type:"IMG",name:"唱片机",price:"100"},z4m7:{type:"IMG",name:"TNT",price:"100"},em59:{type:"IMG",name:"铁块",price:"100"},dc25:{type:"IMG",name:"金块",price:"100"},co87:{type:"IMG",name:"青金石块",price:"100"},nr42:{type:"IMG",name:"绿宝石块",price:"100"},bd85:{type:"IMG",name:"红石块",price:"100"},ot89:{type:"IMG",name:"粘液块",price:"100"},jl19:{type:"IMG",name:"干草块",price:"100"},a7y6:{type:"IMG",name:"砖块",price:"100"},cq42:{type:"IMG",name:"西瓜",price:"100"},vo99:{type:"IMG",name:"红石灯",price:"100"},d55c:{type:"COLOR",name:"经典",price:"0"},di67:{type:"COLOR",name:"红羽",price:"100"},oa91:{type:"COLOR",name:"橙羽",price:"100"},zf30:{type:"COLOR",name:"黄羽",price:"100"},fk07:{type:"COLOR",name:"绿羽",price:"100"},j0u8:{type:"COLOR",name:"青羽",price:"100"},k79t:{type:"COLOR",name:"蓝羽",price:"100"},it00:{type:"COLOR",name:"紫羽",price:"100"},g30x:{type:"IMG",name:"管珊瑚扇",price:"100"},d5r4:{type:"IMG",name:"脑纹珊瑚扇",price:"100"},g2z7:{type:"IMG",name:"气泡珊瑚扇",price:"100"},x6e7:{type:"IMG",name:"火珊瑚扇",price:"100"},nd12:{type:"IMG",name:"鹿角珊瑚扇",price:"100"},h7q5:{type:"IMG",name:"管珊瑚",price:"100"},hv67:{type:"IMG",name:"脑纹珊瑚",price:"100"},sa93:{type:"IMG",name:"气泡珊瑚",price:"100"},o8g3:{type:"IMG",name:"火珊瑚",price:"100"},u54k:{type:"IMG",name:"鹿角珊瑚",price:"100"}},PARTS_KEY_NAME={annulus:"圆环",antenna:"天线",blush:"腮红",eye:"眼睛",mouth:"嘴巴",side:"六面",wing:"羽翅"},PART_KEY_LIST=["annulus","antenna","blush","eye","mouth","side","wing"],PART_SUPPORT_IMG=["annulus","antenna","side","wing"],YIBAO_PART=Object.freeze(Object.defineProperty({__proto__:null,ANNULUS_COLOR,ANNULUS_IMG,ANTENNA_COLOR,ANTENNA_IMG,BLUSH_COLOR,EYE_COLOR,MOUTH_COLOR,PARTS_KEY_NAME,PART_KEY_INFO,PART_KEY_LIST,PART_SUPPORT_IMG,SIDE_COLOR,SIDE_IMG,WING_COLOR,WING_IMG},Symbol.toStringTag,{value:"Module"})),BLESSING_BAG_CHANCE={DIAMOND:{count:1,num:100,key:"DIAMOND"},HERO_DEBRIS:{count:1,num:2,key:"HERO_DEBRIS"},SKIN_DEBRIS:{count:1,num:3,key:"SKIN_DEBRIS"}},HERO_TREASURE_CHANCE={HERO_CHEST_OPTIONAL:{count:1,num:1,key:"HERO_CHEST_OPTIONAL"},GOLD:{count:14,num:100,key:"GOLD"},HERO_DEBRIS:{count:4,num:1,key:"HERO_DEBRIS"},HERO_EXP_ONE:{count:4,num:1,key:"HERO_EXP_ONE"},HERO_EXP_TWO:{count:3,num:1,key:"HERO_EXP_TWO"},HERO_LOTTERY_COIN:{count:4,num:2,key:"HERO_LOTTERY_COIN"},GUESS_CARD:{count:3,num:1,key:"GUESS_CARD"}},SKIN_BRAVE_TREASURE_CHANCE={SKIN_CHEST_BRAVE_OPTIONAL:{count:1,num:1,key:"SKIN_CHEST_BRAVE_OPTIONAL"},DIAMOND1:{count:5,num:50,key:"DIAMOND"},DIAMOND2:{count:3,num:75,key:"DIAMOND"},SKIN_DEBRIS:{count:6,num:1,key:"SKIN_DEBRIS"},SKIN_LOTTERY_COIN:{count:2,num:3,key:"SKIN_LOTTERY_COIN"},GUESS_CARD:{count:3,num:1,key:"GUESS_CARD"}},SKIN_EPIC_TREASURE_CHANCE={SKIN_CHEST_LIMIT_OPTIONAL:{count:1,num:1,key:"SKIN_CHEST_EPIC_OPTIONAL"},DIAMOND1:{count:4,num:50,key:"DIAMOND"},DIAMOND2:{count:4,num:75,key:"DIAMOND"},SKIN_DEBRIS:{count:7,num:1,key:"SKIN_DEBRIS"},SKIN_LOTTERY_COIN:{count:2,num:2,key:"SKIN_LOTTERY_COIN"},GUESS_CARD:{count:2,num:1,key:"GUESS_CARD"}},SKIN_LEGEND_TREASURE_CHANCE={SKIN_CHEST_LEGEND_OPTIONAL:{count:1,num:1,key:"SKIN_CHEST_LEGEND_OPTIONAL"},DIAMOND1:{count:5,num:50,key:"DIAMOND"},DIAMOND2:{count:6,num:75,key:"DIAMOND"},SKIN_DEBRIS:{count:9,num:1,key:"SKIN_DEBRIS"},SKIN_LOTTERY_COIN:{count:2,num:2,key:"SKIN_LOTTERY_COIN"},GUESS_CARD:{count:2,num:1,key:"GUESS_CARD"}},SKIN_LIMIT_TREASURE_CHANCE={SKIN_CHEST_LIMIT_OPTIONAL:{count:1,num:1,key:"SKIN_CHEST_LIMIT_OPTIONAL"},DIAMOND1:{count:5,num:50,key:"DIAMOND"},DIAMOND2:{count:7,num:75,key:"DIAMOND"},SKIN_DEBRIS:{count:7,num:1,key:"SKIN_DEBRIS"},SKIN_LOTTERY_COIN:{count:3,num:1,key:"SKIN_LOTTERY_COIN"},GUESS_CARD:{count:2,num:1,key:"GUESS_CARD"}},HERO_LOTTERY_CHANCE={2:1,3:17,4:3,5:4,6:3,7:4,8:5,9:6,10:7},SKIN_LOTTERY_CHANCE={2:5,3:5,4:5,5:5,6:2,7:3,8:4,9:4,10:6,11:6,12:5},getPropChanceNum=(e,r)=>{let n="";for(const a in e){const s=e[a],o=r[s.key];n+=`${o}*${s.num}、`}return n.slice(0,-1)},NAME={GOLD:"金币",DIAMOND:"钻石",HERO_DEBRIS:"英雄碎片",SKIN_DEBRIS:"皮肤碎片",BLESSING_BAG:"每日福袋",KING_CRYSTAL:"王者水晶",HONOR_CRYSTAL:"荣耀水晶",HERO_EXP_ONE:`英雄${UPGRADE_EXP.HERO_EXP_ONE}经验`,HERO_EXP_TWO:`英雄${UPGRADE_EXP.HERO_EXP_TWO}经验`,DOUBLE_GOLD:"双倍金币卡",DOUBLE_EXP:"双倍经验卡",HERO_LOTTERY_COIN:"英雄夺宝币",SKIN_LOTTERY_COIN:"皮肤夺宝币",HERO_LOTTERY_STONE:"英雄夺宝石",SKIN_LOTTERY_STONE:"皮肤夺宝石",HERO_LOTTERY_WEEK:"英雄夺宝石周卡",SKIN_LOTTERY_WEEK:"皮肤夺宝石周卡",SKIN_CARD_INITIAL:"伴生皮肤卡",HERO_TREASURE:"英雄秘宝",HERO_CHEST_RANDOM:"随机英雄宝箱",SKIN_BRAVE_TREASURE:"勇者皮肤秘宝",SKIN_EPIC_TREASURE:"史诗皮肤秘宝",SKIN_LEGEND_TREASURE:"传说皮肤秘宝",SKIN_LIMIT_TREASURE:"限定皮肤秘宝",HERO_CHEST_OPTIONAL:"自选英雄宝箱",SKIN_CHEST_BRAVE_OPTIONAL:"自选勇者皮肤",SKIN_CHEST_EPIC_OPTIONAL:"自选史诗皮肤",SKIN_CHEST_LEGEND_OPTIONAL:"自选传说皮肤",SKIN_CHEST_LIMIT_OPTIONAL:"自选限定皮肤",GUESS_CARD:"竞猜券",GUESS_COIN:"竞猜币",JUMP_COIN:"跳跳币"},KEY={GOLD:"GOLD",DIAMOND:"DIAMOND",HERO_DEBRIS:"HERO_DEBRIS",SKIN_DEBRIS:"SKIN_DEBRIS",BLESSING_BAG:"BLESSING_BAG",KING_CRYSTAL:"KING_CRYSTAL",HONOR_CRYSTAL:"HONOR_CRYSTAL",HERO_EXP_ONE:"HERO_EXP_ONE",HERO_EXP_TWO:"HERO_EXP_TWO",DOUBLE_GOLD:"DOUBLE_GOLD",DOUBLE_EXP:"DOUBLE_EXP",HERO_LOTTERY_COIN:"HERO_LOTTERY_COIN",SKIN_LOTTERY_COIN:"SKIN_LOTTERY_COIN",HERO_LOTTERY_STONE:"HERO_LOTTERY_STONE",SKIN_LOTTERY_STONE:"SKIN_LOTTERY_STONE",HERO_LOTTERY_WEEK:"HERO_LOTTERY_WEEK",SKIN_LOTTERY_WEEK:"SKIN_LOTTERY_WEEK",SKIN_CARD_INITIAL:"SKIN_CARD_INITIAL",HERO_TREASURE:"HERO_TREASURE",HERO_CHEST_RANDOM:"HERO_CHEST_RANDOM",SKIN_BRAVE_TREASURE:"SKIN_BRAVE_TREASURE",SKIN_EPIC_TREASURE:"SKIN_EPIC_TREASURE",SKIN_LEGEND_TREASURE:"SKIN_LEGEND_TREASURE",SKIN_LIMIT_TREASURE:"SKIN_LIMIT_TREASURE",HERO_CHEST_OPTIONAL:"HERO_CHEST_OPTIONAL",SKIN_CHEST_BRAVE_OPTIONAL:"SKIN_CHEST_BRAVE_OPTIONAL",SKIN_CHEST_EPIC_OPTIONAL:"SKIN_CHEST_EPIC_OPTIONAL",SKIN_CHEST_LEGEND_OPTIONAL:"SKIN_CHEST_LEGEND_OPTIONAL",SKIN_CHEST_LIMIT_OPTIONAL:"SKIN_CHEST_LIMIT_OPTIONAL",GUESS_CARD:"GUESS_CARD",GUESS_COIN:"GUESS_COIN",JUMP_COIN:"JUMP_COIN"},ICON={GOLD:"gold",DIAMOND:"diamond",HERO_DEBRIS:"hero_debris",SKIN_DEBRIS:"skin_debris",BLESSING_BAG:"blessing_bag",KING_CRYSTAL:"king_crystal",HONOR_CRYSTAL:"honor_crystal",HERO_EXP_ONE:"hero_exp",HERO_EXP_TWO:"hero_exp",DOUBLE_GOLD:"double_gold",DOUBLE_EXP:"double_exp",HERO_LOTTERY_COIN:"hero_lottery_coin",SKIN_LOTTERY_COIN:"skin_lottery_coin",HERO_LOTTERY_STONE:"hero_lottery_stone",SKIN_LOTTERY_STONE:"skin_lottery_stone",HERO_LOTTERY_WEEK:"hero_lottery_week",SKIN_LOTTERY_WEEK:"skin_lottery_week",SKIN_CARD_INITIAL:"skin_card_initial",HERO_TREASURE:"hero_treasure",HERO_CHEST_RANDOM:"hero_chest_random",SKIN_BRAVE_TREASURE:"skin_brave_treasure",SKIN_EPIC_TREASURE:"skin_epic_treasure",SKIN_LEGEND_TREASURE:"skin_legend_treasure",SKIN_LIMIT_TREASURE:"skin_limit_treasure",HERO_CHEST_OPTIONAL:"hero_chest_optional",SKIN_CHEST_BRAVE_OPTIONAL:"skin_chest_brave_optional",SKIN_CHEST_EPIC_OPTIONAL:"skin_chest_epic_optional",SKIN_CHEST_LEGEND_OPTIONAL:"skin_chest_legend_optional",SKIN_CHEST_LIMIT_OPTIONAL:"skin_chest_limit_optional",GUESS_CARD:"guess_card",GUESS_COIN:"guess_coin",JUMP_COIN:"jump_coin"},DESC={GOLD:"通过英雄夺宝获得，可用于道具商店购买道具",DIAMOND:"通过皮肤夺宝获得，可用于道具商店购买道具",HERO_DEBRIS:"通过英雄夺宝获得，可用于商城-碎片商店兑换英雄",SKIN_DEBRIS:"通过皮肤夺宝获得，可用于商城-碎片商店兑换皮肤",BLESSING_BAG:`通过每日登录邮箱领取福袋，打开后获得以下奖励：${getPropChanceNum(BLESSING_BAG_CHANCE,NAME)}`,KING_CRYSTAL:"通过英雄夺宝获得，可用于商城-水晶商店兑换皮肤",HONOR_CRYSTAL:"通过皮肤夺宝获得，可用于商城-水晶商店兑换皮肤",HERO_EXP_ONE:"通过英雄夺宝及商城-道具商店购买获得，可用于提升英雄熟练度，熟练度达到一定等级可领取英雄的伴生皮肤卡",HERO_EXP_TWO:"通过英雄夺宝及道具商店金币购买获得，可用于提升英雄熟练度，熟练度达到一定等级可领取英雄的伴生皮肤卡",DOUBLE_GOLD:"通过商城-道具商店购买获得，使用后在夺宝时获得的金币数量翻倍，有效时间：24小时，重复使用此卡不会叠加奖励，只会延续时长",DOUBLE_EXP:"通过商城-道具商店购买获得，使用后在夺宝时获得的经验宝箱数量翻倍，有效时间：24小时，重复使用此卡不会叠加奖励，只会延续时长",HERO_LOTTERY_COIN:"通过每日登录邮箱领取英雄夺宝币，可用于英雄夺宝，夺宝币当日有效，次日归零",SKIN_LOTTERY_COIN:"通过每日登录邮箱领取英雄夺宝币，可用于皮肤夺宝，夺宝币当日有效，次日归零",HERO_LOTTERY_STONE:"通过英雄夺宝石补给站获得，当英雄夺宝币用完后，可使用该道具增加一次英雄夺宝次数",SKIN_LOTTERY_STONE:"通过皮肤夺宝石补给站获得，当英雄夺宝币用完后，可使用该道具增加一次英雄夺宝次数",HERO_LOTTERY_WEEK:`通过商城-道具商店购买获得，使用此卡后，从当日0点开始，每日通过邮箱发放英雄夺宝石*${LOTTERY_STONE_WEEK_CARD_GRANT.HERO.STONE}，并赠送英雄夺宝币*${LOTTERY_STONE_WEEK_CARD_GRANT.HERO.COIN}，重复使用此卡不会叠加奖励，只会延续时长。`,SKIN_LOTTERY_WEEK:"`通过商城-道具商店购买获得，使用此卡后，从当日0点开始，每日通过邮箱发放皮肤夺宝石*${LOTTERY_STONE_WEEK_CARD_GRANT.HERO.STONE}，并赠送皮肤夺宝币*${LOTTERY_STONE_WEEK_CARD_GRANT.HERO.COIN}，重复使用此卡不会叠加奖励，只会延续时长。`",SKIN_CARD_INITIAL:"通过英雄满级后获得，可用于兑换任意英雄的伴生皮肤",HERO_TREASURE:`通过英雄夺宝获得，打开后随机获得以下奖励之一：${getPropChanceNum(HERO_TREASURE_CHANCE,NAME)}`,HERO_CHEST_RANDOM:"通过英雄夺宝获得，打开后随机获得一个英雄",SKIN_BRAVE_TREASURE:`通过皮肤夺宝获得，打开后随机获得以下奖励之一：${getPropChanceNum(SKIN_BRAVE_TREASURE_CHANCE,NAME)}，皮肤秘宝品质越高，获得的稀有道具概率越高。`,SKIN_EPIC_TREASURE:`通过皮肤夺宝获得，打开后随机获得以下奖励之一：${getPropChanceNum(SKIN_EPIC_TREASURE_CHANCE,NAME)}，皮肤秘宝品质越高，获得的稀有道具概率越高。`,SKIN_LEGEND_TREASURE:`通过皮肤夺宝获得，打开后随机获得以下奖励之一：${getPropChanceNum(SKIN_LEGEND_TREASURE_CHANCE,NAME)}，皮肤秘宝品质越高，获得的稀有道具概率越高。`,SKIN_LIMIT_TREASURE:`通过皮肤夺宝获得，打开后随机获得以下奖励之一：${getPropChanceNum(SKIN_LIMIT_TREASURE_CHANCE,NAME)}，皮肤秘宝品质越高，获得的稀有道具概率越高。`,HERO_CHEST_OPTIONAL:"通过英雄秘宝获得，打开后自选一个英雄",SKIN_CHEST_BRAVE_OPTIONAL:"通过皮肤夺宝获得，打开后自选一款勇者皮肤",SKIN_CHEST_EPIC_OPTIONAL:"通过皮肤夺宝获得，打开后自选一个史诗皮肤",SKIN_CHEST_LEGEND_OPTIONAL:"通过皮肤夺宝获得，打开后自选一个款传说皮肤",SKIN_CHEST_LIMIT_OPTIONAL:"通过皮肤夺宝获得，打开后自选一款限定皮肤",GUESS_CARD:"通过商城-道具商店购买获得，用于参加竞猜活动",GUESS_COIN:"通过参与竞猜活动，答对题目获得，用于兑换乂宝部件装扮",JUMP_COIN:"通过乂宝跳跃获得，用于兑换乂宝纯色风格的部件"},PRICE=[{way:"GOLD",key:"HERO_EXP_ONE",price:100,num:1},{way:"GOLD",key:"HERO_EXP_TWO",price:200,num:1},{way:"DIAMOND",key:"HERO_LOTTERY_WEEK",price:300,num:1},{way:"DIAMOND",key:"SKIN_LOTTERY_WEEK",price:500,num:1},{way:"DIAMOND",key:"DOUBLE_EXP",price:250,num:1},{way:"DIAMOND",key:"DOUBLE_GOLD",price:500,num:1},{way:"DIAMOND",key:"HERO_LOTTERY_STONE",price:50,num:1},{way:"GOLD",key:"SKIN_LOTTERY_STONE",price:100,num:1}],GAME_PROP=Object.freeze(Object.defineProperty({__proto__:null,DESC,ICON,KEY,NAME,PRICE},Symbol.toStringTag,{value:"Module"})),local_version=localStorage.getItem(LOCAL_KEY.VERSION_DIST)||"",auto_update_status=localStorage.getItem(LOCAL_KEY.AUTO_UPDATE_STATUS)||"0";axios.get(`${location.origin}/json/version.json?t=${dayjs().unix()}`).then(e=>{const{distVersion:r}=e.data.data;if(!local_version){updateLocalVersion();return}const n=getVersionNumber(local_version);getVersionNumber(r)>n&&auto_update_status==="0"&&(updateLocalVersion(),setTimeout(()=>{location.reload()},3e3))});const updateLocalVersion=()=>{localStorage.setItem(LOCAL_KEY.AUTO_UPDATE_STATUS,"1")},getVersionNumber=e=>Number(e.replaceAll(".","")),useDragMove=e=>{let n=0,a=0,s=0,o=0,l=0,i=0;const c=p=>{const f=p.clientX,v=p.clientY;n=f-l+s,a=i-v+o,e.style.transform="rotateX("+a/3.5+"deg) rotateY("+n/3.5+"deg)"},d=()=>{s=n,o=a,window.removeEventListener("mousemove",c)};window.addEventListener("mouseup",d);const _=p=>{l=p.clientX,i=p.clientY,window.addEventListener("mousemove",c)};return{...{enableDragMove(){e.addEventListener("mousedown",_)},disableDragMove(){e.removeEventListener("mousedown",_),e.style.transform="",n=0,a=0}}}};class BigYiBaoMouth{constructor(){Q(this,"outer_mouth_dom");Q(this,"inner_mouth_dom");Q(this,"tooth_dom");Q(this,"tongue_dom");Q(this,"breathAnimation")}init(r,n,a,s){this.outer_mouth_dom=r,this.inner_mouth_dom=n,this.tooth_dom=a,this.tongue_dom=s,this.startBreathAnimation()}startBreathAnimation(){var r;(r=this.breathAnimation)==null||r.cancel(),this.breathAnimation=this.inner_mouth_dom.animate([{width:"80%",height:"2.5rem",offset:.5}],{duration:3e3,iterations:1/0})}toggleBreathAnimation(r){return new Promise(n=>{r?this.startBreathAnimation():this.breathAnimation.cancel(),setTimeout(n)})}async smile(){await this.toggleBreathAnimation(!1);let r=this.outer_mouth_dom.style;r.height="4.6875rem",r.transform="translateY(0)",r=this.inner_mouth_dom.style,r.top="-1.5625rem",r.height="6.25rem",r=this.tooth_dom.style,r.top="1.5625rem",r.height="3.125rem"}resetStyle(){this.outer_mouth_dom.style.cssText="",this.inner_mouth_dom.style.cssText="",this.tongue_dom.style.cssText="",this.tooth_dom.style.cssText=""}}const bigYiBaoMouth=new BigYiBaoMouth;class BigYiBaoIris{constructor(){Q(this,"left_iris_dom");Q(this,"right_iris_dom");Q(this,"leftIrisFollowMouse");Q(this,"rightIrisFollowMouse")}followMouse(){this.leftIrisFollowMouse=useMouseTrackingEffect(this.left_iris_dom,20,(r,n,a)=>{r.style.transform=`translate(${n}px, ${a}px)`}),this.rightIrisFollowMouse=useMouseTrackingEffect(this.right_iris_dom,20,(r,n,a)=>{r.style.transform=`translate(${n}px, ${a}px)`})}init(r,n){this.left_iris_dom=r,this.right_iris_dom=n,this.followMouse(),this.enableFollowMouse()}scary(){this.left_iris_dom.style.width="40%",this.right_iris_dom.style.width="40%"}enableFollowMouse(){this.leftIrisFollowMouse.enableMouseTrackingEffect(),this.rightIrisFollowMouse.enableMouseTrackingEffect()}disableFollowMouse(){this.leftIrisFollowMouse.disableMouseTrackingEffect(),this.rightIrisFollowMouse.disableMouseTrackingEffect()}resetStyle(){this.left_iris_dom.style.cssText="",this.right_iris_dom.style.cssText=""}}const bigYiBaoIris=new BigYiBaoIris,leftJumpRightJumpCenterRotateDown=e=>new Promise(r=>{const n="center bottom",a=`left bottom ${e.offsetHeight/2}px`,s=`right bottom ${e.offsetHeight/2}px`;e.style.transformOrigin="center bottom",e.animate([{transform:""},{transform:"scaleY(0.75)"},{transform:"translateY(-50%) scaleY(1.15)"},{transform:"rotateX(25deg) rotateY(-35deg)",transformOrigin:a},{transform:"rotateX(25deg) rotateY(-35deg) scaleY(0.5)",transformOrigin:a},{transform:"translateY(-50%) scale(1.15)",transformOrigin:a},{transform:"rotateX(25deg) rotateY(35deg)",transformOrigin:s},{transform:"rotateX(25deg) rotateY(35deg) scaleY(0.75)",transformOrigin:s},{transform:"rotateX(25deg) rotateY(35deg) scaleY(0.5)",transformOrigin:s},{transform:"rotateX(25deg) rotateY(35deg) scaleY(0.75)",transformOrigin:s},{transform:"translateY(-50%) scaleY(1.15)",transformOrigin:n},{transform:"translateY(-9.375rem) rotateY(-90deg)"},{transform:"translateY(-6.25rem) rotateY(-180deg)"},{transform:"translateY(-3.125rem) rotateY(-270deg)"},{transform:"rotateY(-360deg)"},{transform:"rotateY(-360deg) scaleY(0.5)"},{transform:"rotateY(-360deg) scaleY(0.75)"},{transform:"rotateY(-360deg)"}],{duration:2500}).onfinish=function(){this.cancel(),r()}}),rotateRound=e=>new Promise(r=>{e.style.transformOrigin="center bottom";let n=0;e.animate([{transform:""},{transform:"scaleY(0.75)"},{transform:""},{transform:"translateY(-50%) scaleY(1.15)"},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg)`},{transform:`rotateY(${n}deg) translateY(-50%) scaleY(1.15)`},{transform:`rotateY(${n+=45}deg)`},{transform:`rotateY(${n}deg) scaleY(0.75)`},{transform:`rotateY(${n}deg) scaleY(0.875)`},{transform:`rotateY(${n}deg)`}],{duration:4e3}).onfinish=function(){this.cancel(),r()}}),jumpLeftJumpRightJumpBackRotateFront=e=>new Promise(r=>{e.style.pointerEvents="none",e.style.transformOrigin="center bottom",e.animate([{transform:"translateY(-50vh)"},{transform:"translateY(-25vh)"},{transform:"scaleY(1)"},{transform:"scaleY(0.5)"},{transform:""},{transform:"translateY(-100%) rotateZ(45deg) scaleY(1.15)"},{transform:"rotateZ(45deg) translateX(-50%) translateY(50%)"},{transform:"rotateZ(45deg) translateX(-50%) translateY(50%) scaleY(0.5)"},{transform:"rotateZ(45deg) translateX(-50%) translateY(50%)"},{transform:"translateY(-100%) scaleY(1.15)"},{transform:"rotateZ(-45deg) translateX(50%) translateY(50%)"},{transform:"rotateZ(-45deg) translateX(50%) translateY(50%) scaleY(0.5)"},{transform:"rotateZ(-45deg) translateX(50%) translateY(50%)"},{transform:"translateY(-100%) scaleY(1.15)"},{transform:"translateZ(-62.5rem) rotateX(-45deg)"},{transform:"translateZ(-62.5rem) rotateX(-45deg) scaleY(0.75)"},{transform:"translateZ(-62.5rem) rotateX(-45deg) scaleY(0.5)"},{transform:"translateZ(-62.5rem) rotateX(-45deg) scaleY(0.25)"},{transform:"translateZ(-62.5rem) rotateX(-45deg)"},{transform:"translateZ(-56.25rem) translateY(-50%) rotateX(-135deg)"},{transform:"translateZ(-50rem) translateY(-100%) rotateX(-225deg)"},{transform:"translateZ(-43.75rem) translateY(-150%) rotateX(-315deg)"},{transform:"translateZ(-37.5rem) translateY(-200%) rotateX(-405deg)"},{transform:"translateZ(-31.25rem) translateY(-250%) rotateX(-495deg)"},{transform:"translateZ(-25rem) translateY(-200%) rotateX(-585deg)"},{transform:"translateZ(-18.75rem) translateY(-150%) rotateX(-675deg)"},{transform:"rotateX(-695deg) translateY(-100%)"},{transform:"translateZ(18.75rem) rotateX(-695deg)"},{transform:"translateZ(18.75rem) rotateX(-695deg) scaleY(0.5)"},{transform:"translateZ(18.75rem) rotateX(-695deg)"},{transform:"rotateX(-720deg)"},{transform:"rotateX(-720deg) scaleY(0.75)"},{transform:"rotateX(-720deg) scaleY(0.875)"},{transform:"rotateX(-720deg)"}],{duration:4500}).onfinish=function(){bigYiBaoBody.resetStyle(),this.cancel(),r()}}),playAnimation=async e=>{await bigYiBaoBody.toggleBreathAnimation(!1),await bigYiBaoMouth.smile(),await e(bigYiBaoBody.body_dom),bigYiBaoMouth.resetStyle(),bigYiBaoBody.toggleBreathAnimation(!0),await _promiseTimeout(500),bigYiBaoMouth.toggleBreathAnimation(!0)};class BigYiBaoBody{constructor(){Q(this,"breathAnimation");Q(this,"bodyDragMove");Q(this,"body_dom");Q(this,"body_mouseleave_timer");Q(this,"body_follow_status",!1);Q(this,"body_drag_status",!1);Q(this,"body_animate_running",!1)}initDragMove(){this.bodyDragMove=useDragMove(this.body_dom)}init(r){this.body_dom=r,this.initDragMove(),r.addEventListener("mouseenter",async()=>{clearTimeout(this.body_mouseleave_timer),bigYiBaoMouth.smile()}),r.addEventListener("mouseleave",()=>{clearTimeout(this.body_mouseleave_timer),this.body_mouseleave_timer=setTimeout(()=>{bigYiBaoIris.resetStyle(),bigYiBaoMouth.resetStyle(),setTimeout(()=>{bigYiBaoMouth.toggleBreathAnimation(!0)},250)},1e3)})}startBreathAnimation(){this.breathAnimation=this.body_dom.animate([{transformOrigin:"bottom center",transform:"scaleY(1.03)",offset:.45},{transformOrigin:"bottom center",transform:"scaleY(1.03)",offset:.52}],{duration:3e3,iterations:1/0})}toggleBreathAnimation(r){return new Promise(n=>{var a;r?this.startBreathAnimation():(a=this.breathAnimation)==null||a.cancel(),setTimeout(n)})}async playChangePartAnimation(){if(this.body_drag_status||this.body_animate_running)return;this.body_animate_running=!0;const r=[leftJumpRightJumpCenterRotateDown,rotateRound],n=_random(0,r.length-1);await playAnimation(r[n]),this.body_animate_running=!1}toggleDragMove(r){if(!this.body_animate_running)return this.body_drag_status=r,new Promise(async n=>{r?(await this.toggleBreathAnimation(!1),this.bodyDragMove.enableDragMove()):(this.bodyDragMove.disableDragMove(),setTimeout(()=>{this.toggleBreathAnimation(!0)},250)),setTimeout(n)})}resetStyle(){this.body_dom.style.cssText=""}}const bigYiBaoBody=new BigYiBaoBody;class BigYiBaoEyes{constructor(){Q(this,"left_eye_dom");Q(this,"right_eye_dom");Q(this,"auto_blink_timer");Q(this,"blinking",!1);Q(this,"left_blinking",!1);Q(this,"right_blinking",!1)}init(r,n){this.left_eye_dom=r,this.right_eye_dom=n,r.addEventListener("click",()=>{this.blinkEye("LEFT")}),n.addEventListener("click",()=>{this.blinkEye("RIGHT")}),[r,n].forEach(a=>{a.addEventListener("mouseenter",async()=>{bigYiBaoIris.scary(),bigYiBaoMouth.resetStyle()}),a.addEventListener("mouseleave",async()=>{bigYiBaoIris.resetStyle()})}),this.autoBlinkEyes()}blinkEye(r){const n={LEFT:"left_blinking",RIGHT:"right_blinking"};if(this[n[r]])return;this[n[r]]=!0;const a={LEFT:"left_eye_dom",RIGHT:"right_eye_dom"};this[a[r]].style.transition="all 0.1s",this[a[r]].style.clipPath="ellipse(40% 1% at 50% 50%)",setTimeout(()=>{this[a[r]].style.transition="all 0.25s",this[a[r]].style.clipPath="",setTimeout(()=>{this[n[r]]=!1},250)},100)}blinkEyes(){this.blinking||(this.blinking=!0,this.blinkEye("LEFT"),this.blinkEye("RIGHT"),setTimeout(()=>{this.blinking=!1},350))}autoBlinkEyes(){const r=_random(1,5);this.blinkEyes(),this.auto_blink_timer=setTimeout(()=>{this.autoBlinkEyes()},r*1e3)}resetStyle(){this.left_eye_dom.style.cssText="",this.right_eye_dom.style.cssText=""}}const bigYiBaoEyes=new BigYiBaoEyes,_withScopeId$d=e=>(pushScopeId("data-v-f045bf1a"),e=e(),popScopeId(),e),_hoisted_1$_=_withScopeId$d(()=>createBaseVNode("div",{class:"pupil"},null,-1)),_hoisted_2$K=[_hoisted_1$_],_sfc_main$1b=defineComponent({__name:"index",setup(e){const r=inject("yibao-type"),n=ref(),a=ref();return onMounted(()=>{const s=n.value[0],o=n.value[1],l=a.value[0],i=a.value[1];r==="small"?(smallYiBaoEyes.init(s,o),smallYiBaoIris.init(l,i)):(bigYiBaoEyes.init(s,o),bigYiBaoIris.init(l,i))}),(s,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["eyes",unref(r)])},[(openBlock(),createElementBlock(Fragment,null,renderList(2,(l,i)=>createBaseVNode("div",{key:i,ref_for:!0,ref_key:"eyeRefs",ref:n,class:normalizeClass([unref(r),"eye iris-narrow"])},[createBaseVNode("div",{ref_for:!0,ref_key:"irisRefs",ref:a,class:"iris"},_hoisted_2$K,512)],2)),64))],2))}}),_export_sfc=(e,r)=>{const n=e.__vccOpts||e;for(const[a,s]of r)n[a]=s;return n},Eyes=_export_sfc(_sfc_main$1b,[["__scopeId","data-v-f045bf1a"]]),_withScopeId$c=e=>(pushScopeId("data-v-8a384ae6"),e=e(),popScopeId(),e),_hoisted_1$Z=_withScopeId$c(()=>createBaseVNode("div",{class:"blush-left"},null,-1)),_hoisted_2$J=_withScopeId$c(()=>createBaseVNode("div",{class:"blush-right"},null,-1)),_hoisted_3$v=[_hoisted_1$Z,_hoisted_2$J],_sfc_main$1a=defineComponent({__name:"index",setup(e){const r=inject("yibao-type");return(n,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["blush",unref(r)])},_hoisted_3$v,2))}}),Blush=_export_sfc(_sfc_main$1a,[["__scopeId","data-v-8a384ae6"]]),_sfc_main$19=defineComponent({__name:"index",setup(e){const r=inject("yibao-type"),n=ref(),a=ref(),s=ref(),o=ref();return onMounted(()=>{r==="small"?smallYiBaoMouth.init(n.value,a.value,s.value,o.value):bigYiBaoMouth.init(n.value,a.value,s.value,o.value)}),(l,i)=>(openBlock(),createElementBlock("div",{ref_key:"mouthRef",ref:n,class:normalizeClass(["mouth",unref(r)])},[createBaseVNode("div",{ref_key:"holeRef",ref:a,class:"hole"},[createBaseVNode("div",{ref_key:"teethRef",ref:s,class:"teeth"},null,512),createBaseVNode("div",{ref_key:"tongueRef",ref:o,class:"tongue"},null,512)],512)],2))}}),Mouth=_export_sfc(_sfc_main$19,[["__scopeId","data-v-91eb98a6"]]),_hoisted_1$Y=createStaticVNode('<div class="antenna-side antenna-top" data-v-bfacd1f3></div><div class="antenna-side antenna-bottom" data-v-bfacd1f3></div><div class="antenna-side antenna-left" data-v-bfacd1f3></div><div class="antenna-side antenna-right" data-v-bfacd1f3></div><div class="antenna-side antenna-front" data-v-bfacd1f3></div><div class="antenna-side antenna-back" data-v-bfacd1f3></div>',6),_hoisted_7$9=[_hoisted_1$Y],_sfc_main$18=defineComponent({__name:"index",setup(e){const r=YibaoStore(),{temp_part_detail:n}=storeToRefs(r),a=inject("yibao-type");return(s,o)=>(openBlock(),createElementBlock("div",{ref:"antennasRef",class:normalizeClass(["antennas",[unref(a),{img:unref(n).antenna.type==="IMG",color:unref(n).antenna.type==="COLOR"}]])},[(openBlock(),createElementBlock(Fragment,null,renderList(2,(l,i)=>createBaseVNode("div",{key:i,class:"antenna"},_hoisted_7$9)),64))],2))}}),Antenna=_export_sfc(_sfc_main$18,[["__scopeId","data-v-bfacd1f3"]]),_sfc_main$17=defineComponent({__name:"index",setup(e){const r=YibaoStore(),{temp_part_detail:n}=storeToRefs(r),a=inject("yibao-type");return(s,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["annulus",[unref(a),{img:unref(n).annulus.type==="IMG",color:unref(n).annulus.type==="COLOR"}]])},[(openBlock(),createElementBlock(Fragment,null,renderList(4,(l,i)=>createBaseVNode("div",{key:i,style:normalizeStyle(`--i:${l}`),class:"circle"},null,4)),64))],2))}}),Annulus=_export_sfc(_sfc_main$17,[["__scopeId","data-v-0e4c9063"]]),_withScopeId$b=e=>(pushScopeId("data-v-c1ccdf38"),e=e(),popScopeId(),e),_hoisted_1$X=_withScopeId$b(()=>createBaseVNode("div",{class:"left-wing"},null,-1)),_hoisted_2$I=_withScopeId$b(()=>createBaseVNode("div",{class:"right-wing"},null,-1)),_hoisted_3$u=[_hoisted_1$X,_hoisted_2$I],_sfc_main$16=defineComponent({__name:"index",props:{direction:{}},setup(e){const r=YibaoStore(),{temp_part_detail:n}=storeToRefs(r),a=inject("yibao-type");return(s,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["wing",[s.direction,unref(a),{img:unref(n).wing.type==="IMG",color:unref(n).wing.type==="COLOR"}]])},_hoisted_3$u,2))}}),Wing=_export_sfc(_sfc_main$16,[["__scopeId","data-v-c1ccdf38"]]),_hoisted_1$W={class:"side front-box"},_hoisted_2$H={class:"side back-box"},_hoisted_3$t={class:"side top-box"},_hoisted_4$j={class:"side bottom-box"},_hoisted_5$e={class:"side left-box"},_hoisted_6$c={class:"side right-box"},_sfc_main$15=defineComponent({__name:"index",props:{type:{}},setup(e){const r=e,n=YibaoStore(),a=AuthStore(),{temp_part_detail:s}=storeToRefs(n),o=ref(),l=ref(),i=ref(),c=ref(),d=ref(),_=ref(),u=ref(),p=ref(),f=ref(),v=ref(),h=ref();return provide("yibao-type",r.type),onMounted(()=>{r.type==="small"?smallYiBaoBody.init(i.value,o.value,l.value):bigYiBaoBody.init(i.value)}),(m,g)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"yiBaoMoveBoxRefs",ref:o,class:normalizeClass(["yi-bao-move-box",m.type])},[createBaseVNode("div",{ref_key:"yiBaoRotateBoxRefs",ref:l,class:"yi-bao-rotate-box"},[createBaseVNode("div",{ref_key:"yiBaoRefs",ref:i,class:normalizeClass(["yi-bao",{img:unref(s).side.type==="IMG",color:unref(s).side.type==="COLOR"}])},[createBaseVNode("div",_hoisted_1$W,[createBaseVNode("div",{ref_key:"frontRef",ref:c,class:"side-item front"},[createVNode(Eyes,{ref_key:"eyesRef",ref:v},null,512),createVNode(Blush),createVNode(Mouth,{ref_key:"mouthRef",ref:h},null,512)],512)]),createBaseVNode("div",_hoisted_2$H,[createBaseVNode("div",{ref_key:"backRef",ref:d,class:"side-item back"},null,512)]),createBaseVNode("div",_hoisted_3$t,[createBaseVNode("div",{ref_key:"topRef",ref:_,class:"side-item top"},[createVNode(Antenna)],512)]),createBaseVNode("div",_hoisted_4$j,[createBaseVNode("div",{ref_key:"bottomRef",ref:u,class:"side-item bottom"},null,512)]),createBaseVNode("div",_hoisted_5$e,[createBaseVNode("div",{ref_key:"leftRef",ref:p,class:"side-item left"},[createVNode(Annulus),createVNode(Wing,{direction:"left"})],512)]),createBaseVNode("div",_hoisted_6$c,[createBaseVNode("div",{ref_key:"rightRef",ref:f,class:"side-item right"},[createVNode(Annulus),createVNode(Wing,{direction:"right"})],512)])],2)],512)],2)),[[vShow,unref(a).user_status]])}}),YiBao=_export_sfc(_sfc_main$15,[["__scopeId","data-v-73bb8814"]]),_hoisted_1$V={key:0,class:"k-loading"},_hoisted_2$G={class:"logo"},_hoisted_3$s=["src"],_hoisted_4$i=["src"],_hoisted_5$d={class:"text"},_sfc_main$14=defineComponent({__name:"index",setup(e){const r=ref(!1),n=ref("");return $bus.on("loading",a=>{r.value=a.show,a.text&&(n.value=a.text)}),(a,s)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[r.value?(openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("div",_hoisted_2$G,[createBaseVNode("img",{src:unref(_getImgLink)("logo_inside"),alt:"",class:"inside",onDragstart:s[0]||(s[0]=withModifiers(()=>{},["prevent"]))},null,40,_hoisted_3$s),createBaseVNode("img",{src:unref(_getImgLink)("logo_outside"),alt:"",class:"outside",onDragstart:s[1]||(s[1]=withModifiers(()=>{},["prevent"]))},null,40,_hoisted_4$i)]),createBaseVNode("div",_hoisted_5$d,toDisplayString(n.value),1)])):createCommentVNode("",!0)]),_:1})]))}}),KLoading=_export_sfc(_sfc_main$14,[["__scopeId","data-v-f0ddfb4b"]]),_hoisted_1$U={class:"k-message"},_hoisted_2$F=["innerHTML"],_hoisted_3$r={class:"bg"},_hoisted_4$h=["src"],_hoisted_5$c=["src"],_hoisted_6$b=["src"],_sfc_main$13=defineComponent({__name:"index",setup(e){const{messages:r}=useMessage(),n={info:"#84ade2",warning:"#e2c484",error:"#e28484"},a=o=>_getImgLink(`msg_${o}`),s={info:{left:a("left_default"),center:a("center_default"),right:a("right_default")},warning:{left:a("left_warning"),center:a("center_warning"),right:a("right_warning")},error:{left:a("left_danger"),center:a("center_danger"),right:a("right_danger")}};return(o,l)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_1$U,[createVNode(TransitionGroup,{name:"message"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),(i,c)=>(openBlock(),createElementBlock("div",{key:i.id,class:normalizeClass(["message",i.type]),style:normalizeStyle({transform:`translateX(-50%) translateY(${c*100+c*25}%)`})},[createBaseVNode("span",{style:normalizeStyle({color:n[i.type]}),innerHTML:i.text},null,12,_hoisted_2$F),createBaseVNode("div",{class:"line",style:normalizeStyle({animationDuration:i.duration+"s"})},null,4),createBaseVNode("div",_hoisted_3$r,[createBaseVNode("img",{src:s[i.type].left},null,8,_hoisted_4$h),createBaseVNode("img",{src:s[i.type].center},null,8,_hoisted_5$c),createBaseVNode("img",{src:s[i.type].right},null,8,_hoisted_6$b)])],6))),128))]),_:1})],512),[[vShow,unref(r).length]])]),_:1})]))}}),KMessage=_export_sfc(_sfc_main$13,[["__scopeId","data-v-a981f826"]]),vAnimateNumber={mounted(e,r){e._update=n=>{const{num:a,duration:s=1e3,decimalPlaces:o=0,format:l=i=>i}=n.value;if(a===""){e.innerText="";return}if(isNaN(Number(a)))e.innerText=a;else{const i=e._last_num||0,c=performance.now(),d=Number(a),_=u=>{const f=(u-c)/s;if(f>=1){e.innerText=l(d.toFixed(o)),e._last_num=d;return}const h=(i+(d-i)*Math.min(f,1)).toFixed(o);e.innerText=l(h),requestAnimationFrame(_)};requestAnimationFrame(_)}},e._update(r)},updated(e,r){const{once:n=!0}=r.value;n||e._update(r)}},vBlurLoad={mounted(e,r){let n=0,a;const s=new Promise(i=>a=i);e.onload=a,e.onerror=a,e._transition=e.style.transition,e.style.transition="0s",e.style.filter="blur(var(--blur-image-load))";const o=new Image;new IntersectionObserver((i,c)=>{i.forEach(async d=>{if(d.isIntersecting){c.unobserve(e),await s;const _=()=>{e.style.filter="blur(0)",setTimeout(()=>{e.style.filter="",e.style.transition=e._transition},500)},u=()=>{o.src=r.value.img,o.onload=()=>{var p,f;e.src=r.value.img,e.style.transition="0.5s",e.onload=_,(f=(p=r.value).onSuccess)==null||f.call(p)},o.onerror=()=>{var p,f;n++,n<3?setTimeout(u,1e3):(e.src=_getMiscLink("unknown"),_(),(f=(p=r.value).onError)==null||f.call(p))}};u()}})}).observe(e)}},classNameInclude=(e,r)=>e===r?!0:r.parentElement?classNameInclude(e,r.parentElement):!1,vClickOutside={mounted(e,r){const{inset:n,outside:a}=r.value;e._clickFn=s=>{const o=s.target;classNameInclude(e,o)?e._last_status?(e._last_status=!1,a()):(e._last_status=!0,n()):e._last_status&&(e._last_status=!1,a())},window.addEventListener("click",e._clickFn)},unmounted(e){window.removeEventListener("click",e._clickFn)}},vFocus={mounted(e){setTimeout(()=>{e.focus()})}},vMaskGradient={mounted(e,r){const{color:n="rgba(0, 0, 0, 0.75)",rotate:a="0deg",start:s="0%",end:o="50%"}=r.value||{},l=document.createElement("div");l.style.cssText=`
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    background-image: linear-gradient(${a}, ${n} ${s}, transparent ${o});
    pointer-events: none;
    `,e.appendChild(l)}},vMouseTip={mounted(e,r){const{text:n,disabled:a,type:s}=r.value||{};e._text=n||"",e._disabled=!!a;const o=()=>{e._show=!0,$mouseTip.show({text:e._text,disabled:e._disabled,type:s})};e.addEventListener("mouseenter",o),e.addEventListener("touchstart",o);const l=()=>{e._show=!1,$mouseTip.close()};e.addEventListener("mouseleave",l),e.addEventListener("touchend",l)},updated(e,r){const{text:n,disabled:a,type:s}=r.value||{};e._text!==n&&(e._text=n||"",e._disabled=!!a,e._text&&e._show&&$mouseTip.show({text:e._text,disabled:a,type:s}))},unmounted(e){e._show&&$mouseTip.close()}},vTypewriterMultiple={mounted(e,r){e._startOutput=(n,a)=>{const{callback:s,speed:o=100,delay:l,content:i}=a.value||{};n.innerHTML="",n._last_text=i,clearTimeout(n._timer2),n._timer2=setTimeout(()=>{let c=0,d="";_();function _(){clearInterval(n._timer1),n._timer1=setInterval(()=>{if(c>=i.length){clearInterval(n._timer1),s&&s();return}d+=i[c],n.innerHTML=d,c++},o)}},l===void 0?750:l)},e._startOutput(e,r)},updated(e,r){r.value.content!==e._last_text&&e._startOutput(e,r)}},vTypewriterSingle={mounted(e,r){e._startOutput=(n,a)=>{const{callback:s,speed:o=150,delay:l=750}=a.value||{},i=n.innerHTML;n._lastText=n.innerHTML,n.innerHTML="";function c(){let d=0,_="";n.innerHTML="";const u=setInterval(()=>{if(d>=i.length){clearInterval(u),s&&s();return}_+=i[d],n.innerHTML=_,d++},o)}setTimeout(()=>{c()},l)},e._startOutput(e,r)},updated(e,r){e._lastText!==e.innerHTML&&e._startOutput(e,r)}};class AnimateMove{constructor(r,n){Q(this,"parent");Q(this,"childElements",[]);Q(this,"count");Q(this,"colors");Q(this,"interval");Q(this,"size");Q(this,"speed");Q(this,"down",!1);Q(this,"timer");const{count:a,colors:s,size:o,down:l,speed:i,interval:c}=n;this.parent=r,this.count=a,this.size=o,this.colors=s,this.down=l,this.speed=i,this.interval=c,this.init()}init(){if(this.childElements.length===0)for(let n=0;n<this.count;n++){const a=document.createElement("div"),s=_random(0,this.colors.length-1),o=this.colors[s],l=_random(0,1);a.style.cssText=`
          position: absolute;
          background-color: ${o};
          pointer-events: none;
          box-shadow: 0 0 0.3125rem 0 ${o},
          0 0 0.625rem 0 ${o},
          0 0 1.25rem 0 ${o},
          0 0 1.875rem 0 ${o};
          filter: brightness(${l===0?150:250}%);
        `,this.childElements.push(a),this.parent.appendChild(a)}let r=0;this.timer=setInterval(()=>{if(r!==this.childElements.length){const n=this.childElements[r];this.playAnimate(n),r++;const a=_debounce(this.playAnimate.bind(this),1e3);n.ontransitionend=()=>{a(n)}}else clearInterval(this.timer)},1e4/this.count)}playAnimate(r){const n=_random(0,100),a=_random(this.size/3,this.size),s=a*this.speed/3;r.style.transition="",r.style.width=a/16+"rem",r.style.height=a/16+"rem",r.style.bottom="0",r.style.left=n+"%",r.style.transform=`translateY(100%) translateZ(0) rotate(${540-a*60}deg)`,this.down?(r.style.opacity="0",r.style.bottom="50%"):r.style.opacity="1",setTimeout(()=>{r.style.transition=`
        all ${s}ms linear,
        opacity ${s*.5}ms linear,
        transform ${s*.5}ms ease-out`;const o=_random(this.interval[0],this.interval[1]);this.down?(r.style.opacity="1",r.style.bottom=-o+"%"):r.style.bottom=o+"%",r.style.transform="translateZ(0)",r.style.left=_random(n-5,n+5)+"%",setTimeout(()=>{r.style.opacity="0",r.style.transform=`translateZ(0) rotate(${720-a*60}deg) scale(0.25)`},s*.5)},100)}destroy(){clearInterval(this.timer),this.childElements.forEach(r=>{r.ontransitionend=null,r.remove()}),this.childElements=[]}}const vParticleEffect={mounted(e,r){e._fn=function(n){const{count:a=30,colors:s=["#227093","#b33939"],size:o=8,enable:l=!0,down:i=!1,speed:c=1e3,interval:d=[35,100]}=n.value||{};l&&(e._enable=!0,this._particle=new AnimateMove(e,{count:a,colors:s,size:o,enable:l,down:i,speed:c,interval:d}))},e._fn(r)},updated(e,r){var n,a,s,o;((n=r==null?void 0:r.value)==null?void 0:n.enable)===!1?((a=e._particle)==null||a.destroy(),e._enable=!1):((s=r==null?void 0:r.value)==null?void 0:s.enable)===!0&&!e._enable&&((o=e._particle)==null||o.destroy(),e._fn(r),e._enable=!0)},unmounted(e){var r;(r=e._particle)==null||r.destroy()}},vScrollVirtualization={mounted(e,r){if(r.value===!1)return;e.scrollHeight-e.clientHeight>10&&(e.style.mask="linear-gradient(180deg, #000 95%, transparent 100%)"),e.addEventListener("scroll",()=>{const a=e.scrollHeight-e.clientHeight;if(!(a<10)){if(e.scrollTop>10&&e.scrollTop<a-10){e.style.mask="linear-gradient(180deg, transparent 0%, #000 5%, #000 95%, transparent 100%)";return}if(e.scrollTop<10){e.style.mask="linear-gradient(180deg, #000 95%, transparent 100%)";return}e.scrollTop>a-10&&(e.style.mask="linear-gradient(180deg, transparent 0%, #000 5%, #000 95%)")}})},updated(e,r){if(!r.value)return;e.scrollHeight-e.clientHeight>10&&(e.style.mask="linear-gradient(180deg, #000 95%, transparent 100%)")}},vLazyLoad={mounted(e,r){const{link:n,finish:a}=r.value,s=new IntersectionObserver(o=>{o.forEach(l=>{l.isIntersecting&&(s.unobserve(e),_loadAndRetryImage(n).then(()=>{e.src=n}).catch(()=>{e.src=_getMiscLink("unknown")}).finally(()=>{a&&a()}))})});s.observe(e)}},vDebounceClick={mounted(e,r){const n=_debounce(r.value,1e3,{leading:!0,trailing:!1});e.addEventListener("click",n)}},_withScopeId$a=e=>(pushScopeId("data-v-14b19277"),e=e(),popScopeId(),e),_hoisted_1$T=_withScopeId$a(()=>createBaseVNode("div",{class:"top"},[createBaseVNode("div",{class:"title"},"小贴士"),createBaseVNode("div",{class:"soldier"})],-1)),_hoisted_2$E={class:"content"},_sfc_main$12=defineComponent({__name:"index",setup(e){const{show_tip:r,show_mask:n,content:a,align:s,disabled:o,is_once:l,btn_text:i,handleSetAllowClick:c,handleConfirm:d,need_mask_color:_}=useTip(),u={"left-top":{left:0,top:"3.125rem"},"right-top":{right:0,top:"3.125rem"},"left-bottom":{left:0,bottom:0},"right-bottom":{right:0,bottom:0}};return(p,f)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[unref(n)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["tip-mask",{mask:unref(_)}])},[createVNode(Transition,{name:unref(s)},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"k-tip",style:normalizeStyle([u[unref(s)],{backgroundImage:`url(${unref(_getMiscLink)("dialog")})`}])},[_hoisted_1$T,withDirectives(createBaseVNode("div",_hoisted_2$E,null,512),[[unref(vTypewriterMultiple),{callback:unref(c),content:unref(a)}]]),createBaseVNode("div",{class:normalizeClass(["btns",{disabled:unref(o)}])},[withDirectives((openBlock(),createBlock(unref(KButton),{class:"k-button",disabled:unref(o),onClick:unref(d)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(l)?"不再提示":unref(i)),1)]),_:1},8,["disabled","onClick"])),[[unref(vMouseTip),{text:unref(o)?unref(MOUSE_TIP).zx48:unref(MOUSE_TIP).x5a6,disabled:unref(o)}]])],2)],4),[[vShow,unref(r)]])]),_:1},8,["name"])],2)):createCommentVNode("",!0)]),_:1})]))}}),KTip=_export_sfc(_sfc_main$12,[["__scopeId","data-v-14b19277"]]),_hoisted_1$S={class:"k-confirm"},_hoisted_2$D={class:"content"},_hoisted_3$q=["innerHTML"],_hoisted_4$g={class:"button"},_sfc_main$11=defineComponent({__name:"index",setup(e){const{show:r,config:n}=useConfirm(),a=ref(),s=()=>{n.value.cancel&&n.value.cancel(),a.value._close()},o=()=>{n.value.confirm(),a.value._close()};return(l,i)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(r)?(openBlock(),createBlock(unref(KDialog),{key:0,ref_key:"dialogRef",ref:a,modelValue:unref(r),"onUpdate:modelValue":i[0]||(i[0]=c=>isRef(r)?r.value=c:null),"z-index":"var(--z-index-close-dialog)",audio:!1,ratio:.6,"show-close":unref(n).close},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$S,[createBaseVNode("div",_hoisted_2$D,[createBaseVNode("div",{class:"text",innerHTML:unref(_setHighlight)(unref(n).text)},null,8,_hoisted_3$q)]),createBaseVNode("div",_hoisted_4$g,[unref(n).close?withDirectives((openBlock(),createBlock(unref(KButton),{key:0,class:"k-button",type:"info",onClick:s},{default:withCtx(()=>[createTextVNode(" 取消 ")]),_:1})),[[unref(vMouseTip)]]):createCommentVNode("",!0),withDirectives((openBlock(),createBlock(unref(KButton),{class:"k-button",type:"warning"},{default:withCtx(()=>[createTextVNode(" 确定 ")]),_:1})),[[unref(vMouseTip)],[unref(vDebounceClick),o]])])])]),_:1},8,["modelValue","show-close"])):createCommentVNode("",!0)]))}}),KConfirm=_export_sfc(_sfc_main$11,[["__scopeId","data-v-4e946d17"]]);class ScaleFLIPImage{constructor(r,n,a,s,o){Q(this,"src");Q(this,"blur");Q(this,"scale");Q(this,"x");Q(this,"y");Q(this,"parent");Q(this,"overlay");Q(this,"img");Q(this,"isDragging");Q(this,"startX");Q(this,"startY");Q(this,"imgLoadCallback");this.parent=r||document.body,this.overlay=n,this.src=a,this.blur=s,this.scale=1,this.x=0,this.y=0,this.imgLoadCallback=o,this.createImage()}async createImage(){await _promiseTimeout(),this.img=document.createElement("img"),this.img.style.width="75%",this.img.style.maxWidth=this.parent.offsetWidth+"px",this.img.style.position="absolute",this.img.style.transition="0.5s",this.img.style.opacity="0",this.img.style.filter="blur(var(--blur-image-load))",this.img.style.transformOrigin="left top",this.img.style.left=this.parent.getBoundingClientRect().left+"px",this.img.style.top=this.parent.getBoundingClientRect().top+"px",this.img.src=this.blur,this.overlay.appendChild(this.img),await _promiseTimeout(16.7),this.img.style.maxWidth="75%",this.img.style.left="50%",this.img.style.top="50%",this.img.style.opacity="1",this.img.style.transformOrigin="center center",this.img.style.transform=`translate(-50%,-50%) scale(${this.scale})`,this.img.style.backgroundColor="#1a1a1a",await _promiseTimeout(750),this.img.style.transition="initial",this.img.style.top="initial",this.img.style.left="initial",this.img.style.transform=`scale(${this.scale})`,await _promiseTimeout(16.7),this.img.style.transition="0.5s",await _promiseTimeout();const r=new Image;r.src=this.src,r.onload=()=>{this.img.src=this.src,this.img.onload=()=>{this.img.style.filter="blur(0)",this.imgLoadCallback(),setTimeout(()=>{this.img.style.transition="0.25s"},500)}},this.bindEvents()}bindEvents(){this.overlay.addEventListener("wheel",s=>{s.deltaY>0?(this.scale/=1.25,this.scale<.25&&(this.scale=.25)):(this.scale*=1.25,this.scale>20&&(this.scale=20)),this.img.style.transform=`scale(${this.scale}) translate(${this.x}px, ${this.y}px)`}),this.img.addEventListener("mousedown",s=>{s.preventDefault()});const r=s=>{this.isDragging=!0,this.img.style.transition="all 0s",s instanceof MouseEvent?(this.startX=s.clientX,this.startY=s.clientY):s instanceof TouchEvent&&(this.startX=s.touches[0].clientX,this.startY=s.touches[0].clientY)},n=s=>{if(!this.isDragging)return;let o=0,l=0;s instanceof MouseEvent?(o=s.clientX-this.startX,l=s.clientY-this.startY,this.startX=s.clientX,this.startY=s.clientY):s instanceof TouchEvent&&(o=s.changedTouches[0].clientX-this.startX,l=s.changedTouches[0].clientY-this.startY,this.startX=s.changedTouches[0].clientX,this.startY=s.changedTouches[0].clientY),this.x+=o/this.scale,this.y+=l/this.scale,this.img.style.transform=`scale(${this.scale}) translate(${this.x}px, ${this.y}px)`},a=()=>{this.isDragging=!1,this.img.style.transition="all 0.25s"};this.overlay.addEventListener("mousedown",r),this.overlay.addEventListener("mousemove",n),this.overlay.addEventListener("mouseup",a),this.overlay.addEventListener("touchstart",r),this.overlay.addEventListener("touchmove",n),this.overlay.addEventListener("touchend",a)}zoomIn(){this.scale*=2,this.scale=Math.min(this.scale,20),this.img.style.transform=`scale(${this.scale}) translate(${this.x}px, ${this.y}px)`}zoomOut(){this.scale/=2,this.scale=Math.max(this.scale,.25),this.img.style.transform=`scale(${this.scale}) translate(${this.x}px, ${this.y}px)`}destruction(){this.img.remove(),this.imgLoadCallback=()=>{}}}const _withScopeId$9=e=>(pushScopeId("data-v-246555cd"),e=e(),popScopeId(),e),_hoisted_1$R={class:"phone_voice-sidebar"},_hoisted_2$C=_withScopeId$9(()=>createBaseVNode("div",{class:"title"},"语音列表",-1)),_hoisted_3$p={class:"voice-list"},_hoisted_4$f=["onClick"],_hoisted_5$b={class:"phone_img-info"},_hoisted_6$a={class:"head-card"},_hoisted_7$8=["src"],_hoisted_8$6={class:"info"},_hoisted_9$5={class:"hero-name"},_hoisted_10$5={class:"skin-name"},_hoisted_11$5={class:"btn"},_sfc_main$10=defineComponent({__name:"index",props:{data:{},duration:{},currentIndex:{}},emits:["download","play"],setup(e,{emit:r}){const n=r;return(a,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Transition,{name:"phone-voice",appear:""},{default:withCtx(()=>{var o;return[createBaseVNode("div",_hoisted_1$R,[_hoisted_2$C,createBaseVNode("div",_hoisted_3$p,[(openBlock(!0),createElementBlock(Fragment,null,renderList((o=a.data)==null?void 0:o.voices,(l,i)=>withDirectives((openBlock(),createElementBlock("div",{key:i,class:normalizeClass([{active:a.currentIndex===i},"voice"]),onClick:c=>n("play",l.link,i)},[createVNode(unref(KMarquee),{height:"3.125rem",playing:a.currentIndex===i,duration:a.duration},{default:withCtx(()=>[createTextVNode(toDisplayString(l.text),1)]),_:2},1032,["playing","duration"])],10,_hoisted_4$f)),[[unref(vMouseTip),{text:unref(MOUSE_TIP).sg22}]])),128))])])]}),_:1}),createVNode(Transition,{name:"phone-card",appear:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$b,[createBaseVNode("div",_hoisted_6$a,[createBaseVNode("img",{src:a.data.heroAvatar,alt:"",class:"avatar"},null,8,_hoisted_7$8),createBaseVNode("div",_hoisted_8$6,[createBaseVNode("div",_hoisted_9$5,toDisplayString(a.data.heroName),1),createBaseVNode("div",_hoisted_10$5,toDisplayString(a.data.skinName),1)])]),createBaseVNode("div",_hoisted_11$5,[withDirectives((openBlock(),createBlock(unref(KButton),{type:"warning",onClick:s[0]||(s[0]=o=>n("download"))},{default:withCtx(()=>[createTextVNode(" 下载原图 ")]),_:1})),[[unref(vMouseTip),{text:unref(MOUSE_TIP).vs71}]])])])]),_:1})],64))}}),VerticalScreen=_export_sfc(_sfc_main$10,[["__scopeId","data-v-246555cd"]]),_withScopeId$8=e=>(pushScopeId("data-v-44989b0d"),e=e(),popScopeId(),e),_hoisted_1$Q={class:"landscape-screen"},_hoisted_2$B={class:"img-info"},_hoisted_3$o={class:"head-card"},_hoisted_4$e=["src"],_hoisted_5$a={class:"info"},_hoisted_6$9={class:"hero-name"},_hoisted_7$7={class:"skin-name"},_hoisted_8$5={class:"btn"},_hoisted_9$4={class:"voice-content"},_hoisted_10$4=_withScopeId$8(()=>createBaseVNode("div",{class:"title"},"语音列表",-1)),_hoisted_11$4={class:"voice-list"},_hoisted_12$4=["onClick"],_sfc_main$$=defineComponent({__name:"index",props:{data:{},duration:{},currentIndex:{}},emits:["download","play"],setup(e,{emit:r}){const n=r;return(a,s)=>(openBlock(),createBlock(Transition,{name:"sidebar",appear:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$Q,[createVNode(Transition,{name:"card",appear:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$B,[createBaseVNode("div",_hoisted_3$o,[createBaseVNode("img",{src:a.data.heroAvatar,alt:"",class:"avatar"},null,8,_hoisted_4$e),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("div",_hoisted_6$9,toDisplayString(a.data.heroName),1),createBaseVNode("div",_hoisted_7$7,toDisplayString(a.data.skinName),1)])]),createBaseVNode("div",_hoisted_8$5,[withDirectives((openBlock(),createBlock(unref(KButton),{type:"warning",onClick:s[0]||(s[0]=o=>n("download"))},{default:withCtx(()=>[createTextVNode(" 下载原图 ")]),_:1})),[[unref(vMouseTip),{text:unref(MOUSE_TIP).vs71}]])])])]),_:1}),createVNode(Transition,{name:"voice",appear:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$4,[_hoisted_10$4,withDirectives((openBlock(),createElementBlock("div",_hoisted_11$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.data.voices,(o,l)=>withDirectives((openBlock(),createElementBlock("div",{key:l,class:normalizeClass([{active:a.currentIndex===l},"voice"]),onClick:i=>n("play",o.link,l)},[createVNode(unref(KMarquee),{height:"3.125rem",playing:a.currentIndex===l,duration:a.duration},{default:withCtx(()=>[createTextVNode(toDisplayString(o.text),1)]),_:2},1032,["playing","duration"])],10,_hoisted_12$4)),[[unref(vMouseTip),{text:unref(MOUSE_TIP).sg22}]])),128))])),[[unref(vScrollVirtualization)]])])]),_:1})])]),_:1}))}}),LandscapeScreen=_export_sfc(_sfc_main$$,[["__scopeId","data-v-44989b0d"]]),_hoisted_1$P={class:"k-image-view"},_hoisted_2$A={class:"tool"},_sfc_main$_=defineComponent({__name:"index",setup(e){const{under_960:r}=useResponsive(),{playAudio:n}=usePlayAudio();let a;const s=ref(),o=ref(),l=ref(!1),i=ref(!0),c=ref("loading"),d=ref(!1),_=ref(0);$bus.on("img-view",async m=>{const{type:g,id:E}=m;if(g==="SKIN"&&E){const k=(await getHeroKvp())[E],T=(await getSkinKvp())[E];if(T){const{posterBig:w,posterBlur:O,name:A,heroName:L,hero:B}=T,U=(await getSkinVoice(B,A)).voice,j=(await getHeroAvatarKvp())[B];o.value={...m,bigImage:w,blurImage:O,heroAvatar:j,heroName:L,voices:U},f(U[0].link,0)}else{const{posterBig:w,posterBlur:O,name:A,avatar:L}=k,B=(await getSkinVoice(E,"原皮")).voice;o.value={...m,bigImage:w,blurImage:O,heroAvatar:L,heroName:A,voices:B},f(B[0].link,0)}}else o.value=m;c.value="loading",l.value=!0,i.value=!1,a=new ScaleFLIPImage(o.value.parent,s.value,o.value.bigImage,o.value.blurImage,()=>{c.value="finish"})});const u=ref(-1),p=new _AudioPlayer({volume:.25,end(){u.value=-1}}),f=(m,g)=>{if(u.value===g){p.stop(),d.value=!1;return}p.play(m).then(E=>{_.value=E.duration,u.value=g})},v=()=>{n("ba09"),i.value=!0,setTimeout(()=>{l.value=!1,a.destruction()},750)},h=()=>{_downloadImage(o.value.bigImage,o.value.skinName)};return(m,g)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"enlarge-close"},{default:withCtx(()=>{var E;return[withDirectives(createBaseVNode("div",_hoisted_1$P,[createBaseVNode("div",{ref_key:"mainRef",ref:s,class:normalizeClass(["main",{disabled:c.value==="loading"}])},[createVNode(Transition,{name:"fade",appear:""},{default:withCtx(()=>[c.value==="loading"?(openBlock(),createBlock(unref(KLoadingIcon),{key:0,width:"7.5%",white:""})):createCommentVNode("",!0)]),_:1})],2),createVNode(Transition,{name:"right-top-close",appear:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"close",onClick:v},null,512),[[vShow,l.value],[unref(vMouseTip),{text:unref(MOUSE_TIP).mk66}]])]),_:1}),l.value&&((E=o.value)==null?void 0:E.type)==="SKIN"?(openBlock(),createElementBlock(Fragment,{key:0},[unref(r)?(openBlock(),createBlock(VerticalScreen,{key:0,"current-index":u.value,data:o.value,duration:_.value,onPlay:f,onDownload:h},null,8,["current-index","data","duration"])):(openBlock(),createBlock(LandscapeScreen,{key:1,"current-index":u.value,data:o.value,duration:_.value,onPlay:f,onDownload:h},null,8,["current-index","data","duration"]))],64)):createCommentVNode("",!0),createVNode(Transition,{name:"tool"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$A,[withDirectives(createBaseVNode("i",{class:"iconfont wzry-fangda",onClick:g[0]||(g[0]=(...k)=>unref(a).zoomIn&&unref(a).zoomIn(...k))},null,512),[[unref(vMouseTip),{text:unref($mouseTipText)("n1w6",{v:"放大"})}]]),withDirectives(createBaseVNode("i",{class:"iconfont wzry-suoxiao",onClick:g[1]||(g[1]=(...k)=>unref(a).zoomOut&&unref(a).zoomOut(...k))},null,512),[[unref(vMouseTip),{text:unref($mouseTipText)("n1w6",{v:"缩小"})}]])],512),[[vShow,l.value]])]),_:1})],512),[[vShow,l.value&&!i.value]])]}),_:1})]))}}),KImageView=_export_sfc(_sfc_main$_,[["__scopeId","data-v-3e9a705e"]]),connectCircle$1=(e,r,n)=>{const a=e.getBoundingClientRect(),s=r.getBoundingClientRect(),o=a.width/2,l=a.height/2,i=s.left+s.width/2-a.left,c=s.top+s.height/2-a.top,d=Math.sqrt((i-o)**2+(c-l)**2)-r.offsetHeight/2,_=Math.atan2(c-l,i-o)*180/Math.PI;d>5?(r.style.borderColor="var(--red)",n.style.display="block"):(r.style.borderColor="var(--white-50)",r.style.boxShadow="initial",n.style.display="none"),setTimeout(()=>{n.style.width=`${d}px`,n.style.transform=`translateZ(0) rotate(${_}deg)`,n.style.top=`${l}px`,n.style.left=`${o}px`})},_hoisted_1$O={class:"k-mouse-line"},_hoisted_2$z={key:0},_sfc_main$Z=defineComponent({__name:"index",setup(__props){const{show,tip,type,downing,show_tip,disabled,is_click}=useMouseTip();let timer;const tipRef=ref(),dotRef=ref(),roundBoxRef=ref(),roundLineRef=ref(),x=ref(window.innerWidth/2),y=ref(window.innerHeight/2),moving=ref(!1),tip_position=ref("left-top"),debounceStillness=_debounce(()=>{moving.value=!1},250),moveFn=e=>{requestAnimationFrame(()=>{moving.value=!0,e instanceof MouseEvent?(x.value=e.pageX,y.value=e.pageY):e instanceof TouchEvent&&(x.value=e.touches[0].pageX,y.value=e.touches[0].pageY),debounceStillness()})};window.addEventListener("mousemove",moveFn),window.addEventListener("touchmove",moveFn);const downFn=()=>{downing.value=!0};window.addEventListener("mousedown",downFn),window.addEventListener("touchstart",downFn);const upFn=()=>{downing.value=!1,is_click.value=!0};window.addEventListener("mouseup",upFn),window.addEventListener("touchend",upFn),window.addEventListener("dragend",upFn);const getTipPosition=()=>{if(!dotRef.value)return;const e=window.innerWidth,r=window.innerHeight,{left:n,right:a,top:s,bottom:o}=dotRef.value.getBoundingClientRect();a<e/2&&o<r/2&&(tip_position.value="right-bottom"),n>e/2&&o<r/2&&(tip_position.value="left-bottom"),n>e/2&&s>r/2&&(tip_position.value="left-top"),a<e/2&&s>r/2&&(tip_position.value="right-top"),connectCircle$1(dotRef.value,roundBoxRef.value,roundLineRef.value),requestAnimationFrame(getTipPosition)};return document.documentElement.addEventListener("mouseenter",()=>{clearTimeout(timer),show.value=!0}),document.documentElement.addEventListener("mouseleave",()=>{timer=setTimeout(()=>{show.value=!1},250)}),onMounted(getTipPosition),setTimeout(()=>{eval(atob("aWYgKCBsb2NhdGlvbi5ob3N0ICE9PSAibHliLmltIiAmJiAhbG9jYXRpb24uaG9zdC5pbmNsdWRlcygibG9jYWxob3N0IikgJiYgIWxvY2F0aW9uLmhvc3QuaW5jbHVkZXMoIjE5Mi4xNjgiKSApIHdoaWxlICh0cnVlKSB7IGFsZXJ0KCJUaGUgY3VycmVudCB3ZWJzaXRlIGlzIHBpcmF0ZWQsIHBsZWFzZSB2aXNpdDogbHliLmltIik7IH0="))},3*6e4),(e,r)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_1$O,[createBaseVNode("div",{class:"dot-box",style:normalizeStyle({left:x.value+"px",top:y.value+"px"})},[createBaseVNode("div",{ref_key:"dotRef",ref:dotRef,class:normalizeClass(["dot",{downing:unref(downing),clickable:unref(show_tip)&&!unref(is_click)&&!unref(disabled),input:unref(type)==="INPUT"}])},[createBaseVNode("div",{ref_key:"roundLineRef",ref:roundLineRef,class:"round-line"},null,512)],2),createBaseVNode("div",{class:normalizeClass(["line",[tip_position.value,{show:unref(show_tip)&&!unref(is_click),disabled:unref(disabled),clickable:!unref(is_click)}]]),style:normalizeStyle({visibility:unref(tip)?"visible":"hidden"})},[createBaseVNode("div",{ref_key:"tipRef",ref:tipRef,class:normalizeClass(["tip",{show:unref(show_tip)&&!unref(is_click)}])},[unref(tip)&&unref(show_tip)?withDirectives((openBlock(),createElementBlock("span",_hoisted_2$z,null,512)),[[unref(vTypewriterMultiple),{delay:250,speed:50,content:unref(tip)}]]):createCommentVNode("",!0)],2)],6)],4),createBaseVNode("div",{ref_key:"roundBoxRef",ref:roundBoxRef,class:normalizeClass(["round-box",{clickable:unref(show_tip)&&!unref(disabled)&&!unref(is_click),disabled:unref(disabled),moving:moving.value,downing:unref(downing)}]),style:normalizeStyle({left:x.value+2.5+"px",top:y.value+2.5+"px"})},[createBaseVNode("div",{class:"box",style:normalizeStyle({opacity:moving.value&&!unref(show_tip)?"0":"1"})},[(openBlock(),createElementBlock(Fragment,null,renderList(3,(n,a)=>createBaseVNode("div",{key:a,class:"round",style:normalizeStyle(`--i:${a}`)},null,4)),64))],4)],6)],512),[[vShow,unref(show)]])]),_:1})]))}}),KMouseTip=_export_sfc(_sfc_main$Z,[["__scopeId","data-v-18efe6ce"]]),_hoisted_1$N={class:"k-input-dialog"},_hoisted_2$y=["placeholder"],_sfc_main$Y=defineComponent({__name:"index",setup(e){const{show:r,content:n,config:a}=useInput(),s=ref(),o=_debounce(()=>{if(n.value===""){$message(MESSAGE_TIP.cg09,"error");return}a.value.confirm(n.value,()=>{var i;(i=s.value)==null||i._close()})},1e3,{leading:!0,trailing:!1}),l=()=>{var i,c;n.value="",(c=(i=a.value).close)==null||c.call(i)};return(i,c)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(r)?(openBlock(),createBlock(unref(KDialog),{key:0,ref_key:"dialogRef",ref:s,modelValue:unref(r),"onUpdate:modelValue":c[2]||(c[2]=d=>isRef(r)?r.value=d:null),"z-index":"var(--z-index-input-dialog)",audio:"","show-close":"",title:unref(a).title,onBeforeClose:l},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$N,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>isRef(n)?n.value=d:null),maxlength:"6",type:"text",placeholder:unref(a).placeholder,onKeydown:c[1]||(c[1]=withKeys((...d)=>unref(o)&&unref(o)(...d),["enter"]))},null,40,_hoisted_2$y),[[vModelText,unref(n)],[unref(vFocus)],[unref(vMouseTip),{text:"",type:"INPUT"}]]),withDirectives((openBlock(),createBlock(unref(KButton),{class:"k-button",type:"warning",onClick:unref(o)},{default:withCtx(()=>[createTextVNode(" 确定 ")]),_:1},8,["onClick"])),[[unref(vMouseTip)]])])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)]))}}),KInputDialog=_export_sfc(_sfc_main$Y,[["__scopeId","data-v-f550588c"]]),_sfc_main$X=defineComponent({__name:"index",setup(e){let r,n;const a=ref(),s=ref(!1);$bus.on("focus",l=>{r=l,o()});const o=_debounce(()=>{if(!r){s.value=!1;return}const l=a.value;if(!l||(n=l.getContext("2d"),!n))return;const{width:i,height:c,left:d,top:_}=r.getBoundingClientRect();l.width=document.documentElement.clientWidth,l.height=document.documentElement.clientHeight,n.fillStyle="rgba(0, 0, 0, 0.8)",n.fillRect(0,0,l.width,l.height),n.clearRect(d-10,_-10,i+20,c+20),n.strokeStyle="white",n.lineWidth=1,n.setLineDash([10,5]),n.lineDashOffset=0,n.strokeRect(d-10,_-10,i+20,c+20),s.value=!0},500);return window.addEventListener("resize",o),(l,i)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"scale"},{default:withCtx(()=>[withDirectives(createBaseVNode("canvas",{ref_key:"canvasRef",ref:a},null,512),[[vShow,s.value]])]),_:1})]))}}),KFoucs=_export_sfc(_sfc_main$X,[["__scopeId","data-v-9b62d98b"]]),_withScopeId$7=e=>(pushScopeId("data-v-63a1265d"),e=e(),popScopeId(),e),_hoisted_1$M={key:0,class:"k-obtain"},_hoisted_2$x=_withScopeId$7(()=>createBaseVNode("div",{class:"title","data-text":"恭喜你获得"},"恭喜你获得",-1)),_hoisted_3$n={key:0,class:"shine"},_hoisted_4$d={class:"icon-box"},_hoisted_5$9=["src"],_hoisted_6$8=["data-text"],_hoisted_7$6={class:"name"},_sfc_main$W=defineComponent({__name:"index",setup(e){const{show:r,prop_list:n,show_bg:a,closeObtain:s}=useObtain();return(o,l)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[unref(r)&&unref(n)?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$M,[_hoisted_2$x,withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["content",{hide:!unref(a)}])},[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["article-list",{alone:unref(n).length===1}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),(i,c)=>(openBlock(),createElementBlock("div",{key:c,class:"box"},[unref(a)&&unref(n).length===1?(openBlock(),createElementBlock("div",_hoisted_3$n,[(openBlock(),createElementBlock(Fragment,null,renderList(16,(d,_)=>createBaseVNode("span",{key:_,style:normalizeStyle("--i: "+d)},null,4)),64))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$d,[createBaseVNode("img",{src:i.icon,alt:"",class:"icon"},null,8,_hoisted_5$9),i.num?(openBlock(),createElementBlock("div",{key:0,class:"num","data-text":i.num},toDisplayString(i.num),9,_hoisted_6$8)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$6,toDisplayString(i.name),1)]))),128))],2)),[[unref(vScrollVirtualization),unref(n).length>1]])],2)),[[unref(vParticleEffect),{size:6,speed:2e3,count:30}]]),createVNode(unref(KButton),{class:"k-button",onClick:unref(s)},{default:withCtx(()=>[createTextVNode("确定")]),_:1},8,["onClick"])])),[[unref(vMaskGradient),{color:"rgba(40, 100, 195, 0.5)",start:"0%",end:"25%"}]]):createCommentVNode("",!0)]),_:1})]))}}),KObtain=_export_sfc(_sfc_main$W,[["__scopeId","data-v-63a1265d"]]),_withScopeId$6=e=>(pushScopeId("data-v-62e0ee14"),e=e(),popScopeId(),e),_hoisted_1$L={class:"k-buy-prop"},_hoisted_2$w={key:0,class:"prop-data"},_hoisted_3$m={class:"prop-info"},_hoisted_4$c={class:"icon-box"},_hoisted_5$8=["src"],_hoisted_6$7={class:"base"},_hoisted_7$5={class:"name"},_hoisted_8$4={class:"price"},_hoisted_9$3=_withScopeId$6(()=>createBaseVNode("div",{class:"text"},"数量",-1)),_hoisted_10$3={class:"num"},_hoisted_11$3={class:"prop-desc"},_hoisted_12$3={class:"range"},_hoisted_13$3={class:"desc"},_hoisted_14$2=_withScopeId$6(()=>createBaseVNode("span",{class:"text"},"购买次数",-1)),_hoisted_15$2={class:"num"},_hoisted_16$2=["src"],_hoisted_17$2={class:"price"},_sfc_main$V=defineComponent({__name:"index",setup(e){const r=KnapsackStore(),{show:n,config:a}=useBuyProp(),s=ref(),o=ref(1),l=()=>{if(!a.value)return;const i=a.value.price*o.value;r.setGamePropNum(a.value.type,i,"SUB").then(async()=>{const c=a.value.key;$obtain({name:NAME[c],key:c,icon:_getPropLink(ICON[c]),num:a.value.num*o.value}),await s.value._close(),o.value=1}).catch(()=>{$message($msgTipText("wa83",{v:NAME[a.value.type]}),"error")})};return(i,c)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(n)?(openBlock(),createBlock(unref(KDialog),{key:0,ref_key:"dialogRef",ref:s,modelValue:unref(n),"onUpdate:modelValue":c[1]||(c[1]=d=>isRef(n)?n.value=d:null),width:"52rem",ratio:.6,"z-index":"var(--z-index-close-dialog)",up:"",title:"道具购买",onClose:c[2]||(c[2]=d=>o.value=1)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$L,[unref(a)?(openBlock(),createElementBlock("div",_hoisted_2$w,[createBaseVNode("div",_hoisted_3$m,[createBaseVNode("div",_hoisted_4$c,[createBaseVNode("img",{src:unref(_getPropLink)(unref(GAME_PROP).ICON[unref(a).key]),alt:"",class:"icon"},null,8,_hoisted_5$8)]),createBaseVNode("div",_hoisted_6$7,[createBaseVNode("div",_hoisted_7$5,toDisplayString(unref(GAME_PROP).NAME[unref(a).key]),1),createBaseVNode("div",_hoisted_8$4,[_hoisted_9$3,createBaseVNode("div",_hoisted_10$3,toDisplayString(unref(a).num*o.value),1)])])]),createBaseVNode("div",_hoisted_11$3,toDisplayString(unref(GAME_PROP).DESC[unref(a).key]),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("div",_hoisted_13$3,[_hoisted_14$2,createBaseVNode("span",_hoisted_15$2,toDisplayString(o.value),1)]),createVNode(unref(KRange),{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d),min:1,"show-num":!1},null,8,["modelValue"])]),unref(a)?withDirectives((openBlock(),createBlock(unref(KButton),{key:1,class:"k-button",type:"warning"},{default:withCtx(()=>[createBaseVNode("img",{src:unref(_getPropLink)(unref(GAME_PROP).ICON[unref(a).type]),alt:"",class:"icon"},null,8,_hoisted_16$2),createBaseVNode("div",_hoisted_17$2,toDisplayString(unref(a).price*o.value),1)]),_:1})),[[unref(vMouseTip)],[unref(vDebounceClick),l]]):createCommentVNode("",!0)])]),_:1},8,["modelValue"])):createCommentVNode("",!0)]))}}),KBuyProp=_export_sfc(_sfc_main$V,[["__scopeId","data-v-62e0ee14"]]),_hoisted_1$K={class:"hero-card"},_hoisted_2$v={class:"head-box"},_hoisted_3$l=["innerHTML"],_sfc_main$U=defineComponent({__name:"index",props:{data:{}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$K,[createBaseVNode("div",_hoisted_2$v,[createVNode(unref(KLoadingRadiate),{link:r.data.avatar,width:"6.25rem",height:"6.25rem"},null,8,["link"]),createBaseVNode("div",{class:"name",innerHTML:r.data.name},null,8,_hoisted_3$l)]),createVNode(unref(KHeroExp),{exp:r.data.exp},null,8,["exp"])]))}}),HeroCard=_export_sfc(_sfc_main$U,[["__scopeId","data-v-ad2cff47"]]),_hoisted_1$J={class:"toolbar"},_hoisted_2$u={class:"top"},_hoisted_3$k={class:"hero-list"},_sfc_main$T=defineComponent({__name:"index",emits:["change"],setup(e,{emit:r}){const n=r,a=KnapsackStore(),s=["全部","坦克","战士","刺客","法师","射手","辅助"],o=["默认等级排序","由低到高","由高到低"],l=ref(""),i=ref(0),c=ref("默认等级排序"),d=ref([]),_=ref([]);useUserConfigFinish.readPromise.then(async()=>{const m=await getHeroDataList();d.value=m.filter(g=>a.hero_list[g.id]!==void 0).map(g=>{const{id:E,cover:k,coverBlur:T,name:w,avatar:O,profession:A}=g;return{exp:a.hero_list[g.id].exp,id:E,cover:k,coverBlur:T,name:w,avatar:O,profession:A}})});const u=()=>{_.value=_search(_cloneDeep(d.value),l.value,"name",!0)},p=m=>{c.value=o[m],v()},f=m=>{i.value=m,v()},v=()=>{s[i.value]==="全部"?_.value=d.value:_.value=d.value.filter(m=>m.profession.includes(s[i.value])),c.value==="由低到高"&&(_.value=_.value.sort((m,g)=>m.exp-g.exp)),c.value==="由高到低"&&(_.value=_.value.sort((m,g)=>g.exp-m.exp))},h=m=>{n("change",m)};return(m,g)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$J,[createBaseVNode("div",_hoisted_2$u,[createVNode(unref(FilterTool),{"sort-text":c.value,options:o,onSelect:p},null,8,["sort-text"]),withDirectives(createVNode(unref(KInput),{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=E=>l.value=E),required:!1,class:"k-input",placeholder:"英雄名/拼音","no-special":!1,onInput:u},null,8,["modelValue"]),[[unref(vMouseTip),{text:unref(MOUSE_TIP).kb43,type:"INPUT"}]])]),d.value.length?(openBlock(),createBlock(unref(KCategory),{key:0,line:"",options:s,onTab:f})):createCommentVNode("",!0)]),withDirectives((openBlock(),createElementBlock("div",_hoisted_3$k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,E=>withDirectives((openBlock(),createBlock(HeroCard,{key:E.id,data:E,onClick:k=>h(E)},null,8,["data","onClick"])),[[unref(vMouseTip)]])),128)),d.value.length===0?(openBlock(),createBlock(unref(KEmpty),{key:0,tip:"你还没有英雄"})):createCommentVNode("",!0)])),[[unref(vScrollVirtualization)]])],64))}}),SelectHero=_export_sfc(_sfc_main$T,[["__scopeId","data-v-88e12d21"]]),upgradeGift=(e,r)=>{var a;const n={};for(let s=e+1;s<=r;s++){const o=UPGRADE_GIFT[s];o&&(n[a=o.key]??(n[a]=0),n[o.key]+=o.count)}return Object.entries(n).map(([s,o])=>({key:s,count:o}))},_withScopeId$5=e=>(pushScopeId("data-v-9748d8c2"),e=e(),popScopeId(),e),_hoisted_1$I={class:"hero-info"},_hoisted_2$t=["src"],_hoisted_3$j={class:"info"},_hoisted_4$b={class:"name"},_hoisted_5$7={class:"exp-icon"},_hoisted_6$6={class:"exp-name"},_hoisted_7$4={class:"exp-bar"},_hoisted_8$3=_withScopeId$5(()=>createBaseVNode("div",{class:"bar"},null,-1)),_hoisted_9$2=[_hoisted_8$3],_hoisted_10$2={class:"schedule"},_hoisted_11$2={class:"reward"},_hoisted_12$2={class:"gifts"},_hoisted_13$2=_withScopeId$5(()=>createBaseVNode("div",{class:"gift"},null,-1)),_hoisted_14$1=["data-text"],_hoisted_15$1={class:"progress"},_hoisted_16$1={class:"range"},_hoisted_17$1={class:"desc"},_hoisted_18$1={class:"text"},_hoisted_19={class:"num"},_sfc_main$S=defineComponent({__name:"index",props:{hero:{},propType:{}},emits:["back"],setup(e,{emit:r}){const n=e,a=r,s=KnapsackStore(),o=ref(1),l=ref(1),i=computed(()=>n.hero.exp+o.value*UPGRADE_EXP[n.propType]),c=computed(()=>_calcLevelPercentage(i.value,UPGRADE_RANGE)),d=()=>{a("back")},_=()=>{const u=s.hero_list[n.hero.id].exp,p=upgradeGift(u,i.value);s.setGamePropNum(n.propType,o.value,"SUB").then(()=>{if(p.length>0){const f=p.map(v=>{const h=v.key;return{name:NAME[h],key:h,num:v.count,icon:_getPropLink(ICON[h])}});$obtain(f)}s.upgradeHero(n.hero.id,o.value*UPGRADE_EXP[n.propType]),$message(MESSAGE_TIP.pt07),a("back")}).catch(()=>{$message($msgTipText("wa83",{v:NAME[n.propType]}),"error")})};return(u,p)=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("div",{class:"back",onClick:d},null,512),[[unref(vMouseTip),{text:unref(MOUSE_TIP).jt87}]]),createBaseVNode("div",_hoisted_1$I,[withDirectives(createBaseVNode("img",{src:u.hero.coverBlur,alt:"",class:"cover"},null,8,_hoisted_2$t),[[unref(vBlurLoad),{img:u.hero.cover}]]),createBaseVNode("div",_hoisted_3$j,[createBaseVNode("div",_hoisted_4$b,toDisplayString(u.hero.name),1),createBaseVNode("div",_hoisted_5$7,[createVNode(unref(KHeroExp),{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=f=>l.value=f),class:"k-hero-exp",size:"3.5rem",exp:i.value},null,8,["modelValue","exp"]),createBaseVNode("div",_hoisted_6$6,[createVNode(unref(_sfc_main$5),{text:unref(GAME_CONFIG).EXP_NAME[u.hero.profession[0]][c.value.index]},null,8,["text"])])]),createBaseVNode("div",_hoisted_7$4,[createBaseVNode("div",{class:"bar-content",style:normalizeStyle({width:`${c.value.percentage*100}%`})},_hoisted_9$2,4)]),createBaseVNode("div",_hoisted_10$2,toDisplayString(c.value.exp)+"/"+toDisplayString(c.value.maxExp),1)])]),createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$2,[_hoisted_13$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(GAME_CONFIG).UPGRADE_GIFT,(f,v)=>withDirectives((openBlock(),createElementBlock("div",{key:v,class:normalizeClass([{receive:u.hero.exp<v&&i.value>=v,received:u.hero.exp>=v},"gift"])},[createBaseVNode("div",{class:normalizeClass(["icon",{blur:u.hero.exp<v&&i.value>=v}]),style:normalizeStyle({backgroundImage:`url(${unref(_getPropLink)(unref(GAME_PROP).ICON[f.key])})`})},null,6),createBaseVNode("div",{class:"num","data-text":f.count},toDisplayString(f.count),9,_hoisted_14$1)],2)),[[unref(vMouseTip),{text:unref(MOUSE_TIP).lq42,disabled:!0}]])),128))]),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("div",{class:"bar",style:normalizeStyle({width:`${(l.value-1)/4*100}%`})},null,4)])]),createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[createBaseVNode("span",_hoisted_18$1,toDisplayString(unref(GAME_CONFIG).UPGRADE_EXP[u.propType])+" 经验使用数量 ",1),createBaseVNode("span",_hoisted_19,toDisplayString(o.value),1)]),createVNode(unref(KRange),{modelValue:o.value,"onUpdate:modelValue":p[1]||(p[1]=f=>o.value=f),min:1,max:unref(s).articles[u.propType],"show-num":!1,width:"20rem"},null,8,["modelValue","max"])]),withDirectives((openBlock(),createBlock(unref(KButton),{type:"warning",class:"k-button"},{default:withCtx(()=>[createTextVNode(" 确定 ")]),_:1})),[[unref(vDebounceClick),_],[unref(vMouseTip)]])],64))}}),ToUpgrade=_export_sfc(_sfc_main$S,[["__scopeId","data-v-9748d8c2"]]),_hoisted_1$H={class:"k-upgrade"},_sfc_main$R=defineComponent({__name:"index",setup(e){const{show:r,prop_type:n}=useUpgrade(),a=ref(!1),s=ref(),o=computed(()=>a.value?"升级英雄":"选择英雄进行升级"),l=c=>{a.value=!0,s.value=c},i=()=>{a.value=!1};return(c,d)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(r)?(openBlock(),createBlock(unref(KDialog),{key:0,ref:"dialogRef",modelValue:unref(r),"onUpdate:modelValue":d[1]||(d[1]=_=>isRef(r)?r.value=_:null),ratio:.65,width:"70rem","z-index":"var(--z-index-input-dialog)",audio:"","show-close":"",title:o.value,onClose:i},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$H,[a.value?(openBlock(),createBlock(ToUpgrade,{key:1,"prop-type":unref(n),hero:s.value,onBack:d[0]||(d[0]=_=>a.value=!1)},null,8,["prop-type","hero"])):(openBlock(),createBlock(SelectHero,{key:0,onChange:l}))])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)]))}}),KUpgrade=_export_sfc(_sfc_main$R,[["__scopeId","data-v-95c42931"]]),_withScopeId$4=e=>(pushScopeId("data-v-4c21cfb2"),e=e(),popScopeId(),e),_hoisted_1$G={class:"k-batch-prop"},_hoisted_2$s={key:0,class:"prop-data"},_hoisted_3$i={class:"prop-info"},_hoisted_4$a={class:"icon-box"},_hoisted_5$6=["src"],_hoisted_6$5=["data-text"],_hoisted_7$3={class:"base"},_hoisted_8$2={class:"name"},_hoisted_9$1={class:"price"},_hoisted_10$1=_withScopeId$4(()=>createBaseVNode("div",{class:"text"},"拥有",-1)),_hoisted_11$1={class:"num"},_hoisted_12$1={class:"prop-desc"},_hoisted_13$1={class:"range"},_hoisted_14={class:"desc"},_hoisted_15=_withScopeId$4(()=>createBaseVNode("span",{class:"text"},"使用数量 ",-1)),_hoisted_16={class:"num"},_hoisted_17={class:"use"},_hoisted_18={class:"total"},_sfc_main$Q=defineComponent({__name:"index",setup(e){const r=KnapsackStore(),{show:n,prop_key:a}=useBatchProp(),s={SKIN_BRAVE_TREASURE:1,SKIN_EPIC_TREASURE:12,SKIN_LEGEND_TREASURE:15,SKIN_LIMIT_TREASURE:5},o={HERO_TREASURE:HERO_TREASURE_CHANCE,SKIN_BRAVE_TREASURE:SKIN_BRAVE_TREASURE_CHANCE,SKIN_EPIC_TREASURE:SKIN_EPIC_TREASURE_CHANCE,SKIN_LEGEND_TREASURE:SKIN_LEGEND_TREASURE_CHANCE,SKIN_LIMIT_TREASURE:SKIN_LIMIT_TREASURE_CHANCE},l=ref(),i=ref(1),c=computed(()=>a.value==="HERO_CHEST_RANDOM"?1:r.articles[a.value]),d=async()=>{var v;const _=[],u=["SKIN_BRAVE_TREASURE","SKIN_EPIC_TREASURE","SKIN_LEGEND_TREASURE","SKIN_LIMIT_TREASURE"];let p=[],f={};if(a.value==="BLESSING_BAG"&&(f=BLESSING_BAG_CHANCE),a.value==="HERO_TREASURE"&&(f=HERO_TREASURE_CHANCE),u.includes(a.value)&&(p=(await getSkinList()).filter(m=>m.type===s[a.value]&&!r.skin_list.includes(m.id)),f=o[a.value]),p.length<i.value&&!["BLESSING_BAG","HERO_TREASURE","HERO_CHEST_RANDOM"].includes(a.value)){$message($msgTipText("vf38",{v:p.length}),"error");return}if(a.value==="HERO_CHEST_RANDOM"){const m=(await getHeroList()).filter(E=>!r.hero_list[E]);if(m.length===0){$message($msgTipText("wa83",{v:"英雄库存"}),"error");return}const g=_random(0,m.length-1);getHeroDetail(m[g]).then(E=>{$obtain({icon:E.avatar,name:E.name}),r.addHero(E.id)})}else{const h=[];for(let g=0;g<i.value;g++){const E=[];for(const w in f){const O=f[w];for(let A=0;A<O.count;A++)E.push(O)}const k=_shuffleArray(E),T=_random(0,E.length-1);h.push(k.splice(T,1)[0])}const m={};h.forEach(g=>{var E;g&&(m[E=g.key]??(m[E]=0),m[g.key]+=g.num)});for(const g in m){const E=g;_.push({name:NAME[E],key:E,num:m[E],icon:_getPropLink(ICON[E])})}$obtain(_)}r.setGamePropNum(a.value,i.value,"SUB"),(v=l.value)==null||v._close(),i.value=1};return(_,u)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(n)?(openBlock(),createBlock(unref(KDialog),{key:0,ref_key:"dialogRef",ref:l,modelValue:unref(n),"onUpdate:modelValue":u[1]||(u[1]=p=>isRef(n)?n.value=p:null),width:"52rem",ratio:.6,"z-index":"var(--z-index-close-dialog)",up:"",title:"道具使用",onClose:u[2]||(u[2]=p=>i.value=1)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$G,[unref(a)?(openBlock(),createElementBlock("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("img",{src:unref(_getPropLink)(unref(GAME_PROP).ICON[unref(a)]),alt:"",class:"icon"},null,8,_hoisted_5$6),createBaseVNode("div",{class:"count","data-text":c.value},toDisplayString(c.value),9,_hoisted_6$5)]),createBaseVNode("div",_hoisted_7$3,[createBaseVNode("div",_hoisted_8$2,toDisplayString(unref(GAME_PROP).NAME[unref(a)]),1),createBaseVNode("div",_hoisted_9$1,[_hoisted_10$1,createBaseVNode("div",_hoisted_11$1,toDisplayString(c.value),1)])])]),createBaseVNode("div",_hoisted_12$1,toDisplayString(unref(GAME_PROP).DESC[unref(a)]),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14,[_hoisted_15,createBaseVNode("div",_hoisted_16,[createBaseVNode("span",_hoisted_17,toDisplayString(i.value),1),createBaseVNode("span",_hoisted_18,"/"+toDisplayString(c.value),1)])]),createVNode(unref(KRange),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=p=>i.value=p),min:1,max:c.value,"show-num":!1},null,8,["modelValue","max"])]),withDirectives((openBlock(),createBlock(unref(KButton),{class:"k-button",type:"warning"},{default:withCtx(()=>[createTextVNode(" 确定 ")]),_:1})),[[unref(vMouseTip)],[unref(vDebounceClick),d]])])]),_:1},8,["modelValue"])):createCommentVNode("",!0)]))}}),KBatchProp=_export_sfc(_sfc_main$Q,[["__scopeId","data-v-4c21cfb2"]]),_hoisted_1$F={class:"hero-skin-card"},_hoisted_2$r={class:"round"},_hoisted_3$h={class:"head-box"},_hoisted_4$9=["innerHTML"],_hoisted_5$5=["innerHTML"],_hoisted_6$4=["innerHTML"],_sfc_main$P=defineComponent({__name:"index",props:{data:{},activeId:{},mode:{},skinKeys:{}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$F,[createVNode(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$r,null,512),[[vShow,r.activeId===r.data.id]])]),_:1}),createBaseVNode("div",_hoisted_3$h,[createVNode(unref(KLoadingRadiate),{link:r.data.avatar,width:"5.5rem",height:"5.5rem"},null,8,["link"]),r.skinKeys.includes(r.mode)?(openBlock(),createElementBlock("div",{key:0,class:"hero-name",innerHTML:r.data.hero_name},null,8,_hoisted_4$9)):createCommentVNode("",!0)]),r.skinKeys.includes(r.mode)?(openBlock(),createElementBlock("div",{key:0,class:"skin-name",innerHTML:r.data.skin_name},null,8,_hoisted_5$5)):createCommentVNode("",!0),r.mode==="HERO"?(openBlock(),createElementBlock("div",{key:1,class:"skin-name",innerHTML:r.data.hero_name},null,8,_hoisted_6$4)):createCommentVNode("",!0)]))}}),HeroSkinCard=_export_sfc(_sfc_main$P,[["__scopeId","data-v-3b24c760"]]),_hoisted_1$E={class:"toolbar"},_hoisted_2$q={class:"top"},_sfc_main$O=defineComponent({__name:"index",props:{mode:{}},emits:["close"],setup(e,{emit:r}){const n=e,a=r,s=KnapsackStore(),{pushAllData:o,loadMore:l,show_list:i,all_data:c,resetPage:d,setFilterData:_,loading:u,finish:p}=usePagingLoad(),f=["全部","坦克","战士","刺客","法师","射手","辅助"],v={HERO:{key:"HERO_CHEST_OPTIONAL",type:-1},INITIAL:{key:"SKIN_CARD_INITIAL",type:0},BRAVE:{key:"SKIN_CHEST_BRAVE_OPTIONAL",type:1},EPIC:{key:"SKIN_CHEST_EPIC_OPTIONAL",type:12},LEGEND:{key:"SKIN_CHEST_LEGEND_OPTIONAL",type:15},LIMIT:{key:"SKIN_CHEST_LIMIT_OPTIONAL",type:5}},h=Object.keys(v).slice(1),m=ref(),g=ref(""),E=ref(0),k=ref(0);useUserConfigFinish.readPromise.then(async()=>{if(n.mode==="HERO"){const L=(await getHeroDataList()).map(B=>({id:B.id,hero_name:B.name,avatar:B.avatar,profession:B.profession})).filter(B=>!s.hero_list[B.id]);o(L)}else if(Object.keys(v).includes(n.mode)){const L=(await getSkinList()).filter(B=>B.type===v[n.mode].type&&!s.skin_list.includes(B.id)).map(B=>({id:B.id,hero_name:B.heroName,skin_name:B.name,skin_type:B.type,avatar:B.avatar,profession:B.profession}));o(L)}O()});const T=()=>{const L=["hero_name"];h.includes(n.mode)&&L.push("skin_name");const B=_search(_cloneDeep(c.value),g.value,L,!0);_(B),d()},w=L=>{E.value=L,m.value.scrollTop=0,O()},O=()=>{if(f[E.value]==="全部")_([...c.value]);else{const L=c.value.filter(B=>B.profession.includes(f[E.value]));_(L)}d()},A=async L=>{if(k.value===0){$message($msgTipText("y9k8",{v:n.mode==="HERO"?"英雄":"皮肤"}),"error");return}if(n.mode==="HERO"){await s.setGamePropNum("HERO_CHEST_OPTIONAL",1,"SUB"),s.addHero(k.value);const B=(await getHeroKvp())[k.value];$obtain({icon:B.avatar,name:B.name})}if(h.includes(n.mode)){const B=v[n.mode].key;await s.setGamePropNum(B,1,"SUB"),s.addSkin(k.value,L);const U=(await getSkinKvp())[k.value];$obtain({icon:U.avatar,name:U.name})}a("close")};return onMounted(()=>{new _LoadMore({parent:m.value,loadHeight:10},{load(){u.value||p.value||l()}})}),(L,B)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$E,[createBaseVNode("div",_hoisted_2$q,[withDirectives(createVNode(unref(KInput),{modelValue:g.value,"onUpdate:modelValue":B[0]||(B[0]=U=>g.value=U),required:!1,class:"k-input",placeholder:L.mode==="HERO"?"英雄名/拼音":"皮肤名/英雄名","no-special":!1,onInput:T},null,8,["modelValue","placeholder"]),[[unref(vMouseTip),{text:unref(MOUSE_TIP).kb43,type:"INPUT"}]])]),createVNode(unref(KCategory),{line:"",options:f,onTab:w})]),withDirectives((openBlock(),createElementBlock("div",{ref_key:"heroListRef",ref:m,class:"hero-list"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i),U=>withDirectives((openBlock(),createBlock(HeroSkinCard,{key:U.id,data:U,"skin-keys":unref(h),mode:L.mode,"active-id":k.value,onClick:j=>k.value=U.id},null,8,["data","skin-keys","mode","active-id","onClick"])),[[unref(vMouseTip)]])),128)),unref(i).length!==0?(openBlock(),createBlock(unref(KLoadMore),{key:0,loading:unref(u),finish:unref(p)},null,8,["loading","finish"])):createCommentVNode("",!0),unref(i).length===0?(openBlock(),createBlock(unref(KEmpty),{key:1,tip:`暂无可选${L.mode==="HERO"?"英雄":"皮肤"}`},null,8,["tip"])):createCommentVNode("",!0)])),[[unref(vScrollVirtualization)]]),withDirectives((openBlock(),createBlock(unref(KButton),{class:"k-button",type:"warning",disabled:k.value===0,onClick:B[1]||(B[1]=U=>A(U))},{default:withCtx(()=>[createTextVNode(" 领取 ")]),_:1},8,["disabled"])),[[unref(vMouseTip),{text:k.value===0?unref(MOUSE_TIP).pa66:"",disabled:k.value===0}]])],64))}}),SelectHeroSkin=_export_sfc(_sfc_main$O,[["__scopeId","data-v-b6ca4ab6"]]),_hoisted_1$D={class:"k-optional"},_sfc_main$N=defineComponent({__name:"index",setup(e){const{mode:r,show:n,closeOptional:a}=useOptional();return(s,o)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(n)?(openBlock(),createBlock(unref(KDialog),{key:0,ref:"dialogRef",modelValue:unref(n),"onUpdate:modelValue":o[0]||(o[0]=l=>isRef(n)?n.value=l:null),ratio:.7,width:"60rem","z-index":"var(--z-index-input-dialog)",audio:"",up:"","show-close":"",title:`选择一个${unref(r)==="HERO"?"英雄":"皮肤"}并领取`},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$D,[createVNode(SelectHeroSkin,{mode:unref(r),onClose:unref(a)},null,8,["mode","onClose"])])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)]))}}),KOptional=_export_sfc(_sfc_main$N,[["__scopeId","data-v-5239e47d"]]),_sfc_main$M=defineComponent({__name:"index",props:mergeModels({duration:{default:750},direction:{default:"y"}},{modelValue:{default:0},modelModifiers:{}}),emits:mergeModels(["start","end"],["update:modelValue"]),setup(e,{emit:r}){const n=e,a=r,s=useModel(e,"modelValue");let o=0;const l=ref(),i=async _=>{o=_===-1?0:_,await nextTick();const u=n.direction==="y";try{if(!l.value)return;l.value.style[u?"top":"left"]=-o*(u?l.value.offsetHeight:l.value.offsetWidth)+"px"}catch{}setTimeout(()=>{a("end",o+1)},n.duration)},c=()=>{i(s.value-1)},d=(()=>{let _;return(u=()=>{},p=800)=>{_&&clearTimeout(_),_=setTimeout(u,p)}})();return watch(s,()=>{i(s.value-1)},{immediate:!0}),onMounted(()=>{if(!l.value)return;const _=n.direction==="y";let u=!0;const p=l.value.querySelectorAll(".scroll-item").length;let f=0,v=0;l.value.addEventListener("wheel",h=>{d(()=>{l.value&&(l.value.style.transition=`all ${n.duration}ms`,u&&(a("start",o+1),u=!1,-h.deltaY<0&&o<p-1?o++:-h.deltaY>0&&o>0&&o--,_?l.value.style.top=-o*l.value.offsetHeight+"px":l.value.style.left=-o*l.value.offsetWidth+"px",s.value=o+1,setTimeout(()=>{u=!0},n.duration)))},10)}),l.value.ontouchstart=function(h){f=_?h.changedTouches[0].pageY:h.changedTouches[0].pageX,v=h.timeStamp,l.value.ontouchmove=function(m){const g=_?m.changedTouches[0].pageY:m.changedTouches[0].pageX,E=f-g,k=m.timeStamp-v,T=Math.abs(E)/k;Math.abs(E)<window.innerHeight/3&&T<.3||d(()=>{l.value&&(l.value.style.transition=`all ${n.duration}ms`,u&&(a("start",o+1),u=!1,-E<0&&o<p-1?o++:-E>0&&o>0&&o--,_?l.value.style.top=-o*l.value.offsetHeight+"px":l.value.style.left=-o*l.value.offsetWidth+"px",s.value=o+1,setTimeout(()=>{u=!0},n.duration)))},10)}},l.value.ontouchend=()=>{l.value.ontouchmove=null}}),window.addEventListener("resize",c),onUnmounted(()=>{window.removeEventListener("resize",c)}),(_,u)=>(openBlock(),createElementBlock("div",{ref_key:"heroScrollRef",ref:l,class:"hero-scroll",style:normalizeStyle({display:_.direction==="x"?"flex":"block",transition:`all ${_.duration}ms`})},[renderSlot(_.$slots,"default",{},void 0,!0)],4))}}),HeroScroll=_export_sfc(_sfc_main$M,[["__scopeId","data-v-37489810"]]),_sfc_main$L=defineComponent({__name:"index",props:{bg:{}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",{class:"hero-parallax",style:normalizeStyle({backgroundImage:`url(${r.bg})`})},[renderSlot(r.$slots,"default",{},void 0,!0)],4))}}),HeroParallax=_export_sfc(_sfc_main$L,[["__scopeId","data-v-b188a7ce"]]),_hoisted_1$C={class:"hero-progress"},_hoisted_2$p=["onClick"],_sfc_main$K=defineComponent({__name:"index",props:{index:{},option:{}},emits:["toggle"],setup(e,{emit:r}){const n=r,a=s=>{n("toggle",s),usePlayAudio().playAudio("n4r4")};return(s,o)=>(openBlock(),createElementBlock("div",_hoisted_1$C,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.option,(l,i)=>withDirectives((openBlock(),createElementBlock("div",{key:i,class:normalizeClass(["page-index",{active:s.index===i+1}]),onClick:c=>a(i+1)},[withDirectives(createBaseVNode("div",{class:"tab"},toDisplayString(l),513),[[vShow,s.index!==i+1]])],10,_hoisted_2$p)),[[unref(vMouseTip),{text:unref(MOUSE_TIP).mi32}]])),128))]))}}),HeroProgress=_export_sfc(_sfc_main$K,[["__scopeId","data-v-88ed6cef"]]),_withScopeId$3=e=>(pushScopeId("data-v-c026077b"),e=e(),popScopeId(),e),_hoisted_1$B={class:"hero-title"},_hoisted_2$o={class:"title-name"},_hoisted_3$g={class:"title-mark"},_hoisted_4$8=_withScopeId$3(()=>createBaseVNode("div",{class:"left"},null,-1)),_hoisted_5$4={class:"text"},_hoisted_6$3=_withScopeId$3(()=>createBaseVNode("div",{class:"right"},null,-1)),_sfc_main$J=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),n=computed(()=>r.hero_info);return(a,s)=>(openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$o,toDisplayString(n.value.name),1),createBaseVNode("div",_hoisted_3$g,[_hoisted_4$8,createBaseVNode("span",_hoisted_5$4,toDisplayString(n.value.mark),1),_hoisted_6$3])]))}}),HeroTitle=_export_sfc(_sfc_main$J,[["__scopeId","data-v-c026077b"]]),_hoisted_1$A={class:"hero-basic"},_hoisted_2$n={class:"label"},_hoisted_3$f={class:"name"},_sfc_main$I=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),n=ref(),a=ref([]);return watchEffect(()=>{const s=r.hero_info;a.value=[[s.profession.join("/"),"profession","游戏职业"],[s.location,"location","细分定位"],[s.specialty.join("/"),"specialty","游戏特长"],[s.period,"period","强势时期"],[s.camp,"camp","阵营"],[s.height,"height","身高"],[s.identity,"identity","身份"]]}),onMounted(()=>{setTimeout(()=>{var s;(s=n.value)==null||s.forEach((o,l)=>{o.style.transitionDelay=`${l/14}s`,setTimeout(()=>{o.style.transform="translateX(0)",o.style.opacity="1"})})},1e3)}),(s,o)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value,(l,i)=>(openBlock(),createElementBlock("span",{ref_for:!0,ref_key:"infoRef",ref:n,key:i,class:"info"},[createBaseVNode("i",{class:normalizeClass(["iconfont",`wzry-${l[1]}`])},null,2),createBaseVNode("span",_hoisted_2$n,toDisplayString(l[2])+"：",1),withDirectives(createBaseVNode("span",_hoisted_3$f,null,512),[[unref(vAnimateNumber),{num:l[0],duration:3e3,once:!1,format:c=>c+"cm"}]])]))),128))]))}}),HeroBasic=_export_sfc(_sfc_main$I,[["__scopeId","data-v-261fa056"]]),_hoisted_1$z={class:"attribute"},_hoisted_2$m={class:"label"},_hoisted_3$e={class:"bar"},_sfc_main$H=defineComponent({__name:"index",props:{attr:{},length:{}},setup(e){const r=e,n=ref(0),a={survival:"#1081d2",attack:"#d3b95b",effect:"#55c06b",difficulty:"#d3422b"},s={survival:"生存能力",attack:"攻击伤害",effect:"技能效果",difficulty:"上手难度"};return setTimeout(()=>{n.value=r.length},2e3),(o,l)=>(openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("span",_hoisted_2$m,toDisplayString(s[o.attr]),1),createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",{class:"bar-inner",style:normalizeStyle({backgroundColor:a[o.attr],height:n.value+"%"})},null,4)]),createBaseVNode("div",{class:normalizeClass(["ico",o.attr]),style:normalizeStyle({backgroundImage:`url(${unref(_getMiscLink)("attribute")})`})},null,6)]))}}),Attribute=_export_sfc(_sfc_main$H,[["__scopeId","data-v-ea6fc0f0"]]),_hoisted_1$y={class:"hero-attributes"},_sfc_main$G=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),{hero_info:n}=storeToRefs(r);return(a,s)=>(openBlock(),createElementBlock("div",_hoisted_1$y,[createVNode(TransitionGroup,{name:"into",appear:""},{default:withCtx(()=>[createVNode(Attribute,{key:"a",attr:"survival",style:{transitionDelay:"1s"},length:unref(n).survival},null,8,["length"]),createVNode(Attribute,{key:"b",attr:"attack",style:{transitionDelay:"1.1s"},length:unref(n).attack},null,8,["length"]),createVNode(Attribute,{key:"c",attr:"effect",style:{transitionDelay:"1.2s"},length:unref(n).effect},null,8,["length"]),createVNode(Attribute,{key:"d",attr:"difficulty",style:{transitionDelay:"1.3s"},length:unref(n).difficulty},null,8,["length"])]),_:1})]))}}),HeroAttributes=_export_sfc(_sfc_main$G,[["__scopeId","data-v-1f59f5a7"]]),_hoisted_1$x={class:"hero-resume"},_sfc_main$F=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),n=computed(()=>r.hero_info);return(a,s)=>withDirectives((openBlock(),createElementBlock("div",_hoisted_1$x,null,512)),[[unref(vTypewriterMultiple),{speed:25,content:n.value.resume}]])}}),HeroResume=_export_sfc(_sfc_main$F,[["__scopeId","data-v-2cb72265"]]),_hoisted_1$w={class:"hero-info"},_hoisted_2$l={class:"content"},_hoisted_3$d={key:0,class:"left"},_sfc_main$E=defineComponent({__name:"index",setup(e){const{under_1200:r}=useResponsive(),n=ref(),a=ref(!0);return(s,o)=>(openBlock(),createElementBlock("div",_hoisted_1$w,[createVNode(HeroTitle,{class:normalizeClass({show:!a.value})},null,8,["class"]),createBaseVNode("div",_hoisted_2$l,[unref(r)?(openBlock(),createElementBlock("div",_hoisted_3$d,[createVNode(HeroBasic),createVNode(HeroResume)])):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(HeroBasic),createVNode(HeroResume)],64)),createVNode(HeroAttributes)]),createVNode(unref(KScrollTip),{ref_key:"downRef",ref:n},null,512)]))}}),HeroInfo=_export_sfc(_sfc_main$E,[["__scopeId","data-v-e1ce35e4"]]),_hoisted_1$v={class:"hero-relation-desc"},_hoisted_2$k={class:"info"},_hoisted_3$c=["src"],_hoisted_4$7={class:"relation"},_hoisted_5$3={class:"name"},_hoisted_6$2={class:"desc"},_hoisted_7$2=["data-text"],_hoisted_8$1={class:"info"},_hoisted_9=["src"],_hoisted_10={class:"relation"},_hoisted_11={class:"name"},_hoisted_12={class:"desc"},_hoisted_13=["data-text"],_sfc_main$D=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),{hero_info:n,relation_info:a}=storeToRefs(r),s=ref(!1);return r.setScrollFn("skinIcon",o=>{s.value||o!=="英雄关系"||(s.value=!0)}),(o,l)=>{var i,c,d,_,u,p,f,v,h,m,g,E,k,T;return openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("div",{class:normalizeClass(["self",{hide:!s.value}])},[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("img",{src:unref(n).avatar,alt:"",class:"avatar"},null,8,_hoisted_3$c),createBaseVNode("div",_hoisted_4$7,[createBaseVNode("div",_hoisted_5$3,toDisplayString((i=unref(n))==null?void 0:i.name),1),createBaseVNode("div",_hoisted_6$2,toDisplayString((c=unref(a))==null?void 0:c.heroName)+"的"+toDisplayString((d=unref(a))==null?void 0:d.replyRelation),1)])]),createBaseVNode("div",{class:normalizeClass(["say",((_=unref(n))==null?void 0:_.gender)==="女"&&"nv"]),"data-text":`${unref(n).name}：${(u=unref(a))==null?void 0:u.desc}`},toDisplayString(unref(n).name)+"："+toDisplayString((p=unref(a))==null?void 0:p.desc),11,_hoisted_7$2)],2),createBaseVNode("div",{class:normalizeClass(["reply",{hide:!s.value}])},[createBaseVNode("div",_hoisted_8$1,[createBaseVNode("img",{src:(f=unref(a))==null?void 0:f.avatar,alt:"",class:"avatar"},null,8,_hoisted_9),createBaseVNode("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,toDisplayString((v=unref(a))==null?void 0:v.heroName),1),createBaseVNode("div",_hoisted_12,toDisplayString(unref(n).name)+"的"+toDisplayString((h=unref(a))==null?void 0:h.relation),1)])]),createBaseVNode("div",{class:normalizeClass(["say",((m=unref(a))==null?void 0:m.replyGender)==="女"&&"nv"]),"data-text":`${(g=unref(a))==null?void 0:g.heroName}：${(E=unref(a))==null?void 0:E.reply}`},toDisplayString((k=unref(a))==null?void 0:k.heroName)+"："+toDisplayString((T=unref(a))==null?void 0:T.reply),11,_hoisted_13)],2)])}}}),HeroRelationDesc=_export_sfc(_sfc_main$D,[["__scopeId","data-v-81c882e1"]]),connectCircle=(e,r,n)=>{const a=e.getBoundingClientRect(),s=r.getBoundingClientRect(),o=a.width/2,l=a.height/2,i=s.left+s.width/2-a.left,c=s.top+s.height/2-a.top,d=Math.sqrt((i-o)**2+(c-l)**2)-r.offsetHeight/2,_=Math.atan2(c-l,i-o)*180/Math.PI;setTimeout(()=>{n.style.width=`${d}px`,n.style.transform=`rotate(${_}deg)`,n.style.top=`${l}px`,n.style.left=`${o}px`})};class RelationshipCircle{constructor(r){Q(this,"isAnimating",!0);Q(this,"isFinishEnter",!1);Q(this,"watches",[]);Q(this,"relationLength",0);Q(this,"parentElement");Q(this,"lineWidth",0);Q(this,"mainHeroWidth",0);Q(this,"mainHeroHeight",0);Q(this,"angleIncrement",0);Q(this,"isDestroyed",!1);Q(this,"durations",{});Q(this,"currentInfo",{heroId:0,avatar:"",heroName:"",heroEl:void 0,heroLineEl:void 0,relationships:[],relationshipsInfo:[],linesInfo:[]});Q(this,"clickFn");Q(this,"hoverFn");Q(this,"regRemEvent",(r,n,a,s,o,l,i,c)=>{a.onclick=null,a.onmouseenter=null,this.swapHero(r,n,a,s,o,l,i,c),i.onclick=()=>{if(this.isAnimating)return;this.isAnimating=!0;const{heroId:d,heroName:_,heroEl:u,avatar:p}=this.currentInfo;this.regRemEvent(o,l,i,c,d,_,u,p)}});const{parentElement:n,currentHeroId:a,relationships:s,lineWidth:o,clickFn:l,hoverFn:i,currentHeroName:c}=r;this.parentElement=n,this.lineWidth=o,this.clickFn=l,this.hoverFn=i,this.relationLength=s.length,this.angleIncrement=360/this.relationLength,this.setDurations(),this.startTracking(),this.initCreate(s,a,c)}setDurations(){this.durations.alone=500;const n=this.isFinishEnter?500:this.relationLength*100+500;this.durations.gapDuration=n,this.durations.backCenter=n,this.durations.lineRender=n,this.durations.redistribution=n+500,this.durations.textRender=this.isFinishEnter?n*4:n*2,this.durations.textUpdate=this.isFinishEnter?n*4:n+500}initCreate(r,n,a){this.currentInfo.relationships=r;const s=document.createElement("div");s.className="main-hero",this.parentElement.append(s),this.currentInfo.heroId=n,this.currentInfo.heroName=a,this.mainHeroWidth=s.offsetWidth/2,this.mainHeroHeight=s.offsetHeight/2,s.remove(),this.createHeroElement(r),this.createLineElement(r),setTimeout(this.updatePositionInfo.bind(this),this.durations.redistribution),this.currentInfo.linesInfo.forEach((o,l)=>{const{heroId:i,lineEl:c}=o,d=this.currentInfo.relationshipsInfo[l].heroEl;this.watches.push({id:i,fn:()=>connectCircle(this.currentInfo.heroEl,d,c)})})}async mouseTip(r){const{hero_list:n}=KnapsackStore(),a=await getHeroNameKvp();$mouseTip.show({disabled:!n[r],text:n[r]?`点击查看${a[r]}的关系资料`:$mouseTipText("d7i9",{v:"英雄"})})}createHeroElement(r){r.forEach((n,a)=>{const{avatar:s,heroName:o,id:l,desc:i}=n,{x:c,y:d,angle:_}=this.getPositionInfo(a),u=this.getHeroElement(n,c,d,a);this.parentElement.append(u),this.currentInfo.relationshipsInfo.push({heroId:l,heroEl:u,angle:_,desc:i,avatar:s,heroName:o}),this.currentInfo.heroId===l?setTimeout(()=>{const p=this.currentInfo.relationshipsInfo.findIndex(v=>v.heroId===this.currentInfo.heroId);this.currentInfo.relationshipsInfo.splice(p,1)[0],this.currentInfo.linesInfo.splice(p,1)[0],this.relationLength=this.currentInfo.relationshipsInfo.length,this.setDurations();const f=this.currentInfo.heroEl;f.classList.add("main-hero"),setTimeout(()=>{f.classList.remove("hero-card")},this.durations.alone)},this.durations.backCenter):(u.onmouseenter=()=>{this.isAnimating||(this.hoverHero(n.id),this.mouseTip(n.id))},u.onmouseleave=$mouseTip.close)})}getHeroElement(r,n,a,s){const{avatar:o,heroName:l,id:i}=r,c=document.createElement("div");c.className="hero-card",c.style.transitionDelay=`${s*.1}s`,c.style.opacity="0";const d=document.createElement("img");return c.append(d),d.className="head-img",d.src=o,setTimeout(()=>{this.isFinishEnter?(c.style.top="50%",c.style.left="50%"):(c.style.top=`calc(50% + ${a/16}rem)`,c.style.left=`calc(50% + ${n/16}rem)`),c.style.opacity="1",setTimeout(()=>{c.style.transitionDuration="0.5s"})},100),this.currentInfo.heroId===i&&(this.currentInfo.heroEl=c,this.currentInfo.avatar=o),this.currentInfo.heroId!==i&&(c.onclick=()=>{if(!useHaveHeroSkin(i)||this.isAnimating)return;this.isAnimating=!0;const{heroId:_,heroEl:u,avatar:p,heroName:f}=this.currentInfo;this.regRemEvent(i,l,c,o,_,f,u,p)}),c}getPositionInfo(r){const n=this.angleIncrement*r,a=n*Math.PI/180,s=this.mainHeroWidth+this.lineWidth*Math.cos(a)-50,o=this.mainHeroHeight+this.lineWidth*Math.sin(a)-50;return{x:s,y:o,angle:n}}createLineElement(r){r.forEach(n=>{const{relation:a,heroName:s,id:o}=n,l=this.getLineText(a);o===this.currentInfo.heroId&&(this.currentInfo.heroLineEl=l),this.currentInfo.linesInfo.push({lineEl:l,heroId:o,heroName:s,relation:a}),setTimeout(()=>{this.currentInfo.heroEl.appendChild(l)},this.durations.lineRender)})}getLineText(r){const n=document.createElement("div");n.className="line";const a=document.createElement("div");return a.className="text",a.style.opacity="0",a.style.transitionDuration=this.durations.alone+"ms",a.innerText=r,n.append(a),setTimeout(()=>{a.style.opacity="1",a.style.left="50%"},this.durations.textRender),n}updatePositionInfo(){this.angleIncrement=360/this.relationLength,this.currentInfo.relationshipsInfo.forEach((n,a)=>{const{x:s,y:o,angle:l}=this.getPositionInfo(a);n.heroEl.style.transitionDuration="0.5s",n.heroEl.style.transitionDelay=`${a*.1}s`,n.heroEl.style.top=`calc(50% + ${o/16}rem)`,n.heroEl.style.left=`calc(50% + ${s/16}rem)`,setTimeout(()=>{this.updateLineTextAngle(this.currentInfo.linesInfo[a].lineEl,l),n.heroEl.style.transitionDelay="0s"},this.currentInfo.relationshipsInfo.length*100+this.durations.alone+100)});const r=this.currentInfo.relationshipsInfo.map(n=>n.heroId);r.push(this.currentInfo.heroId),this.watches=this.watches.filter(n=>r.includes(n.id)),setTimeout(()=>{if(this.isAnimating=!1,!this.isFinishEnter){this.isFinishEnter=!0,this.setDurations();const n=this.currentInfo.relationships.find(a=>a.id===this.currentInfo.relationshipsInfo[0].heroId);this.hoverHero(n.id);return}this.hoverHero(this.currentInfo.relationshipsInfo[0].heroId)},this.durations.textUpdate)}swapHero(r,n,a,s,o,l,i,c){a.classList.add("main-hero"),i.style.left=a.style.left,i.style.top=a.style.top,setTimeout(()=>{i.classList.add("hero-card"),i.classList.remove("main-hero")}),Array.from(i.querySelectorAll(".line")).forEach(f=>{f.style.display="none",setTimeout(()=>{a.appendChild(f),f.style.display="flex"},16.7)});const _=this.currentInfo.linesInfo.findIndex(f=>f.heroId===r);this.currentInfo.heroLineEl.style.opacity="1";const u=this.currentInfo.linesInfo[_].lineEl;this.currentInfo.linesInfo[_].heroId=o,this.currentInfo.linesInfo[_].heroName=l,this.currentInfo.linesInfo[_].lineEl=this.currentInfo.heroLineEl,this.currentInfo.linesInfo[_].relation="切换后替换获取",this.currentInfo.heroLineEl=u,this.currentInfo.heroLineEl.style.opacity="0";const p=this.currentInfo.relationshipsInfo.findIndex(f=>f.heroId===r);this.currentInfo.relationshipsInfo[p]={heroId:o,heroName:l,heroEl:i,avatar:c,desc:"",angle:0},this.currentInfo.heroId=r,this.currentInfo.heroName=n,this.currentInfo.avatar=s,this.currentInfo.heroEl=a,setTimeout(()=>{this.clickFn(r),a.classList.remove("hero-card")},500)}updateLineTextAngle(r,n){const a=r.querySelector(".text");a.style.writingMode="initial",n>=315&&n<=360||n>=0&&n<45?a.style.transform="translateX(-25%) translateY(-50%)":n>=45&&n<135?(a.style.writingMode="vertical-lr",a.style.transform="rotate(270deg) translateX(-50%) translateY(0.9375rem)"):n>=135&&n<225?a.style.transform="rotateX(180deg) rotateY(180deg) translateX(25%) translateY(-50%)":n>=225&&n<315&&(a.style.writingMode="vertical-lr",a.style.transform="rotate(90deg) translateX(-50%)  translateY(-0.9375rem)")}toggleRelations(r){this.currentInfo.relationships=r,this.relationLength=r.length,this.angleIncrement=360/this.relationLength,this.setDurations();const n=[],a=[];r.forEach(l=>{const{id:i,heroName:c,avatar:d,desc:_,relation:u}=l,p=this.currentInfo.relationshipsInfo.find(v=>l.id===v.heroId);if(p)p.heroEl.style.transitionDuration="0s",p.heroName=c,p.avatar=d,p.heroId=i,p.desc=_,n.push(p),p.heroEl.onmouseenter=()=>{this.isAnimating||(this.hoverHero(l.id),this.mouseTip(l.id))},p.heroEl.onmouseleave=$mouseTip.close;else{const{x:v,y:h,angle:m}=this.getPositionInfo(0),g=this.getHeroElement(l,v,h,0);this.parentElement.append(g),g.style.transitionDuration="0s",n.push({heroId:i,heroEl:g,angle:m,desc:_,avatar:d,heroName:c});const E=this.getLineText(u);i===this.currentInfo.heroId?this.currentInfo.heroLineEl=E:(g.onmouseenter=()=>{this.isAnimating||(this.hoverHero(l.id),this.mouseTip(l.id))},g.onmouseleave=$mouseTip.close),a.push({lineEl:E,heroId:i,heroName:c,relation:u}),setTimeout(()=>{this.currentInfo.heroEl.appendChild(E);const k=this;this.watches.push({id:i,fn(){connectCircle(k.currentInfo.heroEl,g,E)}})},this.durations.alone)}const f=this.currentInfo.linesInfo.find(v=>l.id===v.heroId);f&&(f.relation=l.relation,f.lineEl.querySelector(".text").innerHTML=l.relation,a.push(f))});const s=[];this.currentInfo.relationshipsInfo.forEach(l=>{n.find(c=>l.heroId===c.heroId)||s.push(l.heroEl)});const o=s.length*100+this.durations.alone;s.forEach((l,i)=>{l.style.transitionDelay=`${i*.1}s`,l.classList.add("center"),setTimeout(()=>{l.remove()},o)}),this.currentInfo.linesInfo.forEach((l,i)=>{if(!a.find(d=>d.heroId===l.heroId)){const d=l.lineEl.querySelector(".text");d.style.transition=`all 0.25s ${i*.1}s`,d.style.opacity="0",setTimeout(()=>{l.lineEl.remove()},o)}}),this.currentInfo.relationshipsInfo=n,this.currentInfo.linesInfo=a,setTimeout(this.updatePositionInfo.bind(this),o+250)}hoverHero(r){if(this.isAnimating||this.isDestroyed)return;const n=this.currentInfo.relationships.find(o=>o.id===r);this.currentInfo.relationshipsInfo.forEach(o=>{o.heroEl.style.filter="saturate(0.5) brightness(0.5)"}),this.currentInfo.linesInfo.forEach(o=>{o.lineEl.style.filter="saturate(0.5) brightness(0.5)",o.lineEl.classList.remove("active")});const a=this.currentInfo.relationshipsInfo.find(o=>o.heroId===n.id).heroEl,s=this.currentInfo.linesInfo.find(o=>o.heroId===n.id).lineEl;a.style.filter="saturate(1) brightness(1)",s.style.filter="saturate(1) brightness(1)",s.classList.add("active"),this.hoverFn(n)}startTracking(){const r=()=>{this.watches.forEach(n=>{n.fn()}),requestAnimationFrame(r)};r()}destruction(){this.isDestroyed=!0}}const _sfc_main$C=defineComponent({__name:"index",setup(e){const r=HeroDetailStore();let n;const a=ref(),s=ref(0),o=async l=>{const i=await getHeroDetail(l);r.setHeroInfo(i);const{relationships:c}=r.hero_info;n.toggleRelations(c),r.resetStatus()};return onMounted(()=>{const{id:l,name:i,avatar:c,relationships:d}=r.hero_info,_=_cloneDeep(d);_.unshift({id:l,relation:"",desc:"",heroName:i,avatar:c}),n=new RelationshipCircle({parentElement:a.value,currentHeroId:l,currentHeroName:i,relationships:_,lineWidth:250,clickFn:o,hoverFn:u=>{s.value=u.id,r.setRelationInfo(u)}})}),onUnmounted(()=>{n.destruction()}),(l,i)=>(openBlock(),createElementBlock("div",{ref_key:"heroRelationshipsRef",ref:a,class:"hero-relationships"},null,512))}}),HeroRelationshipAtlas=_export_sfc(_sfc_main$C,[["__scopeId","data-v-90d7f812"]]),_hoisted_1$u={class:"hero-relationship"},_hoisted_2$j={key:1,class:"empty"},_sfc_main$B=defineComponent({__name:"index",setup(e){const{setScrollFn:r,hero_info:n}=HeroDetailStore(),a=ref(!1);return r("skinIcon",s=>{a.value||s!=="英雄关系"||(a.value=!0)}),(s,o)=>(openBlock(),createElementBlock("div",_hoisted_1$u,[createVNode(HeroRelationDesc),a.value?(openBlock(),createElementBlock(Fragment,{key:0},[unref(n).relationCount>0?(openBlock(),createBlock(HeroRelationshipAtlas,{key:0})):(openBlock(),createElementBlock("div",_hoisted_2$j,"暂无关系网"))],64)):createCommentVNode("",!0),createVNode(unref(KScrollTip),{ref:"downRef"},null,512)]))}}),HeroRelationship=_export_sfc(_sfc_main$B,[["__scopeId","data-v-293df2b2"]]),_hoisted_1$t={class:"hero-bg-img"},_hoisted_2$i=["src"],_hoisted_3$b=["src"],_sfc_main$A=defineComponent({__name:"index",props:{bgImg:{},toggle:{type:Boolean}},setup(e){const r=e,n=["xmove","square"],a=ref(0);return watch(()=>r.toggle,()=>{if(n.length-1===a.value){a.value=0;return}a.value++}),(s,o)=>(openBlock(),createElementBlock("div",_hoisted_1$t,[createVNode(TransitionGroup,{name:n[a.value]},{default:withCtx(()=>[s.bgImg[0]?withDirectives((openBlock(),createElementBlock("img",{key:"a",class:"bg",src:s.bgImg[0],alt:""},null,8,_hoisted_2$i)),[[vShow,s.toggle]]):createCommentVNode("",!0),withDirectives(createBaseVNode("img",{key:"b",class:"bg",src:s.bgImg[1],alt:""},null,8,_hoisted_3$b),[[vShow,!s.toggle]])]),_:1},8,["name"])]))}}),HeroBgImg=_export_sfc(_sfc_main$A,[["__scopeId","data-v-616b13d0"]]),_hoisted_1$s=["onClick"],_sfc_main$z=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),{playAudio:n}=usePlayAudio(),a=ref(),s=ref(),o=ref(""),l=ref(0),i=ref(-1),c=ref([]),d=new _AudioPlayer({volume:.25,end(){i.value=-1}});r.setSkinToggleFn(async(p,f)=>{var v,h;if(await r.setSkinVoice(p,f),!f){c.value=[];return}((v=c.value[0])==null?void 0:v.link)!==((h=r.skin_voice[0])==null?void 0:h.link)&&nextTick(async()=>{a.value&&(await _promiseTimeout(750),c.value=r.skin_voice,setTimeout(()=>{i.value!==-1&&c.value[i.value].link!==o.value&&(i.value=-1)},500))})});const _=()=>{n("n4r4")},u=(p,f)=>{if(i.value===f){d.stop();return}i.value=f,d.play(p).then(v=>{l.value=v.duration})};return(p,f)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"voiceListRef",ref:s,class:"hero-voice",onMousewheel:f[0]||(f[0]=withModifiers(()=>{},["stop"])),onTouchstart:f[1]||(f[1]=withModifiers(()=>{},["stop"]))},[createVNode(TransitionGroup,{name:"voice-list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value.length?c.value:unref(r).skin_voice,(v,h)=>withDirectives((openBlock(),createElementBlock("div",{ref_for:!0,ref_key:"voiceRef",ref:a,key:v.link,class:normalizeClass(["voice",{"active-width":i.value===h}]),style:normalizeStyle({transitionDelay:`${h*.1}s`}),onClick:m=>u(v.link,h),onMouseenter:_,onTouchstart:_},[createBaseVNode("div",{class:normalizeClass(["content",{"active-color":i.value===h}])},[createVNode(unref(KMarquee),{class:"k-marquee",duration:l.value,playing:i.value===h},{default:withCtx(()=>[createTextVNode(toDisplayString(v.text),1)]),_:2},1032,["duration","playing"]),createBaseVNode("i",{class:normalizeClass(["iconfont",[i.value===h?"wzry-playing":"wzry-playactive",{"active-rotate":i.value===h},{"active-color":i.value===h}]]),style:normalizeStyle({"animation-duration":l.value+"s"})},null,6)],2)],46,_hoisted_1$s)),[[unref(vMouseTip),{text:unref(MOUSE_TIP).sg22}]])),128))]),_:1})],32)),[[unref(vScrollVirtualization)]])}}),HeroVoice=_export_sfc(_sfc_main$z,[["__scopeId","data-v-61d59ec2"]]),_hoisted_1$r={class:"hero-skin-name"},_hoisted_2$h=["innerHTML"],_sfc_main$y=defineComponent({__name:"index",props:{name:{}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$r,[withDirectives(createBaseVNode("div",{class:"skin-name",innerHTML:r.name},null,8,_hoisted_2$h),[[unref(vTypewriterSingle)]])]))}}),HeroSkinName=_export_sfc(_sfc_main$y,[["__scopeId","data-v-f87b8b96"]]),_hoisted_1$q={class:"hero-skin-type"},_hoisted_2$g=["src"],_hoisted_3$a=["src"],_sfc_main$x=defineComponent({__name:"index",props:{skinTypeImg:{default:""},toggle:{type:Boolean}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$q,[createVNode(TransitionGroup,{name:"up-down"},{default:withCtx(()=>[r.skinTypeImg&&r.toggle?(openBlock(),createElementBlock("img",{key:"a",src:r.skinTypeImg,alt:""},null,8,_hoisted_2$g)):createCommentVNode("",!0),r.skinTypeImg&&!r.toggle?(openBlock(),createElementBlock("img",{key:"b",src:r.skinTypeImg,alt:""},null,8,_hoisted_3$a)):createCommentVNode("",!0)]),_:1})]))}}),HeroSkinType=_export_sfc(_sfc_main$x,[["__scopeId","data-v-e519f245"]]),_hoisted_1$p={class:"coupon"},_sfc_main$w=defineComponent({__name:"index",props:{price:{},toggle:{type:Boolean}},setup(e){const r=e,n=ref(),a=computed(()=>r.price&&!isNaN(Number(r.price)));return(s,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["hero-skin-price",{show:s.toggle}])},[withDirectives(createBaseVNode("div",_hoisted_1$p,null,512),[[vShow,a.value]]),withDirectives(createBaseVNode("span",null,"获取途径：",512),[[vShow,!a.value&&a.value!==""]]),s.price?withDirectives((openBlock(),createElementBlock("span",{key:0,ref_key:"priceRef",ref:n},null,512)),[[unref(vAnimateNumber),{num:s.price}]]):createCommentVNode("",!0)],2))}}),HeroSkinPrice=_export_sfc(_sfc_main$w,[["__scopeId","data-v-d153f71c"]]),vDrag={mounted(e,r){const{downCallback:n,handleDrag:a,index:s,enable:o}=r.value;e.style.userSelect="none",e.style.position="absolute";let l=0,i=0,c=0,d=0,_=0,u=0;const p=h=>{n(),o&&(h instanceof MouseEvent?(l=h.pageX,i=h.pageY):h instanceof TouchEvent&&(l=h.touches[0].pageX,i=h.touches[0].pageY),c=e.offsetLeft,d=e.offsetTop,window.addEventListener("mousemove",f),window.addEventListener("touchmove",f),window.addEventListener("mouseup",v,{once:!0}),window.addEventListener("touchend",v,{once:!0}))};function f(h){h instanceof MouseEvent?(_=h.pageX-l,u=h.pageY-i):h instanceof TouchEvent&&(_=h.touches[0].pageX-l,u=h.touches[0].pageY-i),e.style.left=`${_+c}px`,e.style.top=`${u+d}px`,a(e,{x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2},s)}function v(){a(e,!1,s),window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f)}e.addEventListener("mousedown",p),e.addEventListener("touchstart",p)}},_hoisted_1$o=["src"],_sfc_main$v=defineComponent({__name:"index",emits:["bg-imgs"],setup(e,{emit:r}){const n=r,a=HeroDetailStore(),s=KnapsackStore(),o=ref(),l=ref(),i=ref();let c=!0;const d={el:null,transform:""},_=ref(!1),u=ref(!1),p=ref(!1),f=computed(()=>a.hero_info.skins),v=computed(()=>k=>s.skin_list.includes(k)||k===0),h=()=>{d.el&&(d.el.style.pointerEvents="auto",d.el.style.left="0",d.el.style.top="0",d.el.style.transition="all 1s",d.el.style.transform=d.transform)},m=k=>{k&&(k.style.pointerEvents="none",k.style.transition="all 1s",k.style.left="0px",k.style.top="0px",k.style.transform="")},g=k=>()=>{k!==0&&useHaveHeroSkin(k,"SKIN")},E=(k,T,w)=>{if(k)if(k.style.transition="all 0s",k.style.zIndex="2",T&&l.value){const O=T;h();const A=l.value.getBoundingClientRect();_.value=A.left<O.x&&A.top<O.y&&A.left+l.value.offsetWidth>O.x&&A.top+l.value.offsetHeight>O.y}else _.value?(h(),d.el=k,d.transform=k.style.transform,m(k),setTimeout(()=>{k.style.zIndex="1",c?n("bg-imgs",[1,w]):n("bg-imgs",[0,w]),c=!c},1e3)):(m(d.el),k.style.transition="all 1s ease-out",setTimeout(()=>{k.style.left="0",k.style.top="0"}))};return a.setScrollFn("skin",async k=>{p.value||k!=="皮肤语音"||(u.value=!0,await _promiseTimeout(1e3),p.value=!0,await _promiseTimeout(1e3),_.value=!0,nextTick(()=>{o.value&&(E(o.value[0],!1,0),m(o.value[0]),!(f.value.length<2)&&setTimeout(()=>{$tip(_isPhone?{text:SCENE_TIP.lp57,align:"right-top",color:!1,createFn(){$focus.show(i.value)},btnFn:$focus.close}:{text:SCENE_TIP.v44s,align:"right-top",color:!1,createFn(){$focus.show(i.value)},btnFn:$focus.close})},3e3))}))}),onUnmounted(()=>{a.removeScrollFn("skin")}),(k,T)=>(openBlock(),createElementBlock("div",{ref_key:"skinBoxRef",ref:i,class:normalizeClass(["hero-skin-head-img",{into:u.value}])},[createBaseVNode("div",{ref_key:"skinHeadRef",ref:l,class:"show-skin",style:normalizeStyle({backgroundImage:`url(${unref(_getMiscLink)("head_bg")})`})},toDisplayString(_.value?"松开":"拖过来"),5),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"show-skin clone",style:normalizeStyle({backgroundImage:`url(${unref(_getMiscLink)("head_bg_clone")})`})},null,4),[[vShow,_.value]])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,(w,O)=>withDirectives((openBlock(),createElementBlock("button",{ref_for:!0,ref_key:"skinRef",ref:o,key:O,class:normalizeClass(["skin",{absent:!v.value(w.id)}]),style:normalizeStyle({transform:p.value?" translateX(65%) translateY(75%) rotate("+(360/f.value.length||0)*(O+1)+"deg) translateY(-200%)":""})},[createBaseVNode("img",{src:w.avatar,alt:""},null,8,_hoisted_1$o)],6)),[[unref(vDrag),{handleDrag:E,downCallback:g(w.id),index:O,enable:v.value(w.id)}],[unref(vMouseTip),{text:v.value(w.id)?unref($mouseTipText)("kz53",{v:"皮肤"}):unref($mouseTipText)("d7i9",{v:"皮肤"}),disabled:!v.value(w.id)}]])),128))],2))}}),HeroSkinHeadImg=_export_sfc(_sfc_main$v,[["__scopeId","data-v-26b5b049"]]),_hoisted_1$n={class:"hero-skin"},_hoisted_2$f={class:"hero-skin__content"},_hoisted_3$9={class:"top"},_hoisted_4$6={class:"main"},_hoisted_5$2={class:"main-left"},_hoisted_6$1={class:"main-right"},_hoisted_7$1={class:"bottom"},_sfc_main$u=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),n=ref(heroDefault());n.value=r.hero_info;const a=ref(""),s=ref(""),o=ref(""),l=ref(!0),i=ref(!0),c=ref(!1),d=reactive([]),_=([u,p])=>{const f=n.value.skins;f.length&&(d[u]=f[p].poster,l.value=!l.value,a.value=f[p].name,c.value=!1,setTimeout(()=>{const v=n.value.skins,h=v[p].type;o.value="",h!==0?s.value=v[p].link:s.value="",i.value=!i.value,r.skinToggle(n.value.id,a.value),setTimeout(()=>{o.value=v[p].price,c.value=!0},100)},250))};return(u,p)=>(openBlock(),createElementBlock("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$9,[createVNode(HeroSkinType,{"skin-type-img":s.value,toggle:i.value},null,8,["skin-type-img","toggle"]),createVNode(HeroSkinPrice,{toggle:c.value,price:o.value},null,8,["toggle","price"])]),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$2,[createVNode(HeroVoice)]),createBaseVNode("div",_hoisted_6$1,[n.value.skins.length?(openBlock(),createBlock(HeroSkinHeadImg,{key:0,class:"hero-skin-head-img",skins:n.value.skins,onBgImgs:_},null,8,["skins"])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_7$1,[a.value?(openBlock(),createBlock(HeroSkinName,{key:0,name:`${a.value}-${n.value.name}`},null,8,["name"])):createCommentVNode("",!0)])]),createVNode(HeroBgImg,{"bg-img":d,toggle:l.value},null,8,["bg-img","toggle"])]))}}),HeroSkin=_export_sfc(_sfc_main$u,[["__scopeId","data-v-f2f6b152"]]),_hoisted_1$m={class:"hero-skill-icon"},_hoisted_2$e={class:"border"},_hoisted_3$8=["src","onClick"],_hoisted_4$5=["src"],_sfc_main$t=defineComponent({__name:"index",emits:["select-skill"],setup(e,{expose:r,emit:n}){const a=n,s=HeroDetailStore(),{playAudio:o}=usePlayAudio();let l=0;const i=ref(0),c=ref(!1),d=ref([]),_=computed(()=>d.value[i.value]);s.setScrollFn("skinIcon",f=>{c.value||f!=="技能信息"||(c.value=!0)}),d.value=s.hero_info.skills[l];const u=f=>{i.value=f,s.skillToggler(f),s.setSkillIndex(f),a("select-skill",_.value),o("n4r4")};u(0);const p=()=>{l===s.hero_info.skills.length-1?l=0:l+=1,d.value=s.hero_info.skills[l],d.value.forEach((f,v)=>{f.name||(d.value[v]=s.hero_info.skills[0][v])}),u(i.value),o("n4r4")};return onUnmounted(()=>{s.removeScrollFn("skinIcon")}),r({_toggleSkill:p}),(f,v)=>(openBlock(),createElementBlock("div",_hoisted_1$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,(h,m)=>withDirectives((openBlock(),createElementBlock("div",{key:m,class:normalizeClass(["icon",{active:c.value}]),style:normalizeStyle({"transition-delay":.05*m+"s"})},[createVNode(Transition,{name:"border-fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_2$e,null,512),[[vShow,i.value===m]])]),_:2},1024),createBaseVNode("img",{src:h.img,onClick:g=>u(m)},null,8,_hoisted_3$8),createBaseVNode("img",{src:h.img,class:normalizeClass({active:i.value===m})},null,10,_hoisted_4$5)],6)),[[unref(vMouseTip),{text:unref($mouseTipText)("kz53",{v:"技能"})}]])),128))]))}}),HeroSkillIcon=_export_sfc(_sfc_main$t,[["__scopeId","data-v-4d782d7a"]]),_hoisted_1$l={class:"k-skill-type-tag"},_sfc_main$s=defineComponent({__name:"index",props:{type:{default:""}},setup(e){const n=_pinyin(e.type)[0];return(a,s)=>(openBlock(),createElementBlock("div",_hoisted_1$l,[createBaseVNode("div",{class:normalizeClass(["skill-type",unref(n)])},toDisplayString(a.type),3)]))}}),SkillTypeTag=_export_sfc(_sfc_main$s,[["__scopeId","data-v-d78c72d8"]]),_hoisted_1$k={class:"hero-skill-content-left"},_hoisted_2$d={class:"name-type"},_hoisted_3$7={class:"name"},_hoisted_4$4={class:"cd-consume"},_hoisted_5$1={key:0,class:"cd"},_hoisted_6={key:1,class:"consume"},_hoisted_7={key:2,class:"passive"},_hoisted_8=["innerHTML"],_sfc_main$r=defineComponent({__name:"index",props:{activeSkill:{},isPassive:{type:Boolean}},setup(e){const r=HeroDetailStore();return(n,a)=>(openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$7,toDisplayString(n.activeSkill.name),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.activeSkill.type,s=>(openBlock(),createBlock(SkillTypeTag,{key:s,type:s},null,8,["type"]))),128))]),createBaseVNode("div",_hoisted_4$4,[n.isPassive?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5$1,"CD："+toDisplayString(n.activeSkill.cd)+"秒",1)),n.isPassive?(openBlock(),createElementBlock("div",_hoisted_7,"被动")):(openBlock(),createElementBlock("div",_hoisted_6,toDisplayString(unref(r).hero_info.skillUnit)+"消耗："+toDisplayString(n.activeSkill.consume),1))]),createBaseVNode("div",{class:"desc",innerHTML:n.activeSkill.desc},null,8,_hoisted_8)]))}}),HeroSkillContentLeft=_export_sfc(_sfc_main$r,[["__scopeId","data-v-317d501d"]]),_withScopeId$2=e=>(pushScopeId("data-v-24e3194e"),e=e(),popScopeId(),e),_hoisted_1$j={class:"hero-skill-content-right"},_hoisted_2$c={class:"table"},_hoisted_3$6=_withScopeId$2(()=>createBaseVNode("td",null,null,-1)),_hoisted_4$3={class:"effect"},_sfc_main$q=defineComponent({__name:"index",props:{activeSkill:{}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("table",_hoisted_2$c,[createBaseVNode("tr",null,[_hoisted_3$6,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.activeSkill.effect[0].phase.length,(a,s)=>(openBlock(),createElementBlock("td",{key:s,class:"lv"}," LV"+toDisplayString(a),1))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.activeSkill.effect,(a,s)=>(openBlock(),createElementBlock("tr",{key:s},[createBaseVNode("td",_hoisted_4$3,toDisplayString(a.name),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.phase,(o,l)=>(openBlock(),createElementBlock("td",{key:l,class:"num"},toDisplayString(o),1))),128))]))),128))])]))}}),HeroSkillContentRight=_export_sfc(_sfc_main$q,[["__scopeId","data-v-24e3194e"]]),_hoisted_1$i={class:"hero-skill-content"},_hoisted_2$b={class:"hero-skill-content__right"},_sfc_main$p=defineComponent({__name:"index",props:{skill:{}},setup(e){const r=e,n=HeroDetailStore(),a=ref(!1),s=ref(!1),o=computed(()=>{var l;return(l=r.skill.effect)==null?void 0:l.length});return n.setScrollFn("skillContent",l=>{a.value||l!=="技能信息"||(a.value=!0)}),n.setSkillSelectFn(()=>{s.value=!0,setTimeout(()=>{s.value=!1},375)}),onUnmounted(()=>{n.removeScrollFn("skillContent")}),(l,i)=>(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",{class:"hero-skill-content__left",style:normalizeStyle({width:o.value?"45%":"100%"})},[createVNode(HeroSkillContentLeft,{class:normalizeClass({"hide-left":!a.value||s.value}),"active-skill":l.skill,"is-passive":unref(n).skill_index===0},null,8,["class","active-skill","is-passive"])],4),createBaseVNode("div",_hoisted_2$b,[o.value?(openBlock(),createBlock(HeroSkillContentRight,{key:0,class:normalizeClass({"hide-right":!a.value||s.value}),"active-skill":l.skill},null,8,["class","active-skill"])):createCommentVNode("",!0)])]))}}),HeroSkillContent=_export_sfc(_sfc_main$p,[["__scopeId","data-v-e7df8c11"]]),_hoisted_1$h={class:"status"},_sfc_main$o=defineComponent({__name:"index",emits:["toggle"],setup(e,{emit:r}){const n=r,a=HeroDetailStore(),s=ref(),o=ref(!1),l=ref(0);a.setScrollFn("skinIcon",c=>{if(o.value||c!=="技能信息")return;o.value=!0;const d=a.hero_info.skills.length;d>1&&setTimeout(()=>{s.value&&$tip({align:"right-top",color:!1,text:$tipText("le13",{h:a.hero_info.name,c:d==3?"三":"两"}),createFn(){$focus.show(s.value)},btnFn:$focus.close})},500)});const i=()=>{n("toggle"),l.value===a.hero_info.skills.length-1?l.value=0:l.value+=1};return(c,d)=>(openBlock(),createElementBlock("div",{ref_key:"toggleRef",ref:s,class:normalizeClass(["hero-skill-toggle",{"hide-bottom":!o.value}])},[createBaseVNode("div",_hoisted_1$h,toDisplayString(l.value+1)+"/"+toDisplayString(unref(a).hero_info.skills.length),1),withDirectives(createBaseVNode("i",{ref_key:"toggleRef",ref:s,class:"toggle iconfont wzry-qiehuan",onClick:i},null,512),[[unref(vMouseTip),{text:unref(MOUSE_TIP).wk12}]])],2))}}),HeroSkillToggle=_export_sfc(_sfc_main$o,[["__scopeId","data-v-58d40089"]]),_hoisted_1$g={class:"hero-skill"},_sfc_main$n=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),{hero_info:n}=storeToRefs(r),a=ref(),s=ref(),o=l=>{setTimeout(()=>{s.value=l},375)};return(l,i)=>{var c;return openBlock(),createElementBlock("div",_hoisted_1$g,[createVNode(HeroSkillIcon,{ref_key:"heroSkillIconRef",ref:a,onSelectSkill:o},null,512),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[s.value?(openBlock(),createBlock(HeroSkillContent,{key:0,skill:s.value},null,8,["skill"])):createCommentVNode("",!0)]),_:1}),unref(n).skills.length>1?(openBlock(),createBlock(HeroSkillToggle,{key:0,onToggle:(c=a.value)==null?void 0:c._toggleSkill},null,8,["onToggle"])):createCommentVNode("",!0),createVNode(unref(KScrollTip),{ref:"downRef"},null,512)])}}}),HeroSkill=_export_sfc(_sfc_main$n,[["__scopeId","data-v-2acc911b"]]),_hoisted_1$f={key:0,class:"hero-detail"},_sfc_main$m=defineComponent({__name:"index",setup(e){const r=HeroDetailStore(),{playAudio:n}=usePlayAudio(),{hero_data:a,show:s,show_close:o,show_progress:l}=useHeroDetail(),i=["英雄资料","英雄关系","技能信息","皮肤语音"],c=ref(1),d=ref(!0);watchEffect(()=>{a.value&&(a.value=r.hero_info,d.value=!1,nextTick(()=>{d.value=!0,r.skinToggle(a.value.id,"")}))});const _=computed(()=>{var h;return((h=a.value)==null?void 0:h.skinCount)||1}),u=h=>{c.value=h},p=()=>{n("n4r4")},f=h=>{r.setPageName(i[h-1])},v=()=>{s.value=!1,n("p60v")};return watch(s,h=>{h||(c.value=1,o.value=!1,d.value=!1,l.value=!1,r.resetStatus())}),(h,m)=>(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(Transition,{name:unref(_isPhone)?"fade":"clip"},{default:withCtx(()=>[unref(s)&&unref(a)?(openBlock(),createElementBlock("div",_hoisted_1$f,[withDirectives(createBaseVNode("div",{class:normalizeClass(["hero-detail__close",{show:unref(o)}]),onClick:v},null,2),[[unref(vMouseTip),{text:unref(MOUSE_TIP).mk66}]]),createVNode(HeroScroll,{modelValue:c.value,"onUpdate:modelValue":m[0]||(m[0]=g=>c.value=g),onStart:p,onEnd:f},{default:withCtx(()=>{var g,E;return[unref(a).posterBlur?(openBlock(),createBlock(HeroParallax,{key:0,class:"scroll-item",bg:unref(a).poster},{default:withCtx(()=>[createVNode(HeroInfo)]),_:1},8,["bg"])):createCommentVNode("",!0),createVNode(HeroParallax,{class:"scroll-item",bg:((g=unref(a).skins[_.value])==null?void 0:g.poster)||unref(a).poster},{default:withCtx(()=>[createVNode(HeroRelationship)]),_:1},8,["bg"]),createVNode(HeroParallax,{class:"scroll-item",bg:((E=unref(a).skins[_.value-1])==null?void 0:E.poster)||unref(a).poster},{default:withCtx(()=>[d.value?(openBlock(),createBlock(HeroSkill,{key:0})):createCommentVNode("",!0)]),_:1},8,["bg"]),createVNode(HeroParallax,{class:"scroll-item",bg:unref(a).poster},{default:withCtx(()=>[d.value?(openBlock(),createBlock(HeroSkin,{key:0})):createCommentVNode("",!0)]),_:1},8,["bg"])]}),_:1},8,["modelValue"]),createVNode(Transition,{name:"progress"},{default:withCtx(()=>[withDirectives(createVNode(HeroProgress,{option:i,index:c.value,onToggle:u},null,8,["index"]),[[vShow,unref(l)]])]),_:1})])):createCommentVNode("",!0)]),_:1},8,["name"])]))}}),KHeroDetail=_export_sfc(_sfc_main$m,[["__scopeId","data-v-06e54957"]]),_hoisted_1$e=["innerHTML"],_sfc_main$l=defineComponent({__name:"index",setup(e){const{show:r,title:n,content:a}=useHelp();return(s,o)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(r)?(openBlock(),createBlock(unref(KDialog),{key:0,modelValue:unref(r),"onUpdate:modelValue":o[0]||(o[0]=l=>isRef(r)?r.value=l:null),width:"57rem","z-index":"var(--z-index-close-dialog)",title:unref(n)},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"content",innerHTML:unref(_setHighlight)(unref(a))},null,8,_hoisted_1$e),[[unref(vScrollVirtualization)]])]),_:1},8,["modelValue","title"])):createCommentVNode("",!0)]))}}),KHelp=_export_sfc(_sfc_main$l,[["__scopeId","data-v-80868f18"]]),_hoisted_1$d={class:"k-select-avatar"},_hoisted_2$a={class:"avatar-list"},_hoisted_3$5=["src","onClick"],_sfc_main$k=defineComponent({__name:"index",setup(e){const{show:r,confirmCallback:n}=useSelectAvatar(),a=ref(),s=async o=>{var i,c;const l=await _blobTextToBlobObject(o);(i=n.value)==null||i.call(n,l),(c=a.value)==null||c._close()};return(o,l)=>(openBlock(),createBlock(Teleport,{to:"body"},[unref(r)?(openBlock(),createBlock(unref(KDialog),{key:0,ref_key:"dialogRef",ref:a,modelValue:unref(r),"onUpdate:modelValue":l[0]||(l[0]=i=>isRef(r)?r.value=i:null),width:"70rem",ratio:.6,"z-index":"var(--z-index-close-dialog)",title:"选择头像"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$d,[withDirectives((openBlock(),createElementBlock("div",_hoisted_2$a,[(openBlock(),createElementBlock(Fragment,null,renderList(13,(i,c)=>withDirectives(createBaseVNode("img",{key:c,alt:"",class:"avatar",src:unref(_getHeroAvatarLink)(`avatar_${i}`),onClick:d=>s(unref(_getHeroAvatarLink)(`avatar_${i}`))},null,8,_hoisted_3$5),[[unref(vMouseTip)]])),64))])),[[unref(vScrollVirtualization)]])])]),_:1},8,["modelValue"])):createCommentVNode("",!0)]))}}),KSelectAvatar=_export_sfc(_sfc_main$k,[["__scopeId","data-v-6b5bb913"]]),_withScopeId$1=e=>(pushScopeId("data-v-88a75ceb"),e=e(),popScopeId(),e),_hoisted_1$c=_withScopeId$1(()=>createBaseVNode("br",null,null,-1)),_sfc_main$j=defineComponent({__name:"index",setup(e){const r=ref(!0),n=()=>{r.value=window.innerWidth*.75<window.innerHeight};return n(),window.addEventListener("resize",n),(a,s)=>(openBlock(),createBlock(Teleport,{to:"body"},[r.value?(openBlock(),createElementBlock("div",{key:0,class:"k-phone",onDblclick:s[0]||(s[0]=o=>r.value=!1)},[createTextVNode(" 暂未完全适配短屏及竖屏"),_hoisted_1$c,createTextVNode("敬请期待！ ")],32)):createCommentVNode("",!0)]))}}),KPhone=_export_sfc(_sfc_main$j,[["__scopeId","data-v-88a75ceb"]]),_sfc_main$i=defineComponent({__name:"index",setup(e){return window.addEventListener("mouseup",r=>{$bus.emit("mouseup",r)}),(r,n)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(KLoading),createVNode(KMessage),createVNode(KTip),createVNode(KConfirm),createVNode(KImageView),unref(_isPhone)?createCommentVNode("",!0):(openBlock(),createBlock(KMouseTip,{key:0})),createVNode(KInputDialog),createVNode(KFoucs),createVNode(KObtain),createVNode(KBuyProp),createVNode(KUpgrade),createVNode(KBatchProp),createVNode(KOptional),createVNode(KHeroDetail),createVNode(KHelp),createVNode(KSelectAvatar),(openBlock(),createBlock(Teleport,{to:"body"},[createVNode(YiBao,{type:"small"})])),createVNode(KPhone)],64))}}),_sfc_main$h=defineComponent({__name:"index",setup(e){const r=AuthStore(),{fps:n}=useGetFps(),{collapse:a}=useCollapse(),{width:s,height:o,browser_status:l,browser_name:i}=useDevice(),c=`${_browserV.version} ${l?"":"(版本较低，部分效果可能无法显示，建议更换浏览器)"}`;return ref(!1),(d,_)=>(openBlock(),createBlock(Teleport,{to:"body"},[createBaseVNode("div",{style:normalizeStyle({opacity:!unref(a)||!unref(r).user_status?1:0}),class:"water-mark"},[createBaseVNode("p",{class:normalizeClass({low:unref(n)<20})},toDisplayString(d.$t("帧率"))+"："+toDisplayString(unref(n)),3),createBaseVNode("p",{class:normalizeClass({low:!unref(l)})},toDisplayString(unref(i))+toDisplayString(d.$t("内核"))+"："+toDisplayString(c),3),createBaseVNode("p",null,toDisplayString(d.$t("屏幕尺寸"))+"："+toDisplayString(unref(s))+"*"+toDisplayString(unref(o)),1)],4)]))}}),WaterMark=_export_sfc(_sfc_main$h,[["__scopeId","data-v-d810af96"]]),_hoisted_1$b=["disabled"],_hoisted_2$9={class:"content"},_sfc_main$g=defineComponent({__name:"index",props:{type:{default:"info"},disabled:{type:Boolean}},setup(e){const r={info:"spirit_btn-info",error:"spirit_btn-error",warning:"spirit_btn-warning"};return(n,a)=>(openBlock(),createElementBlock("div",{disabled:n.disabled,class:normalizeClass([[n.type,{disabled:n.disabled},r[n.type]],"k-button"])},[createBaseVNode("div",_hoisted_2$9,[renderSlot(n.$slots,"default",{},()=>[createTextVNode("按钮")],!0)])],10,_hoisted_1$b))}}),KButton=_export_sfc(_sfc_main$g,[["__scopeId","data-v-a7e4c688"]]),_hoisted_1$a={class:"k-logo"},_hoisted_2$8=["src"],_hoisted_3$4=["src"],_sfc_main$f=defineComponent({__name:"index",props:{fast:{type:Boolean},stop:{type:Boolean}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("img",{src:unref(_getImgLink)("logo_inside"),alt:"",class:normalizeClass(["inside",{animate:!r.stop}]),style:normalizeStyle({animationDuration:`${r.fast?1:6}s!important`}),onDragstart:n[0]||(n[0]=withModifiers(()=>{},["prevent"]))},null,46,_hoisted_2$8),createBaseVNode("img",{src:unref(_getImgLink)("logo_outside"),alt:"",class:normalizeClass(["outside",{animate:!r.stop}]),style:normalizeStyle({animationDuration:`${r.fast?2:12}s!important`}),onDragstart:n[1]||(n[1]=withModifiers(()=>{},["prevent"]))},null,46,_hoisted_3$4)]))}}),KLogo=_export_sfc(_sfc_main$f,[["__scopeId","data-v-2c1c354a"]]),_sfc_main$e=defineComponent({__name:"index",props:mergeModels({text:{default:t("开启")}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=useModel(e,"modelValue"),{playAudio:n}=usePlayAudio(),a=computed(()=>r.value?"spirit_misc-select_true":"spirit_misc-select_false"),s=()=>{r.value=!r.value,n()};return(o,l)=>(openBlock(),createElementBlock("div",{class:"k-check",onClick:s},[createBaseVNode("div",{class:normalizeClass(["select",[a.value,{checked:r.value}]])},null,2),createBaseVNode("span",{class:normalizeClass({active:r.value})},toDisplayString(o.text),3)]))}}),_hoisted_1$9=["src"],_hoisted_2$7=["src"],_sfc_main$d=defineComponent({__name:"index",props:{width:{},white:{type:Boolean,default:!1}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["k-loading-icon",{white:r.white}]),style:normalizeStyle({width:r.width})},[createBaseVNode("img",{src:unref(_getImgLink)("logo_inside"),alt:"",class:"inside",onDragstart:n[0]||(n[0]=withModifiers(()=>{},["prevent"]))},null,40,_hoisted_1$9),createBaseVNode("img",{src:unref(_getImgLink)("logo_outside"),alt:"",class:"outside",onDragstart:n[1]||(n[1]=withModifiers(()=>{},["prevent"]))},null,40,_hoisted_2$7)],6))}}),KLoadingIcon=_export_sfc(_sfc_main$d,[["__scopeId","data-v-ad65ab00"]]),useDialogControl=e=>{const{playAudio:r}=usePlayAudio(),n={show_mask:ref(!0),show_dialog:ref(!0)},{show_mask:a,show_dialog:s}=n;return{...n,...{handleClose(){return new Promise(async l=>{r("pj83"),s.value=!1,await _promiseTimeout(500),a.value=!1,r("ba09"),await _promiseTimeout(500),e(),l()})}}}},_hoisted_1$8={key:0,class:"title"},_hoisted_2$6={key:1,class:"header"},_hoisted_3$3={key:"b",class:"slot"},_sfc_main$c=defineComponent({__name:"index",props:mergeModels({ratio:{default:.55},header:{},desc:{},showClose:{type:Boolean,default:!0},title:{},up:{type:Boolean},width:{default:"45rem"},autoClose:{type:Boolean,default:!0},audio:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},zIndex:{default:"var(--z-index-dialog)"},top:{default:"6rem"}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:mergeModels(["close","before-close"],["update:modelValue"]),setup(e,{expose:r,emit:n}){const a=e,s=n,o=useModel(e,"modelValue"),{playAudio:l}=usePlayAudio(),{show_dialog:i,show_mask:c,handleClose:d}=useDialogControl(()=>{a.autoClose&&s("close"),o.value=!1}),_=()=>{if(a.autoClose){s("before-close"),d();return}s("close")};return a.audio&&(a.up?l("e6b4"):l("u4c5")),r({_close:d}),(u,p)=>(openBlock(),createBlock(Transition,{name:"fade",appear:""},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{style:normalizeStyle({zIndex:u.zIndex}),class:"mask"},[createVNode(Transition,{name:u.up?"confirm":"default",appear:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"k-dialog",style:normalizeStyle({width:u.width,height:`calc(${u.width} * ${u.ratio})`,backgroundImage:`url(${unref(_getMiscLink)("dialog")})`})},[u.title?(openBlock(),createElementBlock("div",_hoisted_1$8,toDisplayString(u.title),1)):createCommentVNode("",!0),u.header?(openBlock(),createElementBlock("div",_hoisted_2$6,[createBaseVNode("span",null,toDisplayString(u.header),1),createBaseVNode("span",null,toDisplayString(u.desc),1)])):createCommentVNode("",!0),withDirectives(createBaseVNode("div",{class:"close",onClick:_},null,512),[[vShow,u.showClose],[unref(vMouseTip),{text:unref(MOUSE_TIP).sj91}]]),createBaseVNode("div",{class:"content",style:normalizeStyle({top:u.top})},[createVNode(TransitionGroup,{name:"fade"},{default:withCtx(()=>[u.loading?(openBlock(),createBlock(KLoadingIcon,{key:"a",width:"6.25rem"})):(openBlock(),createElementBlock("div",_hoisted_3$3,[renderSlot(u.$slots,"default",{},void 0,!0)]))]),_:3})],4)],4),[[vShow,unref(i)]])]),_:3},8,["name"])],4)),[[vShow,unref(c)],[unref(vMaskGradient),{color:"rgba(40, 100, 195, 0.5)",start:"0%",end:"50%"}]])]),_:3}))}}),KDialog=_export_sfc(_sfc_main$c,[["__scopeId","data-v-70dfb0dc"]]),_hoisted_1$7=["type","value","placeholder","maxlength"],_hoisted_2$5={key:0,class:"focus"},_hoisted_3$2={class:"border"},_hoisted_4$2={key:0,class:"tip"},_sfc_main$b=defineComponent({__name:"index",props:mergeModels({disabled:{type:Boolean},placeholder:{default:"请输入"},line:{type:Boolean},type:{default:"text"},min:{},max:{},required:{type:Boolean,default:!0},number:{type:Boolean},noSpecial:{type:Boolean,default:!1},validate:{type:Function,default:()=>""}},{modelValue:{default:""},modelModifiers:{}}),emits:mergeModels(["blur","focus"],["update:modelValue"]),setup(e,{emit:r}){const n=e,a=r,s=useModel(e,"modelValue"),{playAudio:o}=usePlayAudio(),l=ref(""),i=ref(!0),c=ref(!1),d=()=>{c.value=!0,a("focus"),o()},_=p=>{const f=p.target.value;c.value=!1,setTimeout(()=>{if(n.required&&f===""){l.value="必填项",i.value=!1;return}if(n.noSpecial&&!/^[\u4E00-\u9FA5A-Za-z0-9._]+$/.test(f)&&f!==""){l.value="不能含有特殊字符",i.value=!1;return}if(n.number&&!/^[0-9]*$/.test(f)){l.value="限制为数字",i.value=!1;return}if(n.min&&f.length<n.min){l.value=`至少${n.min}位`,i.value=!1;return}if(n.validate(f)){l.value=n.validate(f),i.value=!1;return}i.value=!0}),a("blur",f)},u=p=>{const f=p.target;n.max&&(f.value=f.value.slice(0,n.max)),s.value=f.value};return(p,f)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["k-input",{disabled:p.disabled}])},[createBaseVNode("input",{type:p.type,value:s.value,placeholder:p.placeholder,maxlength:p.max,onInput:u,onFocus:d,onBlur:_},null,40,_hoisted_1$7),createVNode(Transition,{name:"border"},{default:withCtx(()=>[p.line?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$5,null,512)),[[vShow,c.value]]):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"border"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_3$2,null,512),[[vShow,!i.value]])]),_:1}),createVNode(Transition,{name:"tip"},{default:withCtx(()=>[i.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$2,toDisplayString(l.value),1))]),_:1})],2))}}),KInput=_export_sfc(_sfc_main$b,[["__scopeId","data-v-32be59d5"]]),_sfc_main$a=defineComponent({__name:"index",props:{playing:{type:Boolean},duration:{default:5},width:{default:"100%"},height:{default:"100%"},loop:{type:Boolean,default:!1},align:{default:"center"}},setup(e){const r=ref(),n=ref(),a=ref(!0),s=ref(!1);return nextTick(()=>{a.value=n.value.offsetWidth>r.value.offsetWidth,s.value=!0}),(o,l)=>(openBlock(),createElementBlock("div",{ref_key:"marqueeRef",ref:r,class:normalizeClass(["k-marquee",{playing:o.playing}]),style:normalizeStyle({width:o.width,height:o.height})},[createBaseVNode("div",{ref_key:"moveBoxRef",ref:n,class:normalizeClass(["move-box",{playing:o.playing,static:!o.playing&&s.value}]),style:normalizeStyle({width:a.value?"fit-content":"100%",textAlign:o.align,animationDuration:o.duration+"s",animationIterationCount:o.loop?"infinite":"1"})},[renderSlot(o.$slots,"default",{},void 0,!0)],6)],6))}}),KMarquee=_export_sfc(_sfc_main$a,[["__scopeId","data-v-adcaf238"]]),_hoisted_1$6={class:"text"},_sfc_main$9=defineComponent({__name:"index",props:{finish:{type:Boolean},loading:{type:Boolean}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["k-load-more",{hide:!(r.loading||r.finish)}])},[createVNode(unref(KLogo),{fast:"",stop:r.finish},null,8,["stop"]),createBaseVNode("div",_hoisted_1$6,toDisplayString(r.finish?"暂无更多":"加载中..."),1)],2))}}),KLoadMore=_export_sfc(_sfc_main$9,[["__scopeId","data-v-1e38ba61"]]),_hoisted_1$5={class:"input"},_hoisted_2$4={key:0,class:"slider-value"},_hoisted_3$1={class:"field"},_hoisted_4$1={class:"dot"},_hoisted_5=["value","disabled","min","max","step"],_sfc_main$8=defineComponent({__name:"index",props:mergeModels({disabled:{type:Boolean,default:!1},width:{default:"100%"},maxWidth:{default:"20rem"},min:{default:0},max:{default:100},text:{default:""},size:{default:"2.1875rem"},trackColor:{default:"var(--theme-el-color-one)"},showDot:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},icon:{default:BASE_CONFIG.IMGBED+"/image/range_icon.png"},showNum:{type:Boolean,default:!0},step:{default:1},showStep:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=e,n=useModel(e,"modelValue"),{playAudio:a}=usePlayAudio(),s=ref(!1),o=computed(()=>{const _=r.max-r.min,u=(Number(n.value)-r.min)/(_/100);return`calc(${u}% + ${20/2}px - ${u/100*20}px)`}),l=_=>{const u=_.target.value;s.value=!0,n.value=parseFloat(u),a("za86")},i=()=>{s.value=!1},c=()=>{n.value>r.min&&(n.value-=r.step)},d=()=>{n.value<r.max&&(n.value+=r.step)};return(_,u)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["k-range",{disabled:_.disabled}]),style:normalizeStyle([{width:_.width,maxWidth:_.maxWidth},`--size:${_.size}`])},[_.showStep?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass([{disabled:n.value===_.min},"sub"]),onClick:c},null,2)),[[unref(vMouseTip),{disabled:n.value===_.min}]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_1$5,[_.showNum?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("span",{class:normalizeClass(["value",{"show-num":s.value}]),style:normalizeStyle({left:o.value})},toDisplayString(_.text||n.value),7)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",{class:"bar",style:normalizeStyle({width:o.value})},[withDirectives(createBaseVNode("div",_hoisted_4$1,null,512),[[vShow,_.showIcon&&_.showDot]]),withDirectives(createBaseVNode("span",{style:normalizeStyle({width:_.size,height:_.size})},null,4),[[vShow,_.showDot&&!_.showIcon]])],4),withDirectives(createBaseVNode("input",{value:n.value,disabled:_.disabled,type:"range",min:_.min,max:_.max,style:normalizeStyle({backgroundColor:_.trackColor}),step:_.step,onInput:l,onMouseup:i,onTouchend:i},null,44,_hoisted_5),[[unref(vMouseTip),{disabled:_.disabled}]])])]),_.showStep?withDirectives((openBlock(),createElementBlock("div",{key:1,class:normalizeClass([{disabled:n.value===_.max},"add"]),onClick:d},null,2)),[[unref(vMouseTip),{disabled:n.value===_.max}]]):createCommentVNode("",!0)],6))}}),KRange=_export_sfc(_sfc_main$8,[["__scopeId","data-v-924b9856"]]),_hoisted_1$4={class:"text"},_sfc_main$7=defineComponent({__name:"index",props:{tip:{},y:{default:"0"}},setup(e){return(r,n)=>(openBlock(),createElementBlock("div",{class:"k-empty",style:normalizeStyle({top:`calc(50% + ${r.y})`})},[createBaseVNode("div",{class:"icon",style:normalizeStyle({backgroundImage:`url(${unref(_getMiscLink)("warning")})`})},null,4),createBaseVNode("div",_hoisted_1$4,toDisplayString(r.tip),1)],4))}}),KEmpty=_export_sfc(_sfc_main$7,[["__scopeId","data-v-4c48aff4"]]),_hoisted_1$3={alt:""},_hoisted_2$3={key:0,class:"lines"},_sfc_main$6=defineComponent({__name:"index",props:{link:{},width:{},height:{},border:{type:Boolean,default:!0}},setup(e){const r=ref(!0),n=()=>{r.value=!1};return(a,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["k-loading-radiate",{border:a.border}]),style:normalizeStyle({width:a.width,height:a.height})},[withDirectives(createBaseVNode("img",_hoisted_1$3,null,512),[[unref(vLazyLoad),{link:a.link,finish:n}]]),r.value?(openBlock(),createElementBlock("div",_hoisted_2$3,[(openBlock(),createElementBlock(Fragment,null,renderList(12,(o,l)=>createBaseVNode("div",{key:l,class:"line",style:normalizeStyle(`--i: ${o}`)},null,4)),64))])):createCommentVNode("",!0)],6))}}),KLoadingRadiate=_export_sfc(_sfc_main$6,[["__scopeId","data-v-83184f1b"]]),_sfc_main$5=defineComponent({__name:"index",props:{text:{}},setup(e){return(r,n)=>(openBlock(),createBlock(TransitionGroup,{name:"fade-a"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.text.split(""),a=>(openBlock(),createElementBlock("span",{key:a,style:{display:"inline-block"}},toDisplayString(a),1))),128))]),_:1}))}}),_hoisted_1$2=["src"],_hoisted_2$2=["onClick"],_sfc_main$4=defineComponent({__name:"index",props:{options:{},line:{type:Boolean,default:!1},titleWidth:{default:"initial"},auto:{type:Boolean,default:!0}},emits:["tab"],setup(e,{emit:r}){const n=r,{playAudio:a}=usePlayAudio(),s=ref(),o=ref(0),l=ref(0),i=ref(0),c=d=>{if(!s.value)return;o.value=d,a("n4r4"),n("tab",d);const _=s.value.clientWidth,u=s.value.children[d+1],p=u.getBoundingClientRect().x,f=p-_/2+u.offsetWidth/2,v=u.offsetLeft-p+f;l.value=u.offsetLeft,i.value=u.offsetWidth,s.value.scroll({behavior:"smooth",left:v})};return onMounted(()=>{c(0)}),(d,_)=>(openBlock(),createElementBlock("div",{ref_key:"categoryRef",ref:s,class:normalizeClass(["k-category",{line:d.line}])},[createBaseVNode("img",{style:normalizeStyle({left:l.value+"px",width:i.value+"px"}),src:unref(_getMiscLink)("epigraph_active"),alt:""},null,12,_hoisted_1$2),(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(u,p)=>withDirectives((openBlock(),createElementBlock("div",{key:p,class:normalizeClass(["title",{active:o.value===p,auto:d.auto}]),style:normalizeStyle({width:d.titleWidth}),onClick:f=>c(p)},[createBaseVNode("span",null,toDisplayString(u),1)],14,_hoisted_2$2)),[[unref(vMouseTip)]])),128))],2))}}),KCategory=_export_sfc(_sfc_main$4,[["__scopeId","data-v-4372b765"]]),_sfc_main$3=defineComponent({__name:"index",props:mergeModels({exp:{default:0},size:{default:"1.875rem"}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=e,n=useModel(e,"modelValue"),a=ref(""),s=ref("");return watchEffect(()=>{n.value=_getExpLevel(r.exp),a.value=_getMiscLink(`exp_${_getExpLevel(r.exp)}`),nextTick(()=>{s.value=_getMiscLink(`exp_${_getExpLevel(r.exp)}`)})}),(o,l)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"hero-exp",alt:"",style:normalizeStyle({width:o.size,height:o.size,backgroundImage:`url(${s.value})`})},null,4),[[vShow,a.value===s.value]])]),_:1}))}}),KHeroExp=_export_sfc(_sfc_main$3,[["__scopeId","data-v-b267b7bb"]]),_withScopeId=e=>(pushScopeId("data-v-3ec237b3"),e=e(),popScopeId(),e),_hoisted_1$1=_withScopeId(()=>createBaseVNode("i",{class:"iconfont wzry-down"},null,-1)),_hoisted_2$1={class:"text"},_sfc_main$2=defineComponent({__name:"index",setup(e,{expose:r}){const n=ref(),a=_isPhone?"滑动下一页":"滚动下一页";return r({_el:n}),(s,o)=>(openBlock(),createElementBlock("div",{ref_key:"kScrollTipRef",ref:n,class:"k-scroll-tip"},[_hoisted_1$1,createBaseVNode("div",_hoisted_2$1,toDisplayString(unref(a)),1)],512))}}),KScrollTip=_export_sfc(_sfc_main$2,[["__scopeId","data-v-3ec237b3"]]),_hoisted_1={class:"select-filter"},_hoisted_2={class:"title"},_hoisted_3=["onClick","onMouseenter"],_hoisted_4={class:"item"},_sfc_main$1=defineComponent({__name:"index",props:{options:{},sortText:{},listHeight:{default:"initial"},minWidth:{default:"6.25rem"}},emits:["select"],setup(e,{emit:r}){const n=r,{playAudio:a}=usePlayAudio(),s=ref(-1),o=ref(!1),l=d=>()=>{o.value=d,d&&a("n4r4")},i=d=>{s.value=d},c=d=>{o.value=!1,s.value=d,n("select",d),a()};return(d,_)=>withDirectives((openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,toDisplayString(d.sortText),1),createBaseVNode("div",{class:normalizeClass([{"arrow-active":o.value},"arrow"])},null,2),createBaseVNode("div",{class:normalizeClass(["select-list",{unfold:!o.value}]),style:normalizeStyle({minWidth:d.minWidth,height:d.listHeight})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.options,(u,p)=>(openBlock(),createElementBlock("div",{key:u,class:normalizeClass(["box",{active:s.value===p||d.sortText===u}]),onClick:f=>c(p),onMouseenter:f=>i(p),onMouseleave:_[0]||(_[0]=f=>s.value=-1)},[createBaseVNode("div",_hoisted_4,toDisplayString(u),1)],42,_hoisted_3))),128))],6)])),[[unref(vMouseTip)],[unref(vClickOutside),{inset:l(!0),outside:l(!1)}]])}}),FilterTool=_export_sfc(_sfc_main$1,[["__scopeId","data-v-9761b491"]]),_sfc_main=defineComponent({__name:"App",setup(e){SettingStore().takeEffect(),VersionStore();const n=()=>{$loading.close()};return onMounted(_titleTip),(a,s)=>{const o=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createVNode(o,null,{default:withCtx(({Component:l})=>[createVNode(Transition,{name:"round-clip",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(l),{onVnodeMounted:n},null,512))]),_:2},1024)]),_:1}),createVNode(unref(_sfc_main$i)),createVNode(unref(WaterMark))],64)}}}),App=_export_sfc(_sfc_main,[["__scopeId","data-v-4997204a"]]),body=document.querySelector(".body");body.addEventListener("click",()=>{const e=createApp(App);setupStore(e),setupLanguage(e);const r=RouterStore(),n=localStorage.getItem(LOCAL_KEY.USER_DATA);if(n){const a=_decryption(n);r.addRoutes(a.role)}setupRouter(e),e.mount("#app")});(function(){const e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?2c84cd61316a5ce978ca513745ec7eaa";const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)})();export{$msgTipText as $,AuthStore as A,BASE_CONFIG as B,CONFIRM_TIP as C,useStaticResourceVersion as D,_getImgLink as E,_getVideoLink as F,_getHtmlLink as G,KButton as H,_getPropLink as I,GAME_PROP as J,KDialog as K,LOCAL_KEY as L,MESSAGE_TIP as M,Notice as N,useBarrages as O,_shuffleArray as P,_cloneDeep as Q,useCollapse as R,RouterStore as S,Team as T,KnapsackStore as U,_selectAvatarCompress as V,$selectAvatar as W,MarkerStore as X,_random as Y,_getMiniHeroLink as Z,_isPhone as _,_Parallax as a,getSkinNameList as a$,_formatSecondsToChinese as a0,_formatKilobitNumber as a1,_exportCard as a2,MusicStore as a3,SettingStore as a4,VersionStore as a5,KRange as a6,setLanguage as a7,useCssClassToggle as a8,$tip as a9,_exitFullScreen as aA,KLoadingIcon as aB,vTypewriterSingle as aC,GAME_CONFIG as aD,getHeroSkillListKvp as aE,getHeroList as aF,$mouseTipText as aG,_calculateProgress as aH,SCENE_TIP as aI,$focus as aJ,$loading as aK,HeroStore as aL,vMaskGradient as aM,KHeroExp as aN,useHaveHeroSkin as aO,FilterTool as aP,KInput as aQ,getTypeCampList as aR,usePagingLoad as aS,$heroDetail as aT,vAnimateNumber as aU,SkinStore as aV,_LoadMore as aW,KLoadMore as aX,AtlasStore as aY,$bus as aZ,getHeroNameList as a_,CUSTOM_TIP as aa,MailStore as ab,NAME as ac,ICON as ad,$obtain as ae,_getTimeAgo as af,KEmpty as ag,KCategory as ah,TaskStore as ai,_accumulate as aj,_decimal as ak,_getActivityBannerLink as al,$confirmText as am,ROUTE_PATH as an,router as ao,useSetMarker as ap,GUESS_COUNT_LIMIT as aq,getHeroNameKvp as ar,getSkinNameKvp as as,getSkinTypeKvp as at,getSkinImageKvp as au,getSkinHeroKvp as av,getSkinList$1 as aw,_formatSeconds as ax,_debounce as ay,_openFullScreen as az,_decryption as b,_search as b0,EquipStore as b1,KLoadingRadiate as b2,_sfc_main$5 as b3,EpigraphStore as b4,EpigraphCollocationStore as b5,_classNameInclude as b6,useResponsive as b7,$optional as b8,$upgrade as b9,$buyProp as bA,$batchProp as ba,_getNewDayTimestamp as bb,LOTTERY_STONE_WEEK_CARD_GRANT as bc,YibaoStore as bd,bigYiBaoBody as be,playAnimation as bf,jumpLeftJumpRightJumpBackRotateFront as bg,YiBao as bh,_getMinecraftLink as bi,YIBAO_PART as bj,PARTS_KEY_NAME as bk,PART_KEY_INFO as bl,_sfc_main$e as bm,LotteryStore as bn,LOTTERY_AWARD as bo,LOTTERY_CRYSTAL_INTERVAL as bp,LOTTERY_SUPPLY_LIMIT as bq,$help as br,HERO_LOTTERY_CHANCE as bs,SKIN_LOTTERY_CHANCE as bt,SupplyStore as bu,_getSupplyColor as bv,KingCrystalStore as bw,getSkinList as bx,HeroDebrisStore as by,SkinDebrisStore as bz,$message as c,debounce_1 as d,_timeGreet as e,$input as f,_blobTextToBlobObject as g,_getMiscLink as h,isObject_1 as i,gBase64 as j,$confirm as k,usePlayAudio as l,userInfoDefault as m,vMouseTip as n,MOUSE_TIP as o,vDebounceClick as p,_export_sfc as q,_retryRequest as r,vScrollVirtualization as s,vBlurLoad as t,useDevice as u,vParticleEffect as v,$imageView as w,useGetData as x,useGetZip as y,_promiseTimeout as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./wzry-index-yH3JBouv.js","./wzry-wzry_vue-ZP7q88Pe.js","./wzry-wzry_lodash-4gQjN7DL.js","./wzry-wzry_dayjs-p57Mk9r_.js","./wzry-index-NWBRcILs.js","./wzry-wzry_axios-wVsZAsRs.js","./wzry-wzry_vuePlugin-8reJzXjy.js","./wzry-wzry_i18n-x0daaVag.js","../css/wzry-index-_TXtVfmI.css","./wzry-NotPermissions-lEQQEYFL.js","../css/wzry-NotPermissions-2KH3Fo4N.css","./wzry-NotFound-Ii7_SEaT.js","../css/wzry-NotFound-dVnVWgDh.css","./wzry-NotVersion-g5mdX5yS.js","../css/wzry-NotVersion-gqgZuJe0.css","./wzry-index-g7NPOID5.js","./wzry-index.vue_vue_type_script_setup_true_lang-r4mYK3OY.js","./wzry-index-qtpfoFUJ.js","./wzry-useDialogSwitch-RV-5qUNa.js","./wzry-index-IyIFNvic.js","./wzry-index-XCxOg5OP.js","../css/wzry-index-acsQU9lZ.css","./wzry-index-366x12Om.js","./wzry-sweep-light-5lryGx6M.js","./wzry-index-JMl6VVSm.js","./wzry-index-jh5mX5FK.js","./wzry-index-2j2SS27Y.js","../css/wzry-index-GO0BO7B-.css","../css/wzry-index-D8761iyp.css","./wzry-index-KFeCClmk.js","../css/wzry-index-N8siw9br.css","./wzry-index-mEEfid9q.js","../css/wzry-index-2lhLo__a.css","./wzry-index-63desfVj.js","../css/wzry-index-lsGjlJ5o.css","./wzry-index-0dNDDX0p.js","../css/wzry-index-1F7_Uyrw.css","./wzry-index-d_XxFfet.js","../css/wzry-index-FulalUYv.css","./wzry-index-pAc89EA2.js","../css/wzry-index-CGkPe_s4.css","./wzry-index-ahFaAktE.js","./wzry-useLotteryPlay-XQ834vog.js","../css/wzry-useLotteryPlay-DCa2cheU.css","../css/wzry-index-Juf7Ahz1.css","./wzry-index-9f0UBBIb.js","../css/wzry-index-XLk018rO.css","./wzry-index-XfltiZH3.js","../css/wzry-index-gpiDjp74.css","./wzry-index-HDbsKn2H.js","../css/wzry-index-7fizCa48.css","./wzry-index-LfaBoe06.js","../css/wzry-index-4OUT--32.css","./wzry-index-uDvzQKiY.js","../css/wzry-index-hL56t8qU.css","./wzry-index-04PBVTcT.js","../css/wzry-index-p7FiKOgZ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
